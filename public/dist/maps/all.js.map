{"version":3,"sources":["app.js","controllers/calendarCtrl.js","controllers/chartCtrl.js","controllers/gradesCrtl.js","controllers/homeCtrl.js","controllers/loginCtrl.js","controllers/mainCtrl.js","lib/Chart.js","lib/angular-chart.js","services/mainSvc.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","controller","resolve","users","mainSvc","$state","getUser","then","response","event","preventDefault","go","$scope","$compile","uiCalendarConfig","showModal","uiConfig","calendar","height","defaultView","editable","selectable","header","left","center","right","eventClick","alertEventOnClick","eventDrop","alertOnDrop","eventResize","alertOnResize","eventRender","date","Date","d","getDate","m","getMonth","y","getFullYear","events","addEvent","console","log","push","data","eventsF","start","end","timezone","callback","s","getTime","e","title","allDay","className","alertOnEventClick","jsEvent","view","alertMessage","delta","revertFunc","ui","addRemoveEventSource","sources","source","canAdd","forEach","value","key","splice","start_time","color","description","notes","end_time","startTime","moment","format","endTime","extraEventSignature","price","remove","index","changeView","calendars","fullCalendar","renderCalender","element","attr","eventSources","eventSource","getGrades","res","grades","gradeNum","names","name","grade","labels","series","onClick","points","evt","datasetOverride","yAxisID","options","scales","yAxes","id","type","display","position","taskInput","document","getElementById","addButton","getElementsByTagName","incompleteTasksHolder","completedTasksHolder","createNewTaskElement","taskString","listItem","createElement","checkBox","label","editInput","editButton","deleteButton","innerText","appendChild","addTask","bindTaskEvents","taskCompleted","editTask","parentNode","querySelector","containsClass","classList","contains","toggle","deleteTask","ul","removeChild","taskIncomplete","taskListItem","checkBoxEventHandler","onclick","onchange","ajaxRequest","addEventListener","i","children","length","post","postGrades","modal","btn","span","getElementsByClassName","style","f","exports","define","amd","g","window","global","self","Chart","t","n","r","o","u","a","require","Error","code","l","call","colorNames","getRgba","getHsla","getRgb","getHsl","getHwb","getAlpha","hexString","rgbString","rgbaString","percentString","percentaString","hslString","hslaString","hwbString","keyword","string","abbr","hex","rgba","per","rgb","match","parseInt","slice","parseFloat","Math","round","scale","hsl","alpha","h","isNaN","hwb","w","b","hsla","vals","hexDouble","undefined","reverseNames","num","min","max","str","toString","toUpperCase","convert","Color","obj","values","hsv","cmyk","setValues","red","lightness","v","whiteness","c","cyan","JSON","stringify","prototype","setSpace","arguments","rgbArray","hslArray","hsvArray","hwbArray","concat","cmykArray","rgbaArray","hslaArray","val","setChannel","green","blue","hue","saturation","saturationv","blackness","magenta","yellow","black","rgbNumber","luminosity","lum","chan","pow","contrast","color2","lum1","lum2","level","contrastRatio","dark","yiq","light","negate","lighten","ratio","darken","saturate","desaturate","whiten","blacken","greyscale","clearer","opaquer","rotate","degrees","mix","mixinColor","weight","color1","p","w1","w2","toJSON","clone","result","target","prop","hasOwnProperty","error","spaces","maxes","getValues","space","charAt","chans","capped","sname","args","Array","svalues","rgb2hsl","rgb2hsv","rgb2hwb","rgb2cmyk","rgb2keyword","rgb2xyz","rgb2lab","rgb2lch","hsl2rgb","hsl2hsv","hsl2hwb","hsl2cmyk","hsl2keyword","hsv2rgb","hsv2hsl","hsv2hwb","hsv2cmyk","hsv2keyword","hwb2rgb","hwb2hsl","hwb2hsv","hwb2cmyk","hwb2keyword","cmyk2rgb","cmyk2hsl","cmyk2hsv","cmyk2hwb","cmyk2keyword","keyword2rgb","keyword2hsl","keyword2hsv","keyword2hwb","keyword2cmyk","keyword2lab","keyword2xyz","xyz2rgb","xyz2lab","xyz2lch","lab2xyz","lab2rgb","lab2lch","lch2lab","lch2xyz","lch2rgb","k","reverseKeywords","x","z","xyz","t1","t2","t3","sv","hi","floor","q","sl","wh","bl","lab","y2","hr","atan2","PI","sqrt","lch","cos","sin","cssKeywords","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellowgreen","conversions","Converter","func","arg","pair","exec","from","to","convs","routeSpace","fspace","Bar","context","Bubble","Doughnut","Line","PolarArea","Radar","helpers","configMerge","aspectRatio","defaultConfig","hover","mode","xAxes","tooltips","callbacks","tooltipItem","xLabel","yLabel","defaults","scatter","controllers","line","Scatter","bar","categoryPercentage","barPercentage","gridLines","offsetGridLines","DatasetController","extend","dataElementType","elements","Rectangle","initialize","chart","datasetIndex","getMeta","getBarCount","me","barCount","each","datasets","dataset","meta","getDatasetMeta","isDatasetVisible","update","reset","rectangle","updateElement","xScale","getScaleForId","xAxisID","yScale","scaleBase","getBasePixel","rectangleElementOptions","custom","getDataset","_xScale","_yScale","_datasetIndex","_index","_model","calculateBarX","calculateBarY","datasetLabel","base","calculateBarBase","width","calculateBarWidth","backgroundColor","getValueAtIndexOrDefault","borderSkipped","borderColor","borderWidth","pivot","stacked","Number","currentDs","currentDsMeta","currentVal","getPixelForValue","getRuler","datasetCount","tickWidth","getPixelForTick","ticks","categoryWidth","categorySpacing","fullBarWidth","perc","barWidth","barSpacing","barThickness","ruler","getBarIndex","barIndex","j","leftTick","isCombo","sumPos","sumNeg","ds","dsMeta","stackedVal","draw","ease","easingDecimal","transition","setHoverStyle","model","hoverBackgroundColor","getHoverColor","hoverBorderColor","hoverBorderWidth","removeHoverStyle","horizontalBar","tooltipItems","calculateBarHeight","ctx","_chart","vm","_view","halfHeight","topY","bottomY","halfStroke","beginPath","fillStyle","strokeStyle","lineWidth","corners","borders","startCorner","indexOf","cornerAt","cornerIndex","moveTo","apply","lineTo","fill","stroke","inRange","mouseX","mouseY","tickHeight","categoryHeight","fullBarHeight","barHeight","topTick","bubble","dataPoint","Point","point","pointElementOptions","dsIndex","getPixelForDecimal","NaN","radius","getRadius","hitRadius","skip","hoverRadius","dataVal","doughnut","animation","animateRotate","animateScale","legendCallback","text","join","legend","generateLabels","map","arc","arcOpts","bw","hidden","legendItem","ilen","cutoutPercentage","rotation","circumference","pie","Arc","linkScales","noop","getRingIndex","ringIndex","chartArea","opts","availableWidth","availableHeight","bottom","top","minSize","offset","startAngle","endAngle","contains0","contains90","contains180","contains270","cutout","size","getMaxBorderWidth","outerRadius","innerRadius","radiusLength","getVisibleDatasetCount","offsetX","offsetY","total","calculateTotal","animationOpts","centerX","centerY","calculateCircumference","valueAtIndexOrDefault","abs","hoverWidth","showLines","spanGaps","lineEnabled","getValueOrDefault","showLine","datasetElementType","addElementAndReset","tension","updateBezierControlPoints","lineElementOptions","lineTension","_scale","_children","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","steppedLine","stepped","cubicInterpolationMode","scaleTop","scaleBottom","scaleZero","getPointBackgroundColor","pointBackgroundColor","getPointBorderColor","pointBorderColor","getPointBorderWidth","pointBorderWidth","pointOptions","includeOffset","pointRadius","pointHitRadius","calculatePointY","pointStyle","stackedRightValue","getRightValue","rightValue","area","controlPoints","filter","pt","capControlPoint","splineCurveMonotone","splineCurve","previousItem","nextItem","controlPointPreviousX","previous","controlPointPreviousY","controlPointNextX","next","controlPointNextY","capBezierPoints","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","polarArea","lineArc","beginAtZero","count","countVisibleElements","xCenter","yCenter","visibleCount","datasetStartAngle","distance","getDistanceFromCenterForValue","resetRadius","radar","_loop","getBasePosition","pointPosition","getPointPositionForValue","duration","easing","onProgress","onComplete","Animation","Element","currentStep","numSteps","render","onAnimationProgress","onAnimationComplete","animationService","frameDuration","animations","dropFrames","request","addAnimation","chartInstance","animationObject","lazy","animating","requestAnimationFrame","cancelAnimation","findIndex","animationWrapper","requestAnimFrame","startDigest","now","framesToDrop","canvasHelpers","drawPoint","edgeLength","xOffset","yOffset","drawImage","closePath","SQRT2","fillRect","strokeRect","types","instances","Controller","instance","uid","Object","defineProperty","get","responsive","resize","plugins","notify","bindEvents","ensureScalesHaveIDs","buildOrUpdateControllers","buildScales","updateLayout","resetElements","initToolTip","clear","stop","silent","canvas","newWidth","getMaximumWidth","newHeight","maintainAspectRatio","isFinite","getMaximumHeight","sizeChanged","retinaScale","newSize","onResize","responsiveAnimationDuration","scalesOptions","scaleOptions","xAxisOptions","yAxisOptions","items","dtype","isDefault","item","scaleType","scaleClass","scaleService","getScaleConstructor","addScalesToLayout","layoutService","newControllers","updateIndex","animationDuration","tooltip","_data","buildOrUpdateElements","updateDatasets","animationOptions","easingFunction","easingEffects","stepDecimal","easeDecimal","boxes","box","getElementAtEvent","eventPosition","getRelativePosition","elementsArray","getElementsAtEvent","found","getElementsAtXAxis","inLabelRange","it","getElementsAtEventForMode","getDatasetAtEvent","_meta","generateLegend","destroy","unbindEvents","removeResizeListener","originalDevicePixelRatio","originalCanvasStyleWidth","originalCanvasStyleHeight","toBase64Image","toDataURL","Tooltip","_chartInstance","_options","eventHandler","updateHoverStyle","enabled","method","hoverOptions","tooltipsOptions","lastActive","lastTooltipActive","active","tooltipActive","onHover","handleEvent","_active","arrayEquals","addElements","scaleID","createMetaDataset","createMetaData","metaData","md","numData","numMetaData","elementOpts","valueOrDefault","inherits","configuration","_start","err","startVal","tooltipPosition","hasValue","isNumber","loopable","reverse","len","isArray","keys","objClone","setFn","_base","extension","scaleMerge","getScaleDefaults","baseArray","valueObj","axisType","axisDefaults","defaultValue","array","where","collection","filterCallback","filtered","scope","findNextWhere","arrayToSearch","startIndex","currentItem","findPreviousWhere","extensions","ChartElement","constructor","Surrogate","__super__","almostEquals","epsilon","reduce","NEGATIVE_INFINITY","POSITIVE_INFINITY","sign","log10","LN10","toRadians","toDegrees","radians","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","aliasPixel","pixelWidth","firstPoint","middlePoint","afterPoint","current","d01","d12","s01","s12","fa","fb","EPSILON","pointsWithTangents","deltaK","mK","pointsLen","pointBefore","pointCurrent","pointAfter","alphaK","betaK","tauK","squaredMagnitude","deltaX","loop","niceNum","range","exponent","fraction","niceFraction","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","cancelAnimFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","originalEvent","currentTarget","srcElement","boundingRect","getBoundingClientRect","touches","clientX","clientY","paddingLeft","getStyle","paddingTop","paddingRight","paddingBottom","currentDevicePixelRatio","node","eventType","attachEvent","removeEvent","handler","removeEventListener","detachEvent","arrayOfEvents","eventName","parseMaxStyle","styleValue","parentProperty","valueInPixels","isConstrainedValue","getConstraintDimension","domNode","maxStyle","percentageProperty","constrainedNode","getComputedStyle","constrainedContainer","hasCNode","hasCContainer","infinity","getConstraintWidth","getConstraintHeight","container","clientWidth","cw","clientHeight","ch","el","property","currentStyle","getPropertyValue","pixelRatio","devicePixelRatio","clearRect","fontString","pixelSize","fontStyle","fontFamily","longestText","font","arrayOfThings","cache","gc","garbageCollect","longest","thing","measureText","nestedThing","gcLen","textWidth","numberOfLabelLines","numberOfLines","drawRoundedRectangle","quadraticCurveTo","CanvasGradient","defaultColor","addResizeListener","hiddenIframe","hiddenIframeClass","classlist","add","setAttribute","tabIndex","border","margin","insertBefore","firstChild","contentWindow","onresize","a0","a1","v0","v1","callCallback","fn","_tArg","colorValue","CanvasPattern","getContext","defaultFontColor","defaultFontFamily","defaultFontSize","defaultFontStyle","addBox","removeBox","xPadding","yPadding","leftBoxes","rightBoxes","topBoxes","bottomBoxes","chartAreaBoxes","sort","fullWidth","chartWidth","chartHeight","chartAreaWidth","chartAreaHeight","verticalBoxWidth","horizontalBoxHeight","maxChartAreaWidth","maxChartAreaHeight","minBoxSizes","getMinimumBoxSize","isHorizontal","horizontal","totalLeftBoxesWidth","totalRightBoxesWidth","totalTopBoxesHeight","totalBottomBoxesHeight","fitBox","minBoxSize","minBox","scaleMargin","finalFitVerticalBox","newMaxChartAreaHeight","newMaxChartAreaWidth","placeBox","ci","boxWidth","padding","lineCap","lineDash","lineDashOffset","lineJoin","Legend","legendHitBoxes","doughnutMode","beforeUpdate","maxWidth","maxHeight","margins","beforeSetDimensions","setDimensions","afterSetDimensions","beforeBuildLabels","buildLabels","afterBuildLabels","beforeFit","fit","afterFit","afterUpdate","legendItems","labelOpts","globalDefault","itemOrDefault","fontSize","labelFont","hitboxes","lineWidths","totalHeight","textAlign","textBaseline","usePointStyle","vPadding","columnWidths","totalWidth","currentColWidth","currentColHeight","itemHeight","itemWidth","lineDefault","legendWidth","cursor","fontColor","drawLegendBox","save","isLineWidthZero","setLineDash","offSet","restore","fillText","lh","hitBox","register","beforeInit","legendOpts","_plugins","plugin","unregister","idx","getAll","PluginBase","afterInit","beforeDraw","afterDraw","pluginService","drawBorder","drawOnChartArea","drawTicks","tickMarkLength","zeroLineWidth","zeroLineColor","scaleLabel","labelString","minRotation","maxRotation","mirror","autoSkip","autoSkipPadding","labelOffset","Scale","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","beforeTickToLabelConversion","convertTicksToLabels","afterTickToLabelConversion","beforeCalculateTickRotation","calculateTickRotation","afterCalculateTickRotation","numericalTick","userCallback","globalDefaults","optionTicks","tickFontSize","tickFontStyle","tickFontFamily","tickLabelFont","firstWidth","lastWidth","firstRotated","labelRotation","longestTextCache","originalLabelWidth","labelWidth","cosRotation","sinRotation","yLabelWidth","tickOpts","scaleLabelOpts","gridLineOpts","scaleLabelFontSize","isFullWidth","largestTextWidth","tallestLabelHeightInLines","lineSpace","longestLabelWidth","labelHeight","firstLabelWidth","lastLabelWidth","maxLabelWidth","rawValue","isValid","getLabelForIndex","getValueForPixel","innerWidth","pixel","finalVal","innerHeight","decimal","valueOffset","isRotated","skipRatio","useAutoskipper","maxTicks","maxTicksLimit","tickFontColor","tl","scaleLabelFontColor","scaleLabelFontStyle","scaleLabelFontFamily","scaleLabelFont","labelRotationRadians","longestRotatedLabel","itemsToDraw","xTickStart","xTickEnd","yTickStart","yTickEnd","isLastTick","shouldSkip","lineColor","zeroLineIndex","tx1","ty1","tx2","ty2","x1","y1","x2","labelX","labelY","xLineValue","yLineValue","glWidth","glColor","glBorderDash","glBorderDashOffset","itemToDraw","translate","scaleLabelX","scaleLabelY","isLeft","constructors","registerScaleType","scaleConstructor","updateScaleDefaults","additions","Title","chartOpts","pos","titleFont","titleX","titleY","titleOpts","titleBlock","titleFontStyle","titleSpacing","titleMarginBottom","titleFontColor","titleAlign","bodySpacing","bodyFontColor","bodyAlign","footerFontStyle","footerSpacing","footerMarginTop","footerFontColor","footerAlign","yAlign","xAlign","caretSize","cornerRadius","multiKeyBackground","beforeTitle","labelCount","afterTitle","beforeBody","beforeLabel","labelColor","activeElement","afterLabel","afterBody","beforeFooter","footer","afterFooter","pushOrConcat","toPush","getAveragePosition","xPositions","yPositions","createTooltipItem","tooltipOpts","_bodyFontFamily","bodyFontFamily","_bodyFontStyle","bodyFontStyle","_bodyAlign","bodyFontSize","_titleFontFamily","titleFontFamily","_titleFontStyle","titleFontSize","_titleAlign","_footerFontFamily","footerFontFamily","_footerFontStyle","footerFontSize","_footerAlign","opacity","legendColorBackground","getTitle","lines","getBeforeBody","getBody","bodyItems","bodyItem","before","after","getAfterBody","getFooter","changed","labelColors","itemSort","body","caretPadding","tooltipSize","getTooltipSize","determineAlignment","getBackgroundPoint","combinedBodyLength","titleLineCount","footerLineCount","widthPadding","maxLineWidth","lf","rf","olf","orf","yf","midX","midY","paddingAndSize","radiusAndPadding","drawCaret","tooltipPoint","x3","y3","ptX","ptY","bgColor","drawTitle","drawBody","textColor","xLinePadding","fillLineOfText","drawColorBoxes","drawFooter","globalOpts","chartX","chartY","pointRelativePosition","betweenAngles","withinRadius","centreAngle","rangeFromCentre","sA","eA","lineToPoint","previousPoint","pointVM","bezierCurveTo","lastDrawnIndex","currentVM","globalOptionLineElements","halfWidth","leftX","rightX","DatasetScale","getLabels","xLabels","yLabels","minIndex","maxIndex","offsetAmt","valueWidth","widthOffset","valueHeight","heightOffset","horz","innerDimension","valueDimension","tickValue","logDelta","tickString","numDecimal","toFixed","LinearScale","LinearScaleBase","IDMatches","valuesPerType","positiveValues","negativeValues","relativePoints","valuesForType","minVal","maxVal","handleTickRangeOptions","getTickLimit","ceil","handleDirectionalChanges","ticksAsNumbers","minSign","maxSign","suggestedMin","suggestedMax","spacing","fixedStepSizeSet","fixedStepSize","stepSize","niceRange","niceMin","niceMax","numSpaces","arr","remain","toExponential","LogarithmicScale","minNotZero","tickVal","exp","significand","lastTick","tickValues","newVal","animate","angleLines","showLabelBackdrop","backdropColor","backdropPaddingY","backdropPaddingX","pointLabels","LinearRadialScale","getValueCount","drawingArea","pointLabelFontSize","pointLabeFontStyle","pointLabeFontFamily","pointLabeFont","largestPossibleRadius","halfTextWidth","furthestRight","furthestRightIndex","furthestRightAngle","furthestLeft","furthestLeftIndex","furthestLeftAngle","xProtrusionLeft","xProtrusionRight","radiusReductionRight","radiusReductionLeft","getPointPosition","angleRadians","getIndexAngle","setCenterPoint","leftMovement","rightMovement","maxRight","maxLeft","angleMultiplier","startAngleRadians","scalingFactor","distanceFromCenter","thisAngle","angleLineOpts","pointLabelOpts","yCenterOffset","yHeight","outerDistance","outerPosition","pointLabelPosition","pointLabelFontColor","time","units","steps","maxStep","parser","unit","displayFormat","isoWeekday","minUnit","displayFormats","millisecond","second","minute","hour","day","week","month","quarter","year","TimeScale","getLabelMoment","labelMoments","getLabelDiff","labelDiffs","buildLabelDiffs","getMomentStartOf","tick","startOf","tickUnit","scaleLabelMoments","labelMoment","parseTime","firstTick","momentsForDataset","datasetVisible","scaleLabelDiffs","diff","diffsForDataset","unitScale","scaleSizeInUnits","unitStepSize","tempFirstLabel","tickFormatFunction","tickLabelWidth","labelCapacity","unitDefinitionIndex","unitDefinition","leadingUnitBuffer","trailingUnitBuffer","roundedStart","roundedEnd","newTick","tooltipFormat","formattedTick","tickMoments","asSeconds","warn","factory","multiTooltipTemplate","colors","useExcanvas","G_vmlCanvasManager","initElement","provider","ChartJsProvider","ChartJsFactory","directive","ChartJs","getOptions","typeOptions","setOptions","customOptions","merge","$get","$timeout","restrict","chartGetColor","chartType","chartData","chartLabels","chartOptions","chartSeries","chartColors","chartClick","chartHover","chartDatasetOverride","link","elem","$watch","watchData","watchOther","watchType","$on","destroyChart","oldVal","canUpdateChart","updateChart","createChart","isEmpty","equals","getChartOptions","hasData","canDisplay","cvs","getChartColorFn","getChartData","$emit","every","sum","carry","getEventHandler","action","triggerOnlyOnChange","lastState","atEvent","getPointAtEvent","atEvents","getPointsAtEvent","getColors","copy","notEnoughColors","convertColor","getColor","rgbStringToRgb","hexToRgb","substr","getRandomColor","getRandomInt","random","bigint","split","getDataSets","getData","onmousemove","service","$http","getauth0","recieveEvent","catch"],"mappings":"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","file":"../all.js","sourcesContent":["angular.module(\"app\", ([\"ui.router\", \"ui.calendar\", 'ui.bootstrap', 'chart.js'])).config(function ($stateProvider, $urlRouterProvider) {\n\n    $urlRouterProvider.otherwise('/');\n\n    $stateProvider\n        .state(\"home\", {\n            url: \"/\",\n            templateUrl: \"./app/views/home.html\",\n            controller: \"homeCtrl\"\n        })\n        .state(\"calendar\", {\n                url: \"/calendar\",\n                templateUrl: \"./app/views/calendar.html\",\n                controller: \"calendarCtrl\",\n                resolve: {\n                    users: function (mainSvc, $state) {\n\n                        mainSvc.getUser().then(response => { \n                            if (!response) {\n                                event.preventDefault()\n                                $state.go(\"home\")\n                            }\n                        })\n                    }\n                }\n\n            }\n\n        )\n        .state(\"grades\", {\n            url: \"/grades\",\n            templateUrl: \"./app/views/grades.html\",\n            controller: \"gradesCtrl\",\n            resolve: {\n                    users: function (mainSvc, $state) {\n\n                        mainSvc.getUser().then(response => { \n                            if (!response) {\n                                event.preventDefault()\n                                $state.go(\"home\")\n                            }\n                        })\n                    }\n                }\n        })\n        .state(\"login\", {\n            url: \"/login\",\n            templateUrl: \"./app/views/login.html\",\n            controller: \"loginCtrl\",\n            resolve: {\n                    users: function (mainSvc, $state) {\n\n                        mainSvc.getUser().then(response => { \n                            if (!response) {\n                                event.preventDefault()\n                                $state.go(\"home\")\n                            }\n                        })\n                    }\n                }\n        })\n        .state(\"chart\", {\n            url: \"/chart\",\n            templateUrl: \"./app/views/chart.html\",\n            resolve: {\n                    users: function (mainSvc, $state) {\n\n                        mainSvc.getUser().then(response => { \n                            if (!response) {\n                                event.preventDefault()\n                                $state.go(\"home\")\n                            }\n                        })\n                    }\n                }\n        })\n\n})","angular.module(\"app\").controller(\"calendarCtrl\", function ($scope, users, $compile, uiCalendarConfig, mainSvc) {\n \n $scope.showModal = false\n\n   $scope.uiConfig = {\n    calendar: {\n      height: 800,\n      defaultView: \"agendaWeek\",\n      editable: true,\n      selectable: true,\n      header: {\n        left: 'today prev,next',\n        center: 'title',\n        right: 'month, agendaWeek agendaDay'\n      },\n      eventClick: $scope.alertEventOnClick,\n      eventDrop: $scope.alertOnDrop,\n      eventResize: $scope.alertOnResize,\n      eventRender: $scope.eventRender\n\n    }\n  };\n\n  var date = new Date();\n  var d = date.getDate();\n  var m = date.getMonth();\n  var y = date.getFullYear();\n// The Events that Show on calendar\n  $scope.events = [];\n\n   $scope.addEvent = () =>{\n     mainSvc.addEvent().then(response => {\n         console.log(response)\n        $scope.events.push(response.data.events[0])//push the res back to events!\n     })\n   }\n  //  $scope.getEvents = (event) => {\n  //    mainSvc.getEvents().then((response) => {\n  //      $scope.events = response\n  //      console.log(response)\n  //    })\n  //  }\n   $scope.addEvent()\n\n\n  \n\n\n\n  /* event source that calls a function on every view switch */\n   $scope.eventsF = function (start, end, timezone, callback) {\n     var s = new Date(start).getTime() / 1000;\n     var e = new Date(end).getTime() / 1000;\n     var m = new Date(start).getMonth();\n      var events = [{\n       title: 'Feed Me ' + m,\n       start: s + (50000),\n        end: s + (100000),\n        allDay: false,\n       className: ['customFeed']\n     }];\n     callback(events);\n   };\n\n  \n  \n  /* alert on eventClick */\n  $scope.alertOnEventClick = function (date, jsEvent, view) {\n    $scope.alertMessage = (date.title + ' was clicked ');\n  };\n  /* alert on Drop */\n  $scope.alertOnDrop = function (event, delta, revertFunc, jsEvent, ui, view) {\n    $scope.alertMessage = ('Event Droped to make dayDelta ' + delta);\n  };\n  /* alert on Resize */\n  $scope.alertOnResize = function (event, delta, revertFunc, jsEvent, ui, view) {\n    $scope.alertMessage = ('Event Resized to make dayDelta ' + delta);\n  };\n  /* add and removes an event source of choice */\n  $scope.addRemoveEventSource = function (sources, source) {\n    var canAdd = 0;\n    angular.forEach(sources, function (value, key) {\n      if (sources[key] === source) {\n        sources.splice(key, 1);\n        canAdd = 1;\n      }\n    });\n    if (canAdd === 0) {\n      sources.push(source);\n    }\n  };\n  /* add custom event*/\n  $scope.addEvent = function (event) {\n    console.log(\"Entered Start: \", event.start_time)\n      mainSvc.addEvent(event).then(response => {\n        const {title, color, description, notes, start_time, end_time} = response.data[0]\n\n        let startTime = moment(start_time).format()\n        let endTime = moment(end_time).format()\n\n        \n        $scope.events.push({\n          title: title,\n          start: startTime,\n          end: endTime,\n          color: color\n        })\n\n        // $scope.events.push({\n        //   title: title,\n        //   color: color,\n        //   description: description,\n        //   notes: notes,\n        //   startTime: start_time,\n        //   endTime: end_time,\n        //   });\n      })\n  \n  }\n      \n  \n\n  //     mainSvc.recieveEvent().then((response) => {\n  //   $scope.event = response\n  //     console.log(event)\n  // });\n\n  // $scope.eventsWatcher.onAdded = function (event) {\n  //    if (calendar && calendar.fullCalendar) {\n  //         calendar.fullCalendar('renderEvent', event, true);\n  //    }\n  // };\n\n  $scope.extraEventSignature = function (event) {\n    return \"\" + event.price;\n  }\n  /* remove event */\n  $scope.remove = function (index) {\n    $scope.events.splice(index, 1);\n  };\n  /* Change View */\n  $scope.changeView = function (view, calendar) {\n    uiCalendarConfig.calendars[calendar].fullCalendar('changeView', view);\n  };\n\n  /* Change View */\n  $scope.renderCalender = function (calendar) {\n    if (uiCalendarConfig.calendars[calendar]) {\n      uiCalendarConfig.calendars[calendar].fullCalendar('render');\n    }\n  };\n  /* Render Tooltip */\n  $scope.eventRender = function (event, element, view) {\n    element.attr({\n      'tooltip': event.title,\n      'tooltip-append-to-body': true\n    });\n    $compile(element)($scope);\n  };\n\n  \n\n\n \n  /* event sources array*/\n  $scope.eventSources = [$scope.events, $scope.eventSource, $scope.eventsF];\n  // $scope.eventSources2 = [$scope.calEventsExt, $scope.eventsF, $scope.events];\n\n \n\n  \n\n\n\n  });\n\n \n\n","angular.module(\"app\").controller(\"chartCtrl\", function ($scope, mainSvc) {\n\n    mainSvc.getGrades().then((res) => {\n        $scope.grades = res\n        console.log($scope.grades)\n        let gradeNum = []\n        let names = []\n        $scope.grades.forEach(key => {\n            names.push(key.name)\n            gradeNum.push(key.grade)\n        })\n      console.log(gradeNum, names) \n\n \n    $scope.labels = names\n    $scope.series = ['Series A', 'Series B'];\n    $scope.data = gradeNum\n    ;\n    $scope.onClick = function (points, evt) {\n        console.log(points, evt);\n    };\n    $scope.datasetOverride = [{\n        yAxisID: 'y-axis-1'\n    }, { \n        yAxisID: 'y-axis-2'\n    }];\n    $scope.options = {\n        scales: {\n            yAxes: [{\n                    id: 'y-axis-1',\n                    type: 'linear',\n                    display: true,\n                    position: 'left'\n                },\n                {\n                    id: 'y-axis-2',\n                    type: 'linear',\n                    display: true,\n                    position: 'right'\n                }\n            ]\n        }\n    };\n})\n\n// Problem: User interaction doesn't provide desired results.\n// Solution: Add interactivity so the user can manage daily tasks\n\nvar taskInput = document.getElementById(\"new-task\");\nvar addButton = document.getElementsByTagName(\"button\")[0];\nvar incompleteTasksHolder = document.getElementById(\"incomplete-tasks\");\nvar completedTasksHolder = document.getElementById(\"completed-tasks\");\n\n//New Task List Item\nvar createNewTaskElement = function(taskString) {\n  //Create List Item\n  var listItem = document.createElement(\"li\");\n\n  //input (checkbox)\n  var checkBox = document.createElement(\"input\"); // checkbox\n  //label\n  var label = document.createElement(\"label\");\n  //input (text)\n  var editInput = document.createElement(\"input\"); // text\n  //button.edit\n  var editButton = document.createElement(\"button\");\n  //button.delete\n  var deleteButton = document.createElement(\"button\");\n  \n      //Each element needs modifying\n  \n  checkBox.type = \"checkbox\";\n  editInput.type = \"text\";\n  \n  editButton.innerText = \"Edit\";\n  editButton.className = \"edit\";\n  deleteButton.innerText = \"Delete\";\n  deleteButton.className = \"delete\";\n  \n  label.innerText = taskString;\n  \n    \n      // each element needs appending\n  listItem.appendChild(checkBox);\n  listItem.appendChild(label);\n  listItem.appendChild(editInput);\n  listItem.appendChild(editButton);\n  listItem.appendChild(deleteButton);\n\n  return listItem;\n}\n\n// Add a new task\nvar addTask = function() {\n  console.log(\"Add task...\");\n  //Create a new list item with the text from #new-task:\n  var listItem = createNewTaskElement(taskInput.value);\n  //Append listItem to incompleteTasksHolder\n  incompleteTasksHolder.appendChild(listItem);\n  bindTaskEvents(listItem, taskCompleted);  \n  \n  taskInput.value = \"\";   \n}\n\n// Edit an existing task\nvar editTask = function() {\n  console.log(\"Edit Task...\");\n  \n  var listItem = this.parentNode;\n  \n  var editInput = listItem.querySelector(\"input[type=text]\")\n  var label = listItem.querySelector(\"label\");\n  \n  var containsClass = listItem.classList.contains(\"editMode\");\n    //if the class of the parent is .editMode \n  if(containsClass) {\n      //switch from .editMode \n      //Make label text become the input's value\n    label.innerText = editInput.value;\n  } else {\n      //Switch to .editMode\n      //input value becomes the label's text\n    editInput.value = label.innerText;\n  }\n  \n    // Toggle .editMode on the parent\n  listItem.classList.toggle(\"editMode\");\n \n}\n\n\n// Delete an existing task\nvar deleteTask = function() {\n  console.log(\"Delete task...\");\n  var listItem = this.parentNode;\n  var ul = listItem.parentNode;\n  \n  //Remove the parent list item from the ul\n  ul.removeChild(listItem);\n}\n\n// Mark a task as complete \nvar taskCompleted = function() {\n  console.log(\"Task complete...\");\n  //Append the task list item to the #completed-tasks\n  var listItem = this.parentNode;\n  completedTasksHolder.appendChild(listItem);\n  bindTaskEvents(listItem, taskIncomplete);\n}\n\n// Mark a task as incomplete\nvar taskIncomplete = function() {\n  console.log(\"Task Incomplete...\");\n  // When checkbox is unchecked\n  // Append the task list item #incomplete-tasks\n  var listItem = this.parentNode;\n  incompleteTasksHolder.appendChild(listItem);\n  bindTaskEvents(listItem, taskCompleted);\n}\n\nvar bindTaskEvents = function(taskListItem, checkBoxEventHandler) {\n  console.log(\"Bind list item events\");\n  //select taskListItem's children\n  var checkBox = taskListItem.querySelector(\"input[type=checkbox]\");\n  var editButton = taskListItem.querySelector(\"button.edit\");\n  var deleteButton = taskListItem.querySelector(\"button.delete\");\n  \n  //bind editTask to edit button\n  editButton.onclick = editTask;\n  \n  //bind deleteTask to delete button\n  deleteButton.onclick = deleteTask;\n  \n  //bind checkBoxEventHandler to checkbox\n  checkBox.onchange = checkBoxEventHandler;\n}\n\nvar ajaxRequest = function() {\n  console.log(\"AJAX Request\");\n}\n\n// Set the click handler to the addTask function\n//addButton.onclick = addTask;\naddButton.addEventListener(\"click\", addTask);\naddButton.addEventListener(\"click\", ajaxRequest);\n\n\n// Cycle over the incompleteTaskHolder ul list items\nfor(var i = 0; i <  incompleteTasksHolder.children.length; i++) {\n    // bind events to list item's children (taskCompleted)\n  bindTaskEvents(incompleteTasksHolder.children[i], taskCompleted);\n}\n// Cycle over the completeTaskHolder ul list items\nfor(var i = 0; i <  completedTasksHolder.children.length; i++) {\n    // bind events to list item's children (taskIncompleted)\n  bindTaskEvents(completedTasksHolder.children[i], taskIncomplete); \n\n}\n\n\n\n\n\n\n\n});","angular.module(\"app\").controller(\"gradesCtrl\", function($scope, mainSvc){\n\n\n\n$scope.getGrades = () => {\n mainSvc.getGrades().then((res) => {\n   $scope.grades = res\n   console.log(res)\n })\n}\n $scope.post = (grades) => {\n   mainSvc.postGrades(grades).then(function(res){\n     console.log(res)\n     $scope.grades.push(res.data[0])\n\n\n   })\n\n }\n\n  $scope.getGrades()\n\n});","angular.module(\"app\").controller(\"homeCtrl\", function(){\n    \n})","angular.module(\"app\").controller(\"loginCtrl\", function(){\n    \n})","angular.module(\"app\").controller(\"mainCtrl\", function($scope, mainSvc){\n    // $scope.test = mainSvc.test\n\n    // Get the modal\nvar modal = document.getElementById('myModal');\n\n// Get the button that opens the modal\nvar btn = document.getElementById(\"myBtn\");\n\n// Get the <span> element that closes the modal\nvar span = document.getElementsByClassName(\"close\")[0];\n\n// When the user clicks on the button, open the modal \n// btn.onclick = function() {\n//     modal.style.display = \"block\";\n// }\n\n// When the user clicks on <span> (x), close the modal\nspan.onclick = function() {\n    modal.style.display = \"none\";\n}\n\n// When the user clicks anywhere outside of the modal, close it\n// window.onclick = function(event) {\n//     if (event.target == modal) {\n//         modal.style.display = \"none\";\n//     }\n// }\n\n\n})","/*!\n * Chart.js\n * http://chartjs.org/\n * Version: 2.3.0\n *\n * Copyright 2016 Nick Downie\n * Released under the MIT license\n * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md\n */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Chart = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\n},{}],2:[function(require,module,exports){\n/* MIT license */\nvar colorNames = require(6);\n\nmodule.exports = {\n   getRgba: getRgba,\n   getHsla: getHsla,\n   getRgb: getRgb,\n   getHsl: getHsl,\n   getHwb: getHwb,\n   getAlpha: getAlpha,\n\n   hexString: hexString,\n   rgbString: rgbString,\n   rgbaString: rgbaString,\n   percentString: percentString,\n   percentaString: percentaString,\n   hslString: hslString,\n   hslaString: hslaString,\n   hwbString: hwbString,\n   keyword: keyword\n}\n\nfunction getRgba(string) {\n   if (!string) {\n      return;\n   }\n   var abbr =  /^#([a-fA-F0-9]{3})$/,\n       hex =  /^#([a-fA-F0-9]{6})$/,\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/,\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/,\n       keyword = /(\\w+)/;\n\n   var rgb = [0, 0, 0],\n       a = 1,\n       match = string.match(abbr);\n   if (match) {\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i] + match[i], 16);\n      }\n   }\n   else if (match = string.match(hex)) {\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\n      }\n   }\n   else if (match = string.match(rgba)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i + 1]);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(per)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(keyword)) {\n      if (match[1] == \"transparent\") {\n         return [0, 0, 0, 0];\n      }\n      rgb = colorNames[match[1]];\n      if (!rgb) {\n         return;\n      }\n   }\n\n   for (var i = 0; i < rgb.length; i++) {\n      rgb[i] = scale(rgb[i], 0, 255);\n   }\n   if (!a && a != 0) {\n      a = 1;\n   }\n   else {\n      a = scale(a, 0, 1);\n   }\n   rgb[3] = a;\n   return rgb;\n}\n\nfunction getHsla(string) {\n   if (!string) {\n      return;\n   }\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hsl);\n   if (match) {\n      var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          s = scale(parseFloat(match[2]), 0, 100),\n          l = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, s, l, a];\n   }\n}\n\nfunction getHwb(string) {\n   if (!string) {\n      return;\n   }\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hwb);\n   if (match) {\n    var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          w = scale(parseFloat(match[2]), 0, 100),\n          b = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, w, b, a];\n   }\n}\n\nfunction getRgb(string) {\n   var rgba = getRgba(string);\n   return rgba && rgba.slice(0, 3);\n}\n\nfunction getHsl(string) {\n  var hsla = getHsla(string);\n  return hsla && hsla.slice(0, 3);\n}\n\nfunction getAlpha(string) {\n   var vals = getRgba(string);\n   if (vals) {\n      return vals[3];\n   }\n   else if (vals = getHsla(string)) {\n      return vals[3];\n   }\n   else if (vals = getHwb(string)) {\n      return vals[3];\n   }\n}\n\n// generators\nfunction hexString(rgb) {\n   return \"#\" + hexDouble(rgb[0]) + hexDouble(rgb[1])\n              + hexDouble(rgb[2]);\n}\n\nfunction rgbString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return rgbaString(rgba, alpha);\n   }\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\n}\n\nfunction rgbaString(rgba, alpha) {\n   if (alpha === undefined) {\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\n   }\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\n           + \", \" + alpha + \")\";\n}\n\nfunction percentString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return percentaString(rgba, alpha);\n   }\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\n}\n\nfunction percentaString(rgba, alpha) {\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\n}\n\nfunction hslString(hsla, alpha) {\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\n      return hslaString(hsla, alpha);\n   }\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\n}\n\nfunction hslaString(hsla, alpha) {\n   if (alpha === undefined) {\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\n   }\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\n           + alpha + \")\";\n}\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\nfunction hwbString(hwb, alpha) {\n   if (alpha === undefined) {\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\n   }\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\n}\n\nfunction keyword(rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n}\n\n// helpers\nfunction scale(num, min, max) {\n   return Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n  var str = num.toString(16).toUpperCase();\n  return (str.length < 2) ? \"0\" + str : str;\n}\n\n\n//create a list of reverse color names\nvar reverseNames = {};\nfor (var name in colorNames) {\n   reverseNames[colorNames[name]] = name;\n}\n\n},{\"6\":6}],3:[function(require,module,exports){\n/* MIT license */\nvar convert = require(5);\nvar string = require(2);\n\nvar Color = function (obj) {\n\tif (obj instanceof Color) {\n\t\treturn obj;\n\t}\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj);\n\t}\n\n\tthis.values = {\n\t\trgb: [0, 0, 0],\n\t\thsl: [0, 0, 0],\n\t\thsv: [0, 0, 0],\n\t\thwb: [0, 0, 0],\n\t\tcmyk: [0, 0, 0, 0],\n\t\talpha: 1\n\t};\n\n\t// parse Color() argument\n\tvar vals;\n\tif (typeof obj === 'string') {\n\t\tvals = string.getRgba(obj);\n\t\tif (vals) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals = string.getHsla(obj)) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals = string.getHwb(obj)) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else {\n\t\t\tthrow new Error('Unable to parse color from string \"' + obj + '\"');\n\t\t}\n\t} else if (typeof obj === 'object') {\n\t\tvals = obj;\n\t\tif (vals.r !== undefined || vals.red !== undefined) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals.l !== undefined || vals.lightness !== undefined) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals.v !== undefined || vals.value !== undefined) {\n\t\t\tthis.setValues('hsv', vals);\n\t\t} else if (vals.w !== undefined || vals.whiteness !== undefined) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else if (vals.c !== undefined || vals.cyan !== undefined) {\n\t\t\tthis.setValues('cmyk', vals);\n\t\t} else {\n\t\t\tthrow new Error('Unable to parse color from object ' + JSON.stringify(obj));\n\t\t}\n\t}\n};\n\nColor.prototype = {\n\trgb: function () {\n\t\treturn this.setSpace('rgb', arguments);\n\t},\n\thsl: function () {\n\t\treturn this.setSpace('hsl', arguments);\n\t},\n\thsv: function () {\n\t\treturn this.setSpace('hsv', arguments);\n\t},\n\thwb: function () {\n\t\treturn this.setSpace('hwb', arguments);\n\t},\n\tcmyk: function () {\n\t\treturn this.setSpace('cmyk', arguments);\n\t},\n\n\trgbArray: function () {\n\t\treturn this.values.rgb;\n\t},\n\thslArray: function () {\n\t\treturn this.values.hsl;\n\t},\n\thsvArray: function () {\n\t\treturn this.values.hsv;\n\t},\n\thwbArray: function () {\n\t\tvar values = this.values;\n\t\tif (values.alpha !== 1) {\n\t\t\treturn values.hwb.concat([values.alpha]);\n\t\t}\n\t\treturn values.hwb;\n\t},\n\tcmykArray: function () {\n\t\treturn this.values.cmyk;\n\t},\n\trgbaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.rgb.concat([values.alpha]);\n\t},\n\thslaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.hsl.concat([values.alpha]);\n\t},\n\talpha: function (val) {\n\t\tif (val === undefined) {\n\t\t\treturn this.values.alpha;\n\t\t}\n\t\tthis.setValues('alpha', val);\n\t\treturn this;\n\t},\n\n\tred: function (val) {\n\t\treturn this.setChannel('rgb', 0, val);\n\t},\n\tgreen: function (val) {\n\t\treturn this.setChannel('rgb', 1, val);\n\t},\n\tblue: function (val) {\n\t\treturn this.setChannel('rgb', 2, val);\n\t},\n\thue: function (val) {\n\t\tif (val) {\n\t\t\tval %= 360;\n\t\t\tval = val < 0 ? 360 + val : val;\n\t\t}\n\t\treturn this.setChannel('hsl', 0, val);\n\t},\n\tsaturation: function (val) {\n\t\treturn this.setChannel('hsl', 1, val);\n\t},\n\tlightness: function (val) {\n\t\treturn this.setChannel('hsl', 2, val);\n\t},\n\tsaturationv: function (val) {\n\t\treturn this.setChannel('hsv', 1, val);\n\t},\n\twhiteness: function (val) {\n\t\treturn this.setChannel('hwb', 1, val);\n\t},\n\tblackness: function (val) {\n\t\treturn this.setChannel('hwb', 2, val);\n\t},\n\tvalue: function (val) {\n\t\treturn this.setChannel('hsv', 2, val);\n\t},\n\tcyan: function (val) {\n\t\treturn this.setChannel('cmyk', 0, val);\n\t},\n\tmagenta: function (val) {\n\t\treturn this.setChannel('cmyk', 1, val);\n\t},\n\tyellow: function (val) {\n\t\treturn this.setChannel('cmyk', 2, val);\n\t},\n\tblack: function (val) {\n\t\treturn this.setChannel('cmyk', 3, val);\n\t},\n\n\thexString: function () {\n\t\treturn string.hexString(this.values.rgb);\n\t},\n\trgbString: function () {\n\t\treturn string.rgbString(this.values.rgb, this.values.alpha);\n\t},\n\trgbaString: function () {\n\t\treturn string.rgbaString(this.values.rgb, this.values.alpha);\n\t},\n\tpercentString: function () {\n\t\treturn string.percentString(this.values.rgb, this.values.alpha);\n\t},\n\thslString: function () {\n\t\treturn string.hslString(this.values.hsl, this.values.alpha);\n\t},\n\thslaString: function () {\n\t\treturn string.hslaString(this.values.hsl, this.values.alpha);\n\t},\n\thwbString: function () {\n\t\treturn string.hwbString(this.values.hwb, this.values.alpha);\n\t},\n\tkeyword: function () {\n\t\treturn string.keyword(this.values.rgb, this.values.alpha);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.values.rgb;\n\t\treturn (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.values.rgb;\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tdark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.values.rgb;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tlight: function () {\n\t\treturn !this.dark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = [];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb[i] = 255 - this.values.rgb[i];\n\t\t}\n\t\tthis.setValues('rgb', rgb);\n\t\treturn this;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] += hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] -= hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] += hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] -= hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[1] += hwb[1] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[2] += hwb[2] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tgreyscale: function () {\n\t\tvar rgb = this.values.rgb;\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\tthis.setValues('rgb', [val, val, val]);\n\t\treturn this;\n\t},\n\n\tclearer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha - (alpha * ratio));\n\t\treturn this;\n\t},\n\n\topaquer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha + (alpha * ratio));\n\t\treturn this;\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.values.hsl;\n\t\tvar hue = (hsl[0] + degrees) % 360;\n\t\thsl[0] = hue < 0 ? 360 + hue : hue;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Ported from sass implementation in C\n\t * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t */\n\tmix: function (mixinColor, weight) {\n\t\tvar color1 = this;\n\t\tvar color2 = mixinColor;\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn this\n\t\t\t.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue()\n\t\t\t)\n\t\t\t.alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n\n\ttoJSON: function () {\n\t\treturn this.rgb();\n\t},\n\n\tclone: function () {\n\t\t// NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,\n\t\t// making the final build way to big to embed in Chart.js. So let's do it manually,\n\t\t// assuming that values to clone are 1 dimension arrays containing only numbers,\n\t\t// except 'alpha' which is a number.\n\t\tvar result = new Color();\n\t\tvar source = this.values;\n\t\tvar target = result.values;\n\t\tvar value, type;\n\n\t\tfor (var prop in source) {\n\t\t\tif (source.hasOwnProperty(prop)) {\n\t\t\t\tvalue = source[prop];\n\t\t\t\ttype = ({}).toString.call(value);\n\t\t\t\tif (type === '[object Array]') {\n\t\t\t\t\ttarget[prop] = value.slice(0);\n\t\t\t\t} else if (type === '[object Number]') {\n\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('unexpected color value:', value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nColor.prototype.spaces = {\n\trgb: ['red', 'green', 'blue'],\n\thsl: ['hue', 'saturation', 'lightness'],\n\thsv: ['hue', 'saturation', 'value'],\n\thwb: ['hue', 'whiteness', 'blackness'],\n\tcmyk: ['cyan', 'magenta', 'yellow', 'black']\n};\n\nColor.prototype.maxes = {\n\trgb: [255, 255, 255],\n\thsl: [360, 100, 100],\n\thsv: [360, 100, 100],\n\thwb: [360, 100, 100],\n\tcmyk: [100, 100, 100, 100]\n};\n\nColor.prototype.getValues = function (space) {\n\tvar values = this.values;\n\tvar vals = {};\n\n\tfor (var i = 0; i < space.length; i++) {\n\t\tvals[space.charAt(i)] = values[space][i];\n\t}\n\n\tif (values.alpha !== 1) {\n\t\tvals.a = values.alpha;\n\t}\n\n\t// {r: 255, g: 255, b: 255, a: 0.4}\n\treturn vals;\n};\n\nColor.prototype.setValues = function (space, vals) {\n\tvar values = this.values;\n\tvar spaces = this.spaces;\n\tvar maxes = this.maxes;\n\tvar alpha = 1;\n\tvar i;\n\n\tif (space === 'alpha') {\n\t\talpha = vals;\n\t} else if (vals.length) {\n\t\t// [10, 10, 10]\n\t\tvalues[space] = vals.slice(0, space.length);\n\t\talpha = vals[space.length];\n\t} else if (vals[space.charAt(0)] !== undefined) {\n\t\t// {r: 10, g: 10, b: 10}\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[space.charAt(i)];\n\t\t}\n\n\t\talpha = vals.a;\n\t} else if (vals[spaces[space][0]] !== undefined) {\n\t\t// {red: 10, green: 10, blue: 10}\n\t\tvar chans = spaces[space];\n\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[chans[i]];\n\t\t}\n\n\t\talpha = vals.alpha;\n\t}\n\n\tvalues.alpha = Math.max(0, Math.min(1, (alpha === undefined ? values.alpha : alpha)));\n\n\tif (space === 'alpha') {\n\t\treturn false;\n\t}\n\n\tvar capped;\n\n\t// cap values of the space prior converting all values\n\tfor (i = 0; i < space.length; i++) {\n\t\tcapped = Math.max(0, Math.min(maxes[space][i], values[space][i]));\n\t\tvalues[space][i] = Math.round(capped);\n\t}\n\n\t// convert to all the other color spaces\n\tfor (var sname in spaces) {\n\t\tif (sname !== space) {\n\t\t\tvalues[sname] = convert[space][sname](values[space]);\n\t\t}\n\t}\n\n\treturn true;\n};\n\nColor.prototype.setSpace = function (space, args) {\n\tvar vals = args[0];\n\n\tif (vals === undefined) {\n\t\t// color.rgb()\n\t\treturn this.getValues(space);\n\t}\n\n\t// color.rgb(10, 10, 10)\n\tif (typeof vals === 'number') {\n\t\tvals = Array.prototype.slice.call(args);\n\t}\n\n\tthis.setValues(space, vals);\n\treturn this;\n};\n\nColor.prototype.setChannel = function (space, index, val) {\n\tvar svalues = this.values[space];\n\tif (val === undefined) {\n\t\t// color.red()\n\t\treturn svalues[index];\n\t} else if (val === svalues[index]) {\n\t\t// color.red(color.red())\n\t\treturn this;\n\t}\n\n\t// color.red(100)\n\tsvalues[index] = val;\n\tthis.setValues(space, svalues);\n\n\treturn this;\n};\n\nif (typeof window !== 'undefined') {\n\twindow.Color = Color;\n}\n\nmodule.exports = Color;\n\n},{\"2\":2,\"5\":5}],4:[function(require,module,exports){\n/* MIT license */\n\nmodule.exports = {\n  rgb2hsl: rgb2hsl,\n  rgb2hsv: rgb2hsv,\n  rgb2hwb: rgb2hwb,\n  rgb2cmyk: rgb2cmyk,\n  rgb2keyword: rgb2keyword,\n  rgb2xyz: rgb2xyz,\n  rgb2lab: rgb2lab,\n  rgb2lch: rgb2lch,\n\n  hsl2rgb: hsl2rgb,\n  hsl2hsv: hsl2hsv,\n  hsl2hwb: hsl2hwb,\n  hsl2cmyk: hsl2cmyk,\n  hsl2keyword: hsl2keyword,\n\n  hsv2rgb: hsv2rgb,\n  hsv2hsl: hsv2hsl,\n  hsv2hwb: hsv2hwb,\n  hsv2cmyk: hsv2cmyk,\n  hsv2keyword: hsv2keyword,\n\n  hwb2rgb: hwb2rgb,\n  hwb2hsl: hwb2hsl,\n  hwb2hsv: hwb2hsv,\n  hwb2cmyk: hwb2cmyk,\n  hwb2keyword: hwb2keyword,\n\n  cmyk2rgb: cmyk2rgb,\n  cmyk2hsl: cmyk2hsl,\n  cmyk2hsv: cmyk2hsv,\n  cmyk2hwb: cmyk2hwb,\n  cmyk2keyword: cmyk2keyword,\n\n  keyword2rgb: keyword2rgb,\n  keyword2hsl: keyword2hsl,\n  keyword2hsv: keyword2hsv,\n  keyword2hwb: keyword2hwb,\n  keyword2cmyk: keyword2cmyk,\n  keyword2lab: keyword2lab,\n  keyword2xyz: keyword2xyz,\n\n  xyz2rgb: xyz2rgb,\n  xyz2lab: xyz2lab,\n  xyz2lch: xyz2lch,\n\n  lab2xyz: lab2xyz,\n  lab2rgb: lab2rgb,\n  lab2lch: lab2lch,\n\n  lch2lab: lch2lab,\n  lch2xyz: lch2xyz,\n  lch2rgb: lch2rgb\n}\n\n\nfunction rgb2hsl(rgb) {\n  var r = rgb[0]/255,\n      g = rgb[1]/255,\n      b = rgb[2]/255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, l;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g)/ delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  l = (min + max) / 2;\n\n  if (max == min)\n    s = 0;\n  else if (l <= 0.5)\n    s = delta / (max + min);\n  else\n    s = delta / (2 - max - min);\n\n  return [h, s * 100, l * 100];\n}\n\nfunction rgb2hsv(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, v;\n\n  if (max == 0)\n    s = 0;\n  else\n    s = (delta/max * 1000)/10;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g) / delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  v = ((max / 255) * 1000) / 10;\n\n  return [h, s, v];\n}\n\nfunction rgb2hwb(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      h = rgb2hsl(rgb)[0],\n      w = 1/255 * Math.min(r, Math.min(g, b)),\n      b = 1 - 1/255 * Math.max(r, Math.max(g, b));\n\n  return [h, w * 100, b * 100];\n}\n\nfunction rgb2cmyk(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255,\n      c, m, y, k;\n\n  k = Math.min(1 - r, 1 - g, 1 - b);\n  c = (1 - r - k) / (1 - k) || 0;\n  m = (1 - g - k) / (1 - k) || 0;\n  y = (1 - b - k) / (1 - k) || 0;\n  return [c * 100, m * 100, y * 100, k * 100];\n}\n\nfunction rgb2keyword(rgb) {\n  return reverseKeywords[JSON.stringify(rgb)];\n}\n\nfunction rgb2xyz(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255;\n\n  // assume sRGB\n  r = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n  g = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n  b = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n  var x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n  var y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n  var z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n  return [x * 100, y *100, z * 100];\n}\n\nfunction rgb2lab(rgb) {\n  var xyz = rgb2xyz(rgb),\n        x = xyz[0],\n        y = xyz[1],\n        z = xyz[2],\n        l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction rgb2lch(args) {\n  return lab2lch(rgb2lab(args));\n}\n\nfunction hsl2rgb(hsl) {\n  var h = hsl[0] / 360,\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      t1, t2, t3, rgb, val;\n\n  if (s == 0) {\n    val = l * 255;\n    return [val, val, val];\n  }\n\n  if (l < 0.5)\n    t2 = l * (1 + s);\n  else\n    t2 = l + s - l * s;\n  t1 = 2 * l - t2;\n\n  rgb = [0, 0, 0];\n  for (var i = 0; i < 3; i++) {\n    t3 = h + 1 / 3 * - (i - 1);\n    t3 < 0 && t3++;\n    t3 > 1 && t3--;\n\n    if (6 * t3 < 1)\n      val = t1 + (t2 - t1) * 6 * t3;\n    else if (2 * t3 < 1)\n      val = t2;\n    else if (3 * t3 < 2)\n      val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n    else\n      val = t1;\n\n    rgb[i] = val * 255;\n  }\n\n  return rgb;\n}\n\nfunction hsl2hsv(hsl) {\n  var h = hsl[0],\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      sv, v;\n\n  if(l === 0) {\n      // no need to do calc on black\n      // also avoids divide by 0 error\n      return [0, 0, 0];\n  }\n\n  l *= 2;\n  s *= (l <= 1) ? l : 2 - l;\n  v = (l + s) / 2;\n  sv = (2 * s) / (l + s);\n  return [h, sv * 100, v * 100];\n}\n\nfunction hsl2hwb(args) {\n  return rgb2hwb(hsl2rgb(args));\n}\n\nfunction hsl2cmyk(args) {\n  return rgb2cmyk(hsl2rgb(args));\n}\n\nfunction hsl2keyword(args) {\n  return rgb2keyword(hsl2rgb(args));\n}\n\n\nfunction hsv2rgb(hsv) {\n  var h = hsv[0] / 60,\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      hi = Math.floor(h) % 6;\n\n  var f = h - Math.floor(h),\n      p = 255 * v * (1 - s),\n      q = 255 * v * (1 - (s * f)),\n      t = 255 * v * (1 - (s * (1 - f))),\n      v = 255 * v;\n\n  switch(hi) {\n    case 0:\n      return [v, t, p];\n    case 1:\n      return [q, v, p];\n    case 2:\n      return [p, v, t];\n    case 3:\n      return [p, q, v];\n    case 4:\n      return [t, p, v];\n    case 5:\n      return [v, p, q];\n  }\n}\n\nfunction hsv2hsl(hsv) {\n  var h = hsv[0],\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      sl, l;\n\n  l = (2 - s) * v;\n  sl = s * v;\n  sl /= (l <= 1) ? l : 2 - l;\n  sl = sl || 0;\n  l /= 2;\n  return [h, sl * 100, l * 100];\n}\n\nfunction hsv2hwb(args) {\n  return rgb2hwb(hsv2rgb(args))\n}\n\nfunction hsv2cmyk(args) {\n  return rgb2cmyk(hsv2rgb(args));\n}\n\nfunction hsv2keyword(args) {\n  return rgb2keyword(hsv2rgb(args));\n}\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nfunction hwb2rgb(hwb) {\n  var h = hwb[0] / 360,\n      wh = hwb[1] / 100,\n      bl = hwb[2] / 100,\n      ratio = wh + bl,\n      i, v, f, n;\n\n  // wh + bl cant be > 1\n  if (ratio > 1) {\n    wh /= ratio;\n    bl /= ratio;\n  }\n\n  i = Math.floor(6 * h);\n  v = 1 - bl;\n  f = 6 * h - i;\n  if ((i & 0x01) != 0) {\n    f = 1 - f;\n  }\n  n = wh + f * (v - wh);  // linear interpolation\n\n  switch (i) {\n    default:\n    case 6:\n    case 0: r = v; g = n; b = wh; break;\n    case 1: r = n; g = v; b = wh; break;\n    case 2: r = wh; g = v; b = n; break;\n    case 3: r = wh; g = n; b = v; break;\n    case 4: r = n; g = wh; b = v; break;\n    case 5: r = v; g = wh; b = n; break;\n  }\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction hwb2hsl(args) {\n  return rgb2hsl(hwb2rgb(args));\n}\n\nfunction hwb2hsv(args) {\n  return rgb2hsv(hwb2rgb(args));\n}\n\nfunction hwb2cmyk(args) {\n  return rgb2cmyk(hwb2rgb(args));\n}\n\nfunction hwb2keyword(args) {\n  return rgb2keyword(hwb2rgb(args));\n}\n\nfunction cmyk2rgb(cmyk) {\n  var c = cmyk[0] / 100,\n      m = cmyk[1] / 100,\n      y = cmyk[2] / 100,\n      k = cmyk[3] / 100,\n      r, g, b;\n\n  r = 1 - Math.min(1, c * (1 - k) + k);\n  g = 1 - Math.min(1, m * (1 - k) + k);\n  b = 1 - Math.min(1, y * (1 - k) + k);\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction cmyk2hsl(args) {\n  return rgb2hsl(cmyk2rgb(args));\n}\n\nfunction cmyk2hsv(args) {\n  return rgb2hsv(cmyk2rgb(args));\n}\n\nfunction cmyk2hwb(args) {\n  return rgb2hwb(cmyk2rgb(args));\n}\n\nfunction cmyk2keyword(args) {\n  return rgb2keyword(cmyk2rgb(args));\n}\n\n\nfunction xyz2rgb(xyz) {\n  var x = xyz[0] / 100,\n      y = xyz[1] / 100,\n      z = xyz[2] / 100,\n      r, g, b;\n\n  r = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n  g = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n  b = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n  // assume sRGB\n  r = r > 0.0031308 ? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n    : r = (r * 12.92);\n\n  g = g > 0.0031308 ? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n    : g = (g * 12.92);\n\n  b = b > 0.0031308 ? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n    : b = (b * 12.92);\n\n  r = Math.min(Math.max(0, r), 1);\n  g = Math.min(Math.max(0, g), 1);\n  b = Math.min(Math.max(0, b), 1);\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction xyz2lab(xyz) {\n  var x = xyz[0],\n      y = xyz[1],\n      z = xyz[2],\n      l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction xyz2lch(args) {\n  return lab2lch(xyz2lab(args));\n}\n\nfunction lab2xyz(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      x, y, z, y2;\n\n  if (l <= 8) {\n    y = (l * 100) / 903.3;\n    y2 = (7.787 * (y / 100)) + (16 / 116);\n  } else {\n    y = 100 * Math.pow((l + 16) / 116, 3);\n    y2 = Math.pow(y / 100, 1/3);\n  }\n\n  x = x / 95.047 <= 0.008856 ? x = (95.047 * ((a / 500) + y2 - (16 / 116))) / 7.787 : 95.047 * Math.pow((a / 500) + y2, 3);\n\n  z = z / 108.883 <= 0.008859 ? z = (108.883 * (y2 - (b / 200) - (16 / 116))) / 7.787 : 108.883 * Math.pow(y2 - (b / 200), 3);\n\n  return [x, y, z];\n}\n\nfunction lab2lch(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      hr, h, c;\n\n  hr = Math.atan2(b, a);\n  h = hr * 360 / 2 / Math.PI;\n  if (h < 0) {\n    h += 360;\n  }\n  c = Math.sqrt(a * a + b * b);\n  return [l, c, h];\n}\n\nfunction lab2rgb(args) {\n  return xyz2rgb(lab2xyz(args));\n}\n\nfunction lch2lab(lch) {\n  var l = lch[0],\n      c = lch[1],\n      h = lch[2],\n      a, b, hr;\n\n  hr = h / 360 * 2 * Math.PI;\n  a = c * Math.cos(hr);\n  b = c * Math.sin(hr);\n  return [l, a, b];\n}\n\nfunction lch2xyz(args) {\n  return lab2xyz(lch2lab(args));\n}\n\nfunction lch2rgb(args) {\n  return lab2rgb(lch2lab(args));\n}\n\nfunction keyword2rgb(keyword) {\n  return cssKeywords[keyword];\n}\n\nfunction keyword2hsl(args) {\n  return rgb2hsl(keyword2rgb(args));\n}\n\nfunction keyword2hsv(args) {\n  return rgb2hsv(keyword2rgb(args));\n}\n\nfunction keyword2hwb(args) {\n  return rgb2hwb(keyword2rgb(args));\n}\n\nfunction keyword2cmyk(args) {\n  return rgb2cmyk(keyword2rgb(args));\n}\n\nfunction keyword2lab(args) {\n  return rgb2lab(keyword2rgb(args));\n}\n\nfunction keyword2xyz(args) {\n  return rgb2xyz(keyword2rgb(args));\n}\n\nvar cssKeywords = {\n  aliceblue:  [240,248,255],\n  antiquewhite: [250,235,215],\n  aqua: [0,255,255],\n  aquamarine: [127,255,212],\n  azure:  [240,255,255],\n  beige:  [245,245,220],\n  bisque: [255,228,196],\n  black:  [0,0,0],\n  blanchedalmond: [255,235,205],\n  blue: [0,0,255],\n  blueviolet: [138,43,226],\n  brown:  [165,42,42],\n  burlywood:  [222,184,135],\n  cadetblue:  [95,158,160],\n  chartreuse: [127,255,0],\n  chocolate:  [210,105,30],\n  coral:  [255,127,80],\n  cornflowerblue: [100,149,237],\n  cornsilk: [255,248,220],\n  crimson:  [220,20,60],\n  cyan: [0,255,255],\n  darkblue: [0,0,139],\n  darkcyan: [0,139,139],\n  darkgoldenrod:  [184,134,11],\n  darkgray: [169,169,169],\n  darkgreen:  [0,100,0],\n  darkgrey: [169,169,169],\n  darkkhaki:  [189,183,107],\n  darkmagenta:  [139,0,139],\n  darkolivegreen: [85,107,47],\n  darkorange: [255,140,0],\n  darkorchid: [153,50,204],\n  darkred:  [139,0,0],\n  darksalmon: [233,150,122],\n  darkseagreen: [143,188,143],\n  darkslateblue:  [72,61,139],\n  darkslategray:  [47,79,79],\n  darkslategrey:  [47,79,79],\n  darkturquoise:  [0,206,209],\n  darkviolet: [148,0,211],\n  deeppink: [255,20,147],\n  deepskyblue:  [0,191,255],\n  dimgray:  [105,105,105],\n  dimgrey:  [105,105,105],\n  dodgerblue: [30,144,255],\n  firebrick:  [178,34,34],\n  floralwhite:  [255,250,240],\n  forestgreen:  [34,139,34],\n  fuchsia:  [255,0,255],\n  gainsboro:  [220,220,220],\n  ghostwhite: [248,248,255],\n  gold: [255,215,0],\n  goldenrod:  [218,165,32],\n  gray: [128,128,128],\n  green:  [0,128,0],\n  greenyellow:  [173,255,47],\n  grey: [128,128,128],\n  honeydew: [240,255,240],\n  hotpink:  [255,105,180],\n  indianred:  [205,92,92],\n  indigo: [75,0,130],\n  ivory:  [255,255,240],\n  khaki:  [240,230,140],\n  lavender: [230,230,250],\n  lavenderblush:  [255,240,245],\n  lawngreen:  [124,252,0],\n  lemonchiffon: [255,250,205],\n  lightblue:  [173,216,230],\n  lightcoral: [240,128,128],\n  lightcyan:  [224,255,255],\n  lightgoldenrodyellow: [250,250,210],\n  lightgray:  [211,211,211],\n  lightgreen: [144,238,144],\n  lightgrey:  [211,211,211],\n  lightpink:  [255,182,193],\n  lightsalmon:  [255,160,122],\n  lightseagreen:  [32,178,170],\n  lightskyblue: [135,206,250],\n  lightslategray: [119,136,153],\n  lightslategrey: [119,136,153],\n  lightsteelblue: [176,196,222],\n  lightyellow:  [255,255,224],\n  lime: [0,255,0],\n  limegreen:  [50,205,50],\n  linen:  [250,240,230],\n  magenta:  [255,0,255],\n  maroon: [128,0,0],\n  mediumaquamarine: [102,205,170],\n  mediumblue: [0,0,205],\n  mediumorchid: [186,85,211],\n  mediumpurple: [147,112,219],\n  mediumseagreen: [60,179,113],\n  mediumslateblue:  [123,104,238],\n  mediumspringgreen:  [0,250,154],\n  mediumturquoise:  [72,209,204],\n  mediumvioletred:  [199,21,133],\n  midnightblue: [25,25,112],\n  mintcream:  [245,255,250],\n  mistyrose:  [255,228,225],\n  moccasin: [255,228,181],\n  navajowhite:  [255,222,173],\n  navy: [0,0,128],\n  oldlace:  [253,245,230],\n  olive:  [128,128,0],\n  olivedrab:  [107,142,35],\n  orange: [255,165,0],\n  orangered:  [255,69,0],\n  orchid: [218,112,214],\n  palegoldenrod:  [238,232,170],\n  palegreen:  [152,251,152],\n  paleturquoise:  [175,238,238],\n  palevioletred:  [219,112,147],\n  papayawhip: [255,239,213],\n  peachpuff:  [255,218,185],\n  peru: [205,133,63],\n  pink: [255,192,203],\n  plum: [221,160,221],\n  powderblue: [176,224,230],\n  purple: [128,0,128],\n  rebeccapurple: [102, 51, 153],\n  red:  [255,0,0],\n  rosybrown:  [188,143,143],\n  royalblue:  [65,105,225],\n  saddlebrown:  [139,69,19],\n  salmon: [250,128,114],\n  sandybrown: [244,164,96],\n  seagreen: [46,139,87],\n  seashell: [255,245,238],\n  sienna: [160,82,45],\n  silver: [192,192,192],\n  skyblue:  [135,206,235],\n  slateblue:  [106,90,205],\n  slategray:  [112,128,144],\n  slategrey:  [112,128,144],\n  snow: [255,250,250],\n  springgreen:  [0,255,127],\n  steelblue:  [70,130,180],\n  tan:  [210,180,140],\n  teal: [0,128,128],\n  thistle:  [216,191,216],\n  tomato: [255,99,71],\n  turquoise:  [64,224,208],\n  violet: [238,130,238],\n  wheat:  [245,222,179],\n  white:  [255,255,255],\n  whitesmoke: [245,245,245],\n  yellow: [255,255,0],\n  yellowgreen:  [154,205,50]\n};\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n  reverseKeywords[JSON.stringify(cssKeywords[key])] = key;\n}\n\n},{}],5:[function(require,module,exports){\nvar conversions = require(4);\n\nvar convert = function() {\n   return new Converter();\n}\n\nfor (var func in conversions) {\n  // export Raw versions\n  convert[func + \"Raw\"] =  (function(func) {\n    // accept array or plain args\n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n      return conversions[func](arg);\n    }\n  })(func);\n\n  var pair = /(\\w+)2(\\w+)/.exec(func),\n      from = pair[1],\n      to = pair[2];\n\n  // export rgb2hsl and [\"rgb\"][\"hsl\"]\n  convert[from] = convert[from] || {};\n\n  convert[from][to] = convert[func] = (function(func) { \n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n      \n      var val = conversions[func](arg);\n      if (typeof val == \"string\" || val === undefined)\n        return val; // keyword\n\n      for (var i = 0; i < val.length; i++)\n        val[i] = Math.round(val[i]);\n      return val;\n    }\n  })(func);\n}\n\n\n/* Converter does lazy conversion and caching */\nvar Converter = function() {\n   this.convs = {};\n};\n\n/* Either get the values for a space or\n  set the values for a space, depending on args */\nConverter.prototype.routeSpace = function(space, args) {\n   var values = args[0];\n   if (values === undefined) {\n      // color.rgb()\n      return this.getValues(space);\n   }\n   // color.rgb(10, 10, 10)\n   if (typeof values == \"number\") {\n      values = Array.prototype.slice.call(args);        \n   }\n\n   return this.setValues(space, values);\n};\n  \n/* Set the values for a space, invalidating cache */\nConverter.prototype.setValues = function(space, values) {\n   this.space = space;\n   this.convs = {};\n   this.convs[space] = values;\n   return this;\n};\n\n/* Get the values for a space. If there's already\n  a conversion for the space, fetch it, otherwise\n  compute it */\nConverter.prototype.getValues = function(space) {\n   var vals = this.convs[space];\n   if (!vals) {\n      var fspace = this.space,\n          from = this.convs[fspace];\n      vals = convert[fspace][space](from);\n\n      this.convs[space] = vals;\n   }\n  return vals;\n};\n\n[\"rgb\", \"hsl\", \"hsv\", \"cmyk\", \"keyword\"].forEach(function(space) {\n   Converter.prototype[space] = function(vals) {\n      return this.routeSpace(space, arguments);\n   }\n});\n\nmodule.exports = convert;\n},{\"4\":4}],6:[function(require,module,exports){\nmodule.exports = {\n\t\"aliceblue\": [240, 248, 255],\n\t\"antiquewhite\": [250, 235, 215],\n\t\"aqua\": [0, 255, 255],\n\t\"aquamarine\": [127, 255, 212],\n\t\"azure\": [240, 255, 255],\n\t\"beige\": [245, 245, 220],\n\t\"bisque\": [255, 228, 196],\n\t\"black\": [0, 0, 0],\n\t\"blanchedalmond\": [255, 235, 205],\n\t\"blue\": [0, 0, 255],\n\t\"blueviolet\": [138, 43, 226],\n\t\"brown\": [165, 42, 42],\n\t\"burlywood\": [222, 184, 135],\n\t\"cadetblue\": [95, 158, 160],\n\t\"chartreuse\": [127, 255, 0],\n\t\"chocolate\": [210, 105, 30],\n\t\"coral\": [255, 127, 80],\n\t\"cornflowerblue\": [100, 149, 237],\n\t\"cornsilk\": [255, 248, 220],\n\t\"crimson\": [220, 20, 60],\n\t\"cyan\": [0, 255, 255],\n\t\"darkblue\": [0, 0, 139],\n\t\"darkcyan\": [0, 139, 139],\n\t\"darkgoldenrod\": [184, 134, 11],\n\t\"darkgray\": [169, 169, 169],\n\t\"darkgreen\": [0, 100, 0],\n\t\"darkgrey\": [169, 169, 169],\n\t\"darkkhaki\": [189, 183, 107],\n\t\"darkmagenta\": [139, 0, 139],\n\t\"darkolivegreen\": [85, 107, 47],\n\t\"darkorange\": [255, 140, 0],\n\t\"darkorchid\": [153, 50, 204],\n\t\"darkred\": [139, 0, 0],\n\t\"darksalmon\": [233, 150, 122],\n\t\"darkseagreen\": [143, 188, 143],\n\t\"darkslateblue\": [72, 61, 139],\n\t\"darkslategray\": [47, 79, 79],\n\t\"darkslategrey\": [47, 79, 79],\n\t\"darkturquoise\": [0, 206, 209],\n\t\"darkviolet\": [148, 0, 211],\n\t\"deeppink\": [255, 20, 147],\n\t\"deepskyblue\": [0, 191, 255],\n\t\"dimgray\": [105, 105, 105],\n\t\"dimgrey\": [105, 105, 105],\n\t\"dodgerblue\": [30, 144, 255],\n\t\"firebrick\": [178, 34, 34],\n\t\"floralwhite\": [255, 250, 240],\n\t\"forestgreen\": [34, 139, 34],\n\t\"fuchsia\": [255, 0, 255],\n\t\"gainsboro\": [220, 220, 220],\n\t\"ghostwhite\": [248, 248, 255],\n\t\"gold\": [255, 215, 0],\n\t\"goldenrod\": [218, 165, 32],\n\t\"gray\": [128, 128, 128],\n\t\"green\": [0, 128, 0],\n\t\"greenyellow\": [173, 255, 47],\n\t\"grey\": [128, 128, 128],\n\t\"honeydew\": [240, 255, 240],\n\t\"hotpink\": [255, 105, 180],\n\t\"indianred\": [205, 92, 92],\n\t\"indigo\": [75, 0, 130],\n\t\"ivory\": [255, 255, 240],\n\t\"khaki\": [240, 230, 140],\n\t\"lavender\": [230, 230, 250],\n\t\"lavenderblush\": [255, 240, 245],\n\t\"lawngreen\": [124, 252, 0],\n\t\"lemonchiffon\": [255, 250, 205],\n\t\"lightblue\": [173, 216, 230],\n\t\"lightcoral\": [240, 128, 128],\n\t\"lightcyan\": [224, 255, 255],\n\t\"lightgoldenrodyellow\": [250, 250, 210],\n\t\"lightgray\": [211, 211, 211],\n\t\"lightgreen\": [144, 238, 144],\n\t\"lightgrey\": [211, 211, 211],\n\t\"lightpink\": [255, 182, 193],\n\t\"lightsalmon\": [255, 160, 122],\n\t\"lightseagreen\": [32, 178, 170],\n\t\"lightskyblue\": [135, 206, 250],\n\t\"lightslategray\": [119, 136, 153],\n\t\"lightslategrey\": [119, 136, 153],\n\t\"lightsteelblue\": [176, 196, 222],\n\t\"lightyellow\": [255, 255, 224],\n\t\"lime\": [0, 255, 0],\n\t\"limegreen\": [50, 205, 50],\n\t\"linen\": [250, 240, 230],\n\t\"magenta\": [255, 0, 255],\n\t\"maroon\": [128, 0, 0],\n\t\"mediumaquamarine\": [102, 205, 170],\n\t\"mediumblue\": [0, 0, 205],\n\t\"mediumorchid\": [186, 85, 211],\n\t\"mediumpurple\": [147, 112, 219],\n\t\"mediumseagreen\": [60, 179, 113],\n\t\"mediumslateblue\": [123, 104, 238],\n\t\"mediumspringgreen\": [0, 250, 154],\n\t\"mediumturquoise\": [72, 209, 204],\n\t\"mediumvioletred\": [199, 21, 133],\n\t\"midnightblue\": [25, 25, 112],\n\t\"mintcream\": [245, 255, 250],\n\t\"mistyrose\": [255, 228, 225],\n\t\"moccasin\": [255, 228, 181],\n\t\"navajowhite\": [255, 222, 173],\n\t\"navy\": [0, 0, 128],\n\t\"oldlace\": [253, 245, 230],\n\t\"olive\": [128, 128, 0],\n\t\"olivedrab\": [107, 142, 35],\n\t\"orange\": [255, 165, 0],\n\t\"orangered\": [255, 69, 0],\n\t\"orchid\": [218, 112, 214],\n\t\"palegoldenrod\": [238, 232, 170],\n\t\"palegreen\": [152, 251, 152],\n\t\"paleturquoise\": [175, 238, 238],\n\t\"palevioletred\": [219, 112, 147],\n\t\"papayawhip\": [255, 239, 213],\n\t\"peachpuff\": [255, 218, 185],\n\t\"peru\": [205, 133, 63],\n\t\"pink\": [255, 192, 203],\n\t\"plum\": [221, 160, 221],\n\t\"powderblue\": [176, 224, 230],\n\t\"purple\": [128, 0, 128],\n\t\"rebeccapurple\": [102, 51, 153],\n\t\"red\": [255, 0, 0],\n\t\"rosybrown\": [188, 143, 143],\n\t\"royalblue\": [65, 105, 225],\n\t\"saddlebrown\": [139, 69, 19],\n\t\"salmon\": [250, 128, 114],\n\t\"sandybrown\": [244, 164, 96],\n\t\"seagreen\": [46, 139, 87],\n\t\"seashell\": [255, 245, 238],\n\t\"sienna\": [160, 82, 45],\n\t\"silver\": [192, 192, 192],\n\t\"skyblue\": [135, 206, 235],\n\t\"slateblue\": [106, 90, 205],\n\t\"slategray\": [112, 128, 144],\n\t\"slategrey\": [112, 128, 144],\n\t\"snow\": [255, 250, 250],\n\t\"springgreen\": [0, 255, 127],\n\t\"steelblue\": [70, 130, 180],\n\t\"tan\": [210, 180, 140],\n\t\"teal\": [0, 128, 128],\n\t\"thistle\": [216, 191, 216],\n\t\"tomato\": [255, 99, 71],\n\t\"turquoise\": [64, 224, 208],\n\t\"violet\": [238, 130, 238],\n\t\"wheat\": [245, 222, 179],\n\t\"white\": [255, 255, 255],\n\t\"whitesmoke\": [245, 245, 245],\n\t\"yellow\": [255, 255, 0],\n\t\"yellowgreen\": [154, 205, 50]\n};\n},{}],7:[function(require,module,exports){\n/**\n * @namespace Chart\n */\nvar Chart = require(27)();\n\nrequire(26)(Chart);\nrequire(22)(Chart);\nrequire(25)(Chart);\nrequire(21)(Chart);\nrequire(23)(Chart);\nrequire(24)(Chart);\nrequire(28)(Chart);\nrequire(32)(Chart);\nrequire(30)(Chart);\nrequire(31)(Chart);\nrequire(33)(Chart);\nrequire(29)(Chart);\nrequire(34)(Chart);\n\nrequire(35)(Chart);\nrequire(36)(Chart);\nrequire(37)(Chart);\nrequire(38)(Chart);\n\nrequire(41)(Chart);\nrequire(39)(Chart);\nrequire(40)(Chart);\nrequire(42)(Chart);\nrequire(43)(Chart);\nrequire(44)(Chart);\n\n// Controllers must be loaded after elements\n// See Chart.core.datasetController.dataElementType\nrequire(15)(Chart);\nrequire(16)(Chart);\nrequire(17)(Chart);\nrequire(18)(Chart);\nrequire(19)(Chart);\nrequire(20)(Chart);\n\nrequire(8)(Chart);\nrequire(9)(Chart);\nrequire(10)(Chart);\nrequire(11)(Chart);\nrequire(12)(Chart);\nrequire(13)(Chart);\nrequire(14)(Chart);\n\nwindow.Chart = module.exports = Chart;\n\n},{\"10\":10,\"11\":11,\"12\":12,\"13\":13,\"14\":14,\"15\":15,\"16\":16,\"17\":17,\"18\":18,\"19\":19,\"20\":20,\"21\":21,\"22\":22,\"23\":23,\"24\":24,\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"29\":29,\"30\":30,\"31\":31,\"32\":32,\"33\":33,\"34\":34,\"35\":35,\"36\":36,\"37\":37,\"38\":38,\"39\":39,\"40\":40,\"41\":41,\"42\":42,\"43\":43,\"44\":44,\"8\":8,\"9\":9}],8:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Bar = function(context, config) {\n\t\tconfig.type = 'bar';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Bubble = function(context, config) {\n\t\tconfig.type = 'bubble';\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Doughnut = function(context, config) {\n\t\tconfig.type = 'doughnut';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Line = function(context, config) {\n\t\tconfig.type = 'line';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.PolarArea = function(context, config) {\n\t\tconfig.type = 'polarArea';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Radar = function(context, config) {\n\t\tconfig.options = Chart.helpers.configMerge({aspectRatio: 1}, config.options);\n\t\tconfig.type = 'radar';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar defaultConfig = {\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear', // scatter should not use a category axis\n\t\t\t\tposition: 'bottom',\n\t\t\t\tid: 'x-axis-1' // need an ID so datasets can reference the scale\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'left',\n\t\t\t\tid: 'y-axis-1'\n\t\t\t}]\n\t\t},\n\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem) {\n\t\t\t\t\treturn '(' + tooltipItem.xLabel + ', ' + tooltipItem.yLabel + ')';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// Register the default config for this type\n\tChart.defaults.scatter = defaultConfig;\n\n\t// Scatter charts use line controllers\n\tChart.controllers.scatter = Chart.controllers.line;\n\n\tChart.Scatter = function(context, config) {\n\t\tconfig.type = 'scatter';\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.bar = {\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'category',\n\n\t\t\t\t// Specific to Bar Controller\n\t\t\t\tcategoryPercentage: 0.8,\n\t\t\t\tbarPercentage: 0.9,\n\n\t\t\t\t// grid line settings\n\t\t\t\tgridLines: {\n\t\t\t\t\toffsetGridLines: true\n\t\t\t\t}\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear'\n\t\t\t}]\n\t\t}\n\t};\n\n\tChart.controllers.bar = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Rectangle,\n\n\t\tinitialize: function(chart, datasetIndex) {\n\t\t\tChart.DatasetController.prototype.initialize.call(this, chart, datasetIndex);\n\n\t\t\t// Use this to indicate that this is a bar dataset.\n\t\t\tthis.getMeta().bar = true;\n\t\t},\n\n\t\t// Get the number of datasets that display bars. We use this to correctly calculate the bar width\n\t\tgetBarCount: function() {\n\t\t\tvar me = this;\n\t\t\tvar barCount = 0;\n\t\t\thelpers.each(me.chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar meta = me.chart.getDatasetMeta(datasetIndex);\n\t\t\t\tif (meta.bar && me.chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\t++barCount;\n\t\t\t\t}\n\t\t\t}, me);\n\t\t\treturn barCount;\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\thelpers.each(me.getMeta().data, function(rectangle, index) {\n\t\t\t\tme.updateElement(rectangle, index, reset);\n\t\t\t}, me);\n\t\t},\n\n\t\tupdateElement: function(rectangle, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar scaleBase = yScale.getBasePixel();\n\t\t\tvar rectangleElementOptions = me.chart.options.elements.rectangle;\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\n\t\t\thelpers.extend(rectangle, {\n\t\t\t\t// Utility\n\t\t\t\t_xScale: xScale,\n\t\t\t\t_yScale: yScale,\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: me.calculateBarX(index, me.index),\n\t\t\t\t\ty: reset ? scaleBase : me.calculateBarY(index, me.index),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\tlabel: me.chart.data.labels[index],\n\t\t\t\t\tdatasetLabel: dataset.label,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\tbase: reset ? scaleBase : me.calculateBarBase(me.index, index),\n\t\t\t\t\twidth: me.calculateBarWidth(index),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor),\n\t\t\t\t\tborderSkipped: custom.borderSkipped ? custom.borderSkipped : rectangleElementOptions.borderSkipped,\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth)\n\t\t\t\t}\n\t\t\t});\n\t\t\trectangle.pivot();\n\t\t},\n\n\t\tcalculateBarBase: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar base = 0;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\tvar chart = me.chart;\n\t\t\t\tvar datasets = chart.data.datasets;\n\t\t\t\tvar value = Number(datasets[datasetIndex].data[index]);\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar currentDs = datasets[i];\n\t\t\t\t\tvar currentDsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (currentDsMeta.bar && currentDsMeta.yAxisID === yScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar currentVal = Number(currentDs.data[index]);\n\t\t\t\t\t\tbase += value < 0 ? Math.min(currentVal, 0) : Math.max(currentVal, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn yScale.getPixelForValue(base);\n\t\t\t}\n\n\t\t\treturn yScale.getBasePixel();\n\t\t},\n\n\t\tgetRuler: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar datasetCount = me.getBarCount();\n\n\t\t\tvar tickWidth;\n\n\t\t\tif (xScale.options.type === 'category') {\n\t\t\t\ttickWidth = xScale.getPixelForTick(index + 1) - xScale.getPixelForTick(index);\n\t\t\t} else {\n\t\t\t\t// Average width\n\t\t\t\ttickWidth = xScale.width / xScale.ticks.length;\n\t\t\t}\n\t\t\tvar categoryWidth = tickWidth * xScale.options.categoryPercentage;\n\t\t\tvar categorySpacing = (tickWidth - (tickWidth * xScale.options.categoryPercentage)) / 2;\n\t\t\tvar fullBarWidth = categoryWidth / datasetCount;\n\n\t\t\tif (xScale.ticks.length !== me.chart.data.labels.length) {\n\t\t\t\tvar perc = xScale.ticks.length / me.chart.data.labels.length;\n\t\t\t\tfullBarWidth = fullBarWidth * perc;\n\t\t\t}\n\n\t\t\tvar barWidth = fullBarWidth * xScale.options.barPercentage;\n\t\t\tvar barSpacing = fullBarWidth - (fullBarWidth * xScale.options.barPercentage);\n\n\t\t\treturn {\n\t\t\t\tdatasetCount: datasetCount,\n\t\t\t\ttickWidth: tickWidth,\n\t\t\t\tcategoryWidth: categoryWidth,\n\t\t\t\tcategorySpacing: categorySpacing,\n\t\t\t\tfullBarWidth: fullBarWidth,\n\t\t\t\tbarWidth: barWidth,\n\t\t\t\tbarSpacing: barSpacing\n\t\t\t};\n\t\t},\n\n\t\tcalculateBarWidth: function(index) {\n\t\t\tvar xScale = this.getScaleForId(this.getMeta().xAxisID);\n\t\t\tif (xScale.options.barThickness) {\n\t\t\t\treturn xScale.options.barThickness;\n\t\t\t}\n\t\t\tvar ruler = this.getRuler(index);\n\t\t\treturn xScale.options.stacked ? ruler.categoryWidth : ruler.barWidth;\n\t\t},\n\n\t\t// Get bar index from the given dataset index accounting for the fact that not all bars are visible\n\t\tgetBarIndex: function(datasetIndex) {\n\t\t\tvar barIndex = 0;\n\t\t\tvar meta, j;\n\n\t\t\tfor (j = 0; j < datasetIndex; ++j) {\n\t\t\t\tmeta = this.chart.getDatasetMeta(j);\n\t\t\t\tif (meta.bar && this.chart.isDatasetVisible(j)) {\n\t\t\t\t\t++barIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn barIndex;\n\t\t},\n\n\t\tcalculateBarX: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar barIndex = me.getBarIndex(datasetIndex);\n\n\t\t\tvar ruler = me.getRuler(index);\n\t\t\tvar leftTick = xScale.getPixelForValue(null, index, datasetIndex, me.chart.isCombo);\n\t\t\tleftTick -= me.chart.isCombo ? (ruler.tickWidth / 2) : 0;\n\n\t\t\tif (xScale.options.stacked) {\n\t\t\t\treturn leftTick + (ruler.categoryWidth / 2) + ruler.categorySpacing;\n\t\t\t}\n\n\t\t\treturn leftTick +\n\t\t\t\t(ruler.barWidth / 2) +\n\t\t\t\truler.categorySpacing +\n\t\t\t\t(ruler.barWidth * barIndex) +\n\t\t\t\t(ruler.barSpacing / 2) +\n\t\t\t\t(ruler.barSpacing * barIndex);\n\t\t},\n\n\t\tcalculateBarY: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar value = Number(me.getDataset().data[index]);\n\n\t\t\tif (yScale.options.stacked) {\n\n\t\t\t\tvar sumPos = 0,\n\t\t\t\t\tsumNeg = 0;\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar ds = me.chart.data.datasets[i];\n\t\t\t\t\tvar dsMeta = me.chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.bar && dsMeta.yAxisID === yScale.id && me.chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedVal = Number(ds.data[index]);\n\t\t\t\t\t\tif (stackedVal < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedVal || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedVal || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (value < 0) {\n\t\t\t\t\treturn yScale.getPixelForValue(sumNeg + value);\n\t\t\t\t}\n\t\t\t\treturn yScale.getPixelForValue(sumPos + value);\n\t\t\t}\n\n\t\t\treturn yScale.getPixelForValue(value);\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\thelpers.each(me.getMeta().data, function(rectangle, index) {\n\t\t\t\tvar d = me.getDataset().data[index];\n\t\t\t\tif (d !== null && d !== undefined && !isNaN(d)) {\n\t\t\t\t\trectangle.transition(easingDecimal).draw();\n\t\t\t\t}\n\t\t\t}, me);\n\t\t},\n\n\t\tsetHoverStyle: function(rectangle) {\n\t\t\tvar dataset = this.chart.data.datasets[rectangle._datasetIndex];\n\t\t\tvar index = rectangle._index;\n\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar model = rectangle._model;\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.hoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.hoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(rectangle) {\n\t\t\tvar dataset = this.chart.data.datasets[rectangle._datasetIndex];\n\t\t\tvar index = rectangle._index;\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar model = rectangle._model;\n\t\t\tvar rectangleElementOptions = this.chart.options.elements.rectangle;\n\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth);\n\t\t}\n\n\t});\n\n\n\t// including horizontalBar in the bar file, instead of a file of its own\n\t// it extends bar (like pie extends doughnut)\n\tChart.defaults.horizontalBar = {\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'bottom'\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\tposition: 'left',\n\t\t\t\ttype: 'category',\n\n\t\t\t\t// Specific to Horizontal Bar Controller\n\t\t\t\tcategoryPercentage: 0.8,\n\t\t\t\tbarPercentage: 0.9,\n\n\t\t\t\t// grid line settings\n\t\t\t\tgridLines: {\n\t\t\t\t\toffsetGridLines: true\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\telements: {\n\t\t\trectangle: {\n\t\t\t\tborderSkipped: 'left'\n\t\t\t}\n\t\t},\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function(tooltipItems, data) {\n\t\t\t\t\t// Pick first xLabel for now\n\t\t\t\t\tvar title = '';\n\n\t\t\t\t\tif (tooltipItems.length > 0) {\n\t\t\t\t\t\tif (tooltipItems[0].yLabel) {\n\t\t\t\t\t\t\ttitle = tooltipItems[0].yLabel;\n\t\t\t\t\t\t} else if (data.labels.length > 0 && tooltipItems[0].index < data.labels.length) {\n\t\t\t\t\t\t\ttitle = data.labels[tooltipItems[0].index];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\treturn datasetLabel + ': ' + tooltipItem.xLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.horizontalBar = Chart.controllers.bar.extend({\n\t\tupdateElement: function(rectangle, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar scaleBase = xScale.getBasePixel();\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar rectangleElementOptions = me.chart.options.elements.rectangle;\n\n\t\t\thelpers.extend(rectangle, {\n\t\t\t\t// Utility\n\t\t\t\t_xScale: xScale,\n\t\t\t\t_yScale: yScale,\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? scaleBase : me.calculateBarX(index, me.index),\n\t\t\t\t\ty: me.calculateBarY(index, me.index),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\tlabel: me.chart.data.labels[index],\n\t\t\t\t\tdatasetLabel: dataset.label,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\tbase: reset ? scaleBase : me.calculateBarBase(me.index, index),\n\t\t\t\t\theight: me.calculateBarHeight(index),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor),\n\t\t\t\t\tborderSkipped: custom.borderSkipped ? custom.borderSkipped : rectangleElementOptions.borderSkipped,\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth)\n\t\t\t\t},\n\n\t\t\t\tdraw: function() {\n\t\t\t\t\tvar ctx = this._chart.ctx;\n\t\t\t\t\tvar vm = this._view;\n\n\t\t\t\t\tvar halfHeight = vm.height / 2,\n\t\t\t\t\t\ttopY = vm.y - halfHeight,\n\t\t\t\t\t\tbottomY = vm.y + halfHeight,\n\t\t\t\t\t\tright = vm.base - (vm.base - vm.x),\n\t\t\t\t\t\thalfStroke = vm.borderWidth / 2;\n\n\t\t\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\t\t\tif (vm.borderWidth) {\n\t\t\t\t\t\ttopY += halfStroke;\n\t\t\t\t\t\tbottomY -= halfStroke;\n\t\t\t\t\t\tright += halfStroke;\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.beginPath();\n\n\t\t\t\t\tctx.fillStyle = vm.backgroundColor;\n\t\t\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\t\t\t// Corner points, from bottom-left to bottom-right clockwise\n\t\t\t\t\t// | 1 2 |\n\t\t\t\t\t// | 0 3 |\n\t\t\t\t\tvar corners = [\n\t\t\t\t\t\t[vm.base, bottomY],\n\t\t\t\t\t\t[vm.base, topY],\n\t\t\t\t\t\t[right, topY],\n\t\t\t\t\t\t[right, bottomY]\n\t\t\t\t\t];\n\n\t\t\t\t\t// Find first (starting) corner with fallback to 'bottom'\n\t\t\t\t\tvar borders = ['bottom', 'left', 'top', 'right'];\n\t\t\t\t\tvar startCorner = borders.indexOf(vm.borderSkipped, 0);\n\t\t\t\t\tif (startCorner === -1) {\n\t\t\t\t\t\tstartCorner = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction cornerAt(cornerIndex) {\n\t\t\t\t\t\treturn corners[(startCorner + cornerIndex) % 4];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw rectangle from 'startCorner'\n\t\t\t\t\tctx.moveTo.apply(ctx, cornerAt(0));\n\t\t\t\t\tfor (var i = 1; i < 4; i++) {\n\t\t\t\t\t\tctx.lineTo.apply(ctx, cornerAt(i));\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tif (vm.borderWidth) {\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tinRange: function(mouseX, mouseY) {\n\t\t\t\t\tvar vm = this._view;\n\t\t\t\t\tvar inRange = false;\n\n\t\t\t\t\tif (vm) {\n\t\t\t\t\t\tif (vm.x < vm.base) {\n\t\t\t\t\t\t\tinRange = (mouseY >= vm.y - vm.height / 2 && mouseY <= vm.y + vm.height / 2) && (mouseX >= vm.x && mouseX <= vm.base);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinRange = (mouseY >= vm.y - vm.height / 2 && mouseY <= vm.y + vm.height / 2) && (mouseX >= vm.base && mouseX <= vm.x);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn inRange;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trectangle.pivot();\n\t\t},\n\n\t\tcalculateBarBase: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar base = 0;\n\n\t\t\tif (xScale.options.stacked) {\n\t\t\t\tvar chart = me.chart;\n\t\t\t\tvar datasets = chart.data.datasets;\n\t\t\t\tvar value = Number(datasets[datasetIndex].data[index]);\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar currentDs = datasets[i];\n\t\t\t\t\tvar currentDsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (currentDsMeta.bar && currentDsMeta.xAxisID === xScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar currentVal = Number(currentDs.data[index]);\n\t\t\t\t\t\tbase += value < 0 ? Math.min(currentVal, 0) : Math.max(currentVal, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn xScale.getPixelForValue(base);\n\t\t\t}\n\n\t\t\treturn xScale.getBasePixel();\n\t\t},\n\n\t\tgetRuler: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar datasetCount = me.getBarCount();\n\n\t\t\tvar tickHeight;\n\t\t\tif (yScale.options.type === 'category') {\n\t\t\t\ttickHeight = yScale.getPixelForTick(index + 1) - yScale.getPixelForTick(index);\n\t\t\t} else {\n\t\t\t\t// Average width\n\t\t\t\ttickHeight = yScale.width / yScale.ticks.length;\n\t\t\t}\n\t\t\tvar categoryHeight = tickHeight * yScale.options.categoryPercentage;\n\t\t\tvar categorySpacing = (tickHeight - (tickHeight * yScale.options.categoryPercentage)) / 2;\n\t\t\tvar fullBarHeight = categoryHeight / datasetCount;\n\n\t\t\tif (yScale.ticks.length !== me.chart.data.labels.length) {\n\t\t\t\tvar perc = yScale.ticks.length / me.chart.data.labels.length;\n\t\t\t\tfullBarHeight = fullBarHeight * perc;\n\t\t\t}\n\n\t\t\tvar barHeight = fullBarHeight * yScale.options.barPercentage;\n\t\t\tvar barSpacing = fullBarHeight - (fullBarHeight * yScale.options.barPercentage);\n\n\t\t\treturn {\n\t\t\t\tdatasetCount: datasetCount,\n\t\t\t\ttickHeight: tickHeight,\n\t\t\t\tcategoryHeight: categoryHeight,\n\t\t\t\tcategorySpacing: categorySpacing,\n\t\t\t\tfullBarHeight: fullBarHeight,\n\t\t\t\tbarHeight: barHeight,\n\t\t\t\tbarSpacing: barSpacing\n\t\t\t};\n\t\t},\n\n\t\tcalculateBarHeight: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar yScale = me.getScaleForId(me.getMeta().yAxisID);\n\t\t\tif (yScale.options.barThickness) {\n\t\t\t\treturn yScale.options.barThickness;\n\t\t\t}\n\t\t\tvar ruler = me.getRuler(index);\n\t\t\treturn yScale.options.stacked ? ruler.categoryHeight : ruler.barHeight;\n\t\t},\n\n\t\tcalculateBarX: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar value = Number(me.getDataset().data[index]);\n\n\t\t\tif (xScale.options.stacked) {\n\n\t\t\t\tvar sumPos = 0,\n\t\t\t\t\tsumNeg = 0;\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar ds = me.chart.data.datasets[i];\n\t\t\t\t\tvar dsMeta = me.chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.bar && dsMeta.xAxisID === xScale.id && me.chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedVal = Number(ds.data[index]);\n\t\t\t\t\t\tif (stackedVal < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedVal || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedVal || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (value < 0) {\n\t\t\t\t\treturn xScale.getPixelForValue(sumNeg + value);\n\t\t\t\t}\n\t\t\t\treturn xScale.getPixelForValue(sumPos + value);\n\t\t\t}\n\n\t\t\treturn xScale.getPixelForValue(value);\n\t\t},\n\n\t\tcalculateBarY: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar barIndex = me.getBarIndex(datasetIndex);\n\n\t\t\tvar ruler = me.getRuler(index);\n\t\t\tvar topTick = yScale.getPixelForValue(null, index, datasetIndex, me.chart.isCombo);\n\t\t\ttopTick -= me.chart.isCombo ? (ruler.tickHeight / 2) : 0;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\treturn topTick + (ruler.categoryHeight / 2) + ruler.categorySpacing;\n\t\t\t}\n\n\t\t\treturn topTick +\n\t\t\t\t(ruler.barHeight / 2) +\n\t\t\t\truler.categorySpacing +\n\t\t\t\t(ruler.barHeight * barIndex) +\n\t\t\t\t(ruler.barSpacing / 2) +\n\t\t\t\t(ruler.barSpacing * barIndex);\n\t\t}\n\t});\n};\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.bubble = {\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear', // bubble should probably use a linear scale by default\n\t\t\t\tposition: 'bottom',\n\t\t\t\tid: 'x-axis-0' // need an ID so datasets can reference the scale\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'left',\n\t\t\t\tid: 'y-axis-0'\n\t\t\t}]\n\t\t},\n\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\tvar dataPoint = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\t\t\t\t\treturn datasetLabel + ': (' + dataPoint.x + ', ' + dataPoint.y + ', ' + dataPoint.r + ')';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.bubble = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar points = meta.data;\n\n\t\t\t// Update Points\n\t\t\thelpers.each(points, function(point, index) {\n\t\t\t\tme.updateElement(point, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar data = dataset.data[index];\n\t\t\tvar pointElementOptions = me.chart.options.elements.point;\n\t\t\tvar dsIndex = me.index;\n\n\t\t\thelpers.extend(point, {\n\t\t\t\t// Utility\n\t\t\t\t_xScale: xScale,\n\t\t\t\t_yScale: yScale,\n\t\t\t\t_datasetIndex: dsIndex,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(typeof data === 'object' ? data : NaN, index, dsIndex, me.chart.isCombo),\n\t\t\t\t\ty: reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex),\n\t\t\t\t\t// Appearance\n\t\t\t\t\tradius: reset ? 0 : custom.radius ? custom.radius : me.getRadius(data),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\thitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.hitRadius, index, pointElementOptions.hitRadius)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Trick to reset the styles of the point\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(me, point, pointElementOptions);\n\n\t\t\tvar model = point._model;\n\t\t\tmodel.skip = custom.skip ? custom.skip : (isNaN(model.x) || isNaN(model.y));\n\n\t\t\tpoint.pivot();\n\t\t},\n\n\t\tgetRadius: function(value) {\n\t\t\treturn value.r || this.chart.options.elements.point.radius;\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tChart.DatasetController.prototype.setHoverStyle.call(me, point);\n\n\t\t\t// Radius\n\t\t\tvar dataset = me.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\t\t\tmodel.radius = custom.hoverRadius ? custom.hoverRadius : (helpers.getValueAtIndexOrDefault(dataset.hoverRadius, index, me.chart.options.elements.point.hoverRadius)) + me.getRadius(dataset.data[index]);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(me, point, me.chart.options.elements.point);\n\n\t\t\tvar dataVal = me.chart.data.datasets[point._datasetIndex].data[point._index];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.radius ? custom.radius : me.getRadius(dataVal);\n\t\t}\n\t});\n};\n\n},{}],17:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tdefaults = Chart.defaults;\n\n\tdefaults.doughnut = {\n\t\tanimation: {\n\t\t\t// Boolean - Whether we animate the rotation of the Doughnut\n\t\t\tanimateRotate: true,\n\t\t\t// Boolean - Whether we animate scaling the Doughnut from the centre\n\t\t\tanimateScale: false\n\t\t},\n\t\taspectRatio: 1,\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\t\tlegendCallback: function(chart) {\n\t\t\tvar text = [];\n\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar labels = data.labels;\n\n\t\t\tif (datasets.length) {\n\t\t\t\tfor (var i = 0; i < datasets[0].data.length; ++i) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\"></span>');\n\t\t\t\t\tif (labels[i]) {\n\t\t\t\t\t\ttext.push(labels[i]);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttext.push('</ul>');\n\t\t\treturn text.join('');\n\t\t},\n\t\tlegend: {\n\t\t\tlabels: {\n\t\t\t\tgenerateLabels: function(chart) {\n\t\t\t\t\tvar data = chart.data;\n\t\t\t\t\tif (data.labels.length && data.datasets.length) {\n\t\t\t\t\t\treturn data.labels.map(function(label, i) {\n\t\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\t\t\t\t\tvar ds = data.datasets[0];\n\t\t\t\t\t\t\tvar arc = meta.data[i];\n\t\t\t\t\t\t\tvar custom = arc && arc.custom || {};\n\t\t\t\t\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\t\t\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\t\t\t\t\tvar fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n\t\t\t\t\t\t\tvar stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n\t\t\t\t\t\t\tvar bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\t\t\tfillStyle: fill,\n\t\t\t\t\t\t\t\tstrokeStyle: stroke,\n\t\t\t\t\t\t\t\tlineWidth: bw,\n\t\t\t\t\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function(e, legendItem) {\n\t\t\t\tvar index = legendItem.index;\n\t\t\t\tvar chart = this.chart;\n\t\t\t\tvar i, ilen, meta;\n\n\t\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\t\t// toggle visibility of index if exists\n\t\t\t\t\tif (meta.data[index]) {\n\t\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tchart.update();\n\t\t\t}\n\t\t},\n\n\t\t// The percentage of the chart that we cut out of the middle.\n\t\tcutoutPercentage: 50,\n\n\t\t// The rotation of the chart, where the first data arc begins.\n\t\trotation: Math.PI * -0.5,\n\n\t\t// The total circumference of the chart.\n\t\tcircumference: Math.PI * 2.0,\n\n\t\t// Need to override these to give a nice default\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\treturn data.labels[tooltipItem.index] + ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tdefaults.pie = helpers.clone(defaults.doughnut);\n\thelpers.extend(defaults.pie, {\n\t\tcutoutPercentage: 0\n\t});\n\n\n\tChart.controllers.doughnut = Chart.controllers.pie = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Arc,\n\n\t\tlinkScales: helpers.noop,\n\n\t\t// Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly\n\t\tgetRingIndex: function(datasetIndex) {\n\t\t\tvar ringIndex = 0;\n\n\t\t\tfor (var j = 0; j < datasetIndex; ++j) {\n\t\t\t\tif (this.chart.isDatasetVisible(j)) {\n\t\t\t\t\t++ringIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ringIndex;\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart,\n\t\t\t\tchartArea = chart.chartArea,\n\t\t\t\topts = chart.options,\n\t\t\t\tarcOpts = opts.elements.arc,\n\t\t\t\tavailableWidth = chartArea.right - chartArea.left - arcOpts.borderWidth,\n\t\t\t\tavailableHeight = chartArea.bottom - chartArea.top - arcOpts.borderWidth,\n\t\t\t\tminSize = Math.min(availableWidth, availableHeight),\n\t\t\t\toffset = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t},\n\t\t\t\tmeta = me.getMeta(),\n\t\t\t\tcutoutPercentage = opts.cutoutPercentage,\n\t\t\t\tcircumference = opts.circumference;\n\n\t\t\t// If the chart's circumference isn't a full circle, calculate minSize as a ratio of the width/height of the arc\n\t\t\tif (circumference < Math.PI * 2.0) {\n\t\t\t\tvar startAngle = opts.rotation % (Math.PI * 2.0);\n\t\t\t\tstartAngle += Math.PI * 2.0 * (startAngle >= Math.PI ? -1 : startAngle < -Math.PI ? 1 : 0);\n\t\t\t\tvar endAngle = startAngle + circumference;\n\t\t\t\tvar start = {x: Math.cos(startAngle), y: Math.sin(startAngle)};\n\t\t\t\tvar end = {x: Math.cos(endAngle), y: Math.sin(endAngle)};\n\t\t\t\tvar contains0 = (startAngle <= 0 && 0 <= endAngle) || (startAngle <= Math.PI * 2.0 && Math.PI * 2.0 <= endAngle);\n\t\t\t\tvar contains90 = (startAngle <= Math.PI * 0.5 && Math.PI * 0.5 <= endAngle) || (startAngle <= Math.PI * 2.5 && Math.PI * 2.5 <= endAngle);\n\t\t\t\tvar contains180 = (startAngle <= -Math.PI && -Math.PI <= endAngle) || (startAngle <= Math.PI && Math.PI <= endAngle);\n\t\t\t\tvar contains270 = (startAngle <= -Math.PI * 0.5 && -Math.PI * 0.5 <= endAngle) || (startAngle <= Math.PI * 1.5 && Math.PI * 1.5 <= endAngle);\n\t\t\t\tvar cutout = cutoutPercentage / 100.0;\n\t\t\t\tvar min = {x: contains180 ? -1 : Math.min(start.x * (start.x < 0 ? 1 : cutout), end.x * (end.x < 0 ? 1 : cutout)), y: contains270 ? -1 : Math.min(start.y * (start.y < 0 ? 1 : cutout), end.y * (end.y < 0 ? 1 : cutout))};\n\t\t\t\tvar max = {x: contains0 ? 1 : Math.max(start.x * (start.x > 0 ? 1 : cutout), end.x * (end.x > 0 ? 1 : cutout)), y: contains90 ? 1 : Math.max(start.y * (start.y > 0 ? 1 : cutout), end.y * (end.y > 0 ? 1 : cutout))};\n\t\t\t\tvar size = {width: (max.x - min.x) * 0.5, height: (max.y - min.y) * 0.5};\n\t\t\t\tminSize = Math.min(availableWidth / size.width, availableHeight / size.height);\n\t\t\t\toffset = {x: (max.x + min.x) * -0.5, y: (max.y + min.y) * -0.5};\n\t\t\t}\n\n\t\t\tchart.borderWidth = me.getMaxBorderWidth(meta.data);\n\t\t\tchart.outerRadius = Math.max((minSize - chart.borderWidth) / 2, 0);\n\t\t\tchart.innerRadius = Math.max(cutoutPercentage ? (chart.outerRadius / 100) * (cutoutPercentage) : 1, 0);\n\t\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n\t\t\tchart.offsetX = offset.x * chart.outerRadius;\n\t\t\tchart.offsetY = offset.y * chart.outerRadius;\n\n\t\t\tmeta.total = me.calculateTotal();\n\n\t\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.getRingIndex(me.index));\n\t\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\n\n\t\t\thelpers.each(meta.data, function(arc, index) {\n\t\t\t\tme.updateElement(arc, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(arc, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart,\n\t\t\t\tchartArea = chart.chartArea,\n\t\t\t\topts = chart.options,\n\t\t\t\tanimationOpts = opts.animation,\n\t\t\t\tcenterX = (chartArea.left + chartArea.right) / 2,\n\t\t\t\tcenterY = (chartArea.top + chartArea.bottom) / 2,\n\t\t\t\tstartAngle = opts.rotation, // non reset case handled later\n\t\t\t\tendAngle = opts.rotation, // non reset case handled later\n\t\t\t\tdataset = me.getDataset(),\n\t\t\t\tcircumference = reset && animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / (2.0 * Math.PI)),\n\t\t\t\tinnerRadius = reset && animationOpts.animateScale ? 0 : me.innerRadius,\n\t\t\t\touterRadius = reset && animationOpts.animateScale ? 0 : me.outerRadius,\n\t\t\t\tvalueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\n\t\t\thelpers.extend(arc, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: centerX + chart.offsetX,\n\t\t\t\t\ty: centerY + chart.offsetY,\n\t\t\t\t\tstartAngle: startAngle,\n\t\t\t\t\tendAngle: endAngle,\n\t\t\t\t\tcircumference: circumference,\n\t\t\t\t\touterRadius: outerRadius,\n\t\t\t\t\tinnerRadius: innerRadius,\n\t\t\t\t\tlabel: valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar model = arc._model;\n\t\t\t// Resets the visual styles\n\t\t\tthis.removeHoverStyle(arc);\n\n\t\t\t// Set correct angles if not resetting\n\t\t\tif (!reset || !animationOpts.animateRotate) {\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tmodel.startAngle = opts.rotation;\n\t\t\t\t} else {\n\t\t\t\t\tmodel.startAngle = me.getMeta().data[index - 1]._model.endAngle;\n\t\t\t\t}\n\n\t\t\t\tmodel.endAngle = model.startAngle + model.circumference;\n\t\t\t}\n\n\t\t\tarc.pivot();\n\t\t},\n\n\t\tremoveHoverStyle: function(arc) {\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(this, arc, this.chart.options.elements.arc);\n\t\t},\n\n\t\tcalculateTotal: function() {\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar total = 0;\n\t\t\tvar value;\n\n\t\t\thelpers.each(meta.data, function(element, index) {\n\t\t\t\tvalue = dataset.data[index];\n\t\t\t\tif (!isNaN(value) && !element.hidden) {\n\t\t\t\t\ttotal += Math.abs(value);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/* if (total === 0) {\n\t\t\t\ttotal = NaN;\n\t\t\t}*/\n\n\t\t\treturn total;\n\t\t},\n\n\t\tcalculateCircumference: function(value) {\n\t\t\tvar total = this.getMeta().total;\n\t\t\tif (total > 0 && !isNaN(value)) {\n\t\t\t\treturn (Math.PI * 2.0) * (value / total);\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\n\t\t// gets the max border or hover width to properly scale pie charts\n\t\tgetMaxBorderWidth: function(elements) {\n\t\t\tvar max = 0,\n\t\t\t\tindex = this.index,\n\t\t\t\tlength = elements.length,\n\t\t\t\tborderWidth,\n\t\t\t\thoverWidth;\n\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tborderWidth = elements[i]._model ? elements[i]._model.borderWidth : 0;\n\t\t\t\thoverWidth = elements[i]._chart ? elements[i]._chart.config.data.datasets[index].hoverBorderWidth : 0;\n\n\t\t\t\tmax = borderWidth > max ? borderWidth : max;\n\t\t\t\tmax = hoverWidth > max ? hoverWidth : max;\n\t\t\t}\n\t\t\treturn max;\n\t\t}\n\t});\n};\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.line = {\n\t\tshowLines: true,\n\t\tspanGaps: false,\n\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'category',\n\t\t\t\tid: 'x-axis-0'\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tid: 'y-axis-0'\n\t\t\t}]\n\t\t}\n\t};\n\n\tfunction lineEnabled(dataset, options) {\n\t\treturn helpers.getValueOrDefault(dataset.showLine, options.showLines);\n\t}\n\n\tChart.controllers.line = Chart.DatasetController.extend({\n\n\t\tdatasetElementType: Chart.elements.Line,\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\taddElementAndReset: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.chart.options;\n\t\t\tvar meta = me.getMeta();\n\n\t\t\tChart.DatasetController.prototype.addElementAndReset.call(me, index);\n\n\t\t\t// Make sure bezier control points are updated\n\t\t\tif (lineEnabled(me.getDataset(), options) && meta.dataset._model.tension !== 0) {\n\t\t\t\tme.updateBezierControlPoints();\n\t\t\t}\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar line = meta.dataset;\n\t\t\tvar points = meta.data || [];\n\t\t\tvar options = me.chart.options;\n\t\t\tvar lineElementOptions = options.elements.line;\n\t\t\tvar scale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar i, ilen, custom;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar showLine = lineEnabled(dataset, options);\n\n\t\t\t// Update Line\n\t\t\tif (showLine) {\n\t\t\t\tcustom = line.custom || {};\n\n\t\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\t\tif ((dataset.tension !== undefined) && (dataset.lineTension === undefined)) {\n\t\t\t\t\tdataset.lineTension = dataset.tension;\n\t\t\t\t}\n\n\t\t\t\t// Utility\n\t\t\t\tline._scale = scale;\n\t\t\t\tline._datasetIndex = me.index;\n\t\t\t\t// Data\n\t\t\t\tline._children = points;\n\t\t\t\t// Model\n\t\t\t\tline._model = {\n\t\t\t\t\t// Appearance\n\t\t\t\t\t// The default behavior of lines is to break at null values, according\n\t\t\t\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\n\t\t\t\t\t// This option gives linse the ability to span gaps\n\t\t\t\t\tspanGaps: dataset.spanGaps ? dataset.spanGaps : options.spanGaps,\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),\n\t\t\t\t\tborderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),\n\t\t\t\t\tborderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),\n\t\t\t\t\tborderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),\n\t\t\t\t\tborderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),\n\t\t\t\t\tfill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),\n\t\t\t\t\tsteppedLine: custom.steppedLine ? custom.steppedLine : helpers.getValueOrDefault(dataset.steppedLine, lineElementOptions.stepped),\n\t\t\t\t\tcubicInterpolationMode: custom.cubicInterpolationMode ? custom.cubicInterpolationMode : helpers.getValueOrDefault(dataset.cubicInterpolationMode, lineElementOptions.cubicInterpolationMode),\n\t\t\t\t\t// Scale\n\t\t\t\t\tscaleTop: scale.top,\n\t\t\t\t\tscaleBottom: scale.bottom,\n\t\t\t\t\tscaleZero: scale.getBasePixel()\n\t\t\t\t};\n\n\t\t\t\tline.pivot();\n\t\t\t}\n\n\t\t\t// Update Points\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tme.updateElement(points[i], i, reset);\n\t\t\t}\n\n\t\t\tif (showLine && line._model.tension !== 0) {\n\t\t\t\tme.updateBezierControlPoints();\n\t\t\t}\n\n\t\t\t// Now pivot the point for animation\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].pivot();\n\t\t\t}\n\t\t},\n\n\t\tgetPointBackgroundColor: function(point, index) {\n\t\t\tvar backgroundColor = this.chart.options.elements.point.backgroundColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.backgroundColor) {\n\t\t\t\tbackgroundColor = custom.backgroundColor;\n\t\t\t} else if (dataset.pointBackgroundColor) {\n\t\t\t\tbackgroundColor = helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, backgroundColor);\n\t\t\t} else if (dataset.backgroundColor) {\n\t\t\t\tbackgroundColor = dataset.backgroundColor;\n\t\t\t}\n\n\t\t\treturn backgroundColor;\n\t\t},\n\n\t\tgetPointBorderColor: function(point, index) {\n\t\t\tvar borderColor = this.chart.options.elements.point.borderColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.borderColor) {\n\t\t\t\tborderColor = custom.borderColor;\n\t\t\t} else if (dataset.pointBorderColor) {\n\t\t\t\tborderColor = helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, borderColor);\n\t\t\t} else if (dataset.borderColor) {\n\t\t\t\tborderColor = dataset.borderColor;\n\t\t\t}\n\n\t\t\treturn borderColor;\n\t\t},\n\n\t\tgetPointBorderWidth: function(point, index) {\n\t\t\tvar borderWidth = this.chart.options.elements.point.borderWidth;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.borderWidth) {\n\t\t\t\tborderWidth = custom.borderWidth;\n\t\t\t} else if (dataset.pointBorderWidth) {\n\t\t\t\tborderWidth = helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, borderWidth);\n\t\t\t} else if (dataset.borderWidth) {\n\t\t\t\tborderWidth = dataset.borderWidth;\n\t\t\t}\n\n\t\t\treturn borderWidth;\n\t\t},\n\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar datasetIndex = me.index;\n\t\t\tvar value = dataset.data[index];\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar pointOptions = me.chart.options.elements.point;\n\t\t\tvar x, y;\n\t\t\tvar labels = me.chart.data.labels || [];\n\t\t\tvar includeOffset = (labels.length === 1 || dataset.data.length === 1) || me.chart.isCombo;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\t\t\tif ((dataset.hitRadius !== undefined) && (dataset.pointHitRadius === undefined)) {\n\t\t\t\tdataset.pointHitRadius = dataset.hitRadius;\n\t\t\t}\n\n\t\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex, includeOffset);\n\t\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\n\n\t\t\t// Utility\n\t\t\tpoint._xScale = xScale;\n\t\t\tpoint._yScale = yScale;\n\t\t\tpoint._datasetIndex = datasetIndex;\n\t\t\tpoint._index = index;\n\n\t\t\t// Desired view properties\n\t\t\tpoint._model = {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\n\t\t\t\t// Appearance\n\t\t\t\tradius: custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointOptions.radius),\n\t\t\t\tpointStyle: custom.pointStyle || helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointOptions.pointStyle),\n\t\t\t\tbackgroundColor: me.getPointBackgroundColor(point, index),\n\t\t\t\tborderColor: me.getPointBorderColor(point, index),\n\t\t\t\tborderWidth: me.getPointBorderWidth(point, index),\n\t\t\t\ttension: meta.dataset._model ? meta.dataset._model.tension : 0,\n\t\t\t\tsteppedLine: meta.dataset._model ? meta.dataset._model.steppedLine : false,\n\t\t\t\t// Tooltip\n\t\t\t\thitRadius: custom.hitRadius || helpers.getValueAtIndexOrDefault(dataset.pointHitRadius, index, pointOptions.hitRadius)\n\t\t\t};\n\t\t},\n\n\t\tcalculatePointY: function(value, index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar sumPos = 0;\n\t\t\tvar sumNeg = 0;\n\t\t\tvar i, ds, dsMeta;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\tfor (i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tds = chart.data.datasets[i];\n\t\t\t\t\tdsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedRightValue = Number(yScale.getRightValue(ds.data[index]));\n\t\t\t\t\t\tif (stackedRightValue < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedRightValue || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar rightValue = Number(yScale.getRightValue(value));\n\t\t\t\tif (rightValue < 0) {\n\t\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\n\t\t\t\t}\n\t\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\n\t\t\t}\n\n\t\t\treturn yScale.getPixelForValue(value);\n\t\t},\n\n\t\tupdateBezierControlPoints: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar area = me.chart.chartArea;\n\t\t\tvar points = (meta.data || []);\n\t\t\tvar i, ilen, point, model, controlPoints;\n\n\t\t\t// Only consider points that are drawn in case the spanGaps option is used\n\t\t\tif (meta.dataset._model.spanGaps) {\n\t\t\t\tpoints = points.filter(function(pt) {\n\t\t\t\t\treturn !pt._model.skip;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction capControlPoint(pt, min, max) {\n\t\t\t\treturn Math.max(Math.min(pt, max), min);\n\t\t\t}\n\n\t\t\tif (meta.dataset._model.cubicInterpolationMode === 'monotone') {\n\t\t\t\thelpers.splineCurveMonotone(points);\n\t\t\t} else {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tpoint = points[i];\n\t\t\t\t\tmodel = point._model;\n\t\t\t\t\tcontrolPoints = helpers.splineCurve(\n\t\t\t\t\t\thelpers.previousItem(points, i)._model,\n\t\t\t\t\t\tmodel,\n\t\t\t\t\t\thelpers.nextItem(points, i)._model,\n\t\t\t\t\t\tmeta.dataset._model.tension\n\t\t\t\t\t);\n\t\t\t\t\tmodel.controlPointPreviousX = controlPoints.previous.x;\n\t\t\t\t\tmodel.controlPointPreviousY = controlPoints.previous.y;\n\t\t\t\t\tmodel.controlPointNextX = controlPoints.next.x;\n\t\t\t\t\tmodel.controlPointNextY = controlPoints.next.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.chart.options.elements.line.capBezierPoints) {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tmodel = points[i]._model;\n\t\t\t\t\tmodel.controlPointPreviousX = capControlPoint(model.controlPointPreviousX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointPreviousY = capControlPoint(model.controlPointPreviousY, area.top, area.bottom);\n\t\t\t\t\tmodel.controlPointNextX = capControlPoint(model.controlPointNextX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointNextY = capControlPoint(model.controlPointNextY, area.top, area.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar points = meta.data || [];\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tvar i, ilen;\n\n\t\t\t// Transition Point Locations\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].transition(easingDecimal);\n\t\t\t}\n\n\t\t\t// Transition and Draw the line\n\t\t\tif (lineEnabled(me.getDataset(), me.chart.options)) {\n\t\t\t\tmeta.dataset.transition(easingDecimal).draw();\n\t\t\t}\n\n\t\t\t// Draw the points\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].draw();\n\t\t\t}\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\t// Point\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.hoverRadius || helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\n\t\t\tmodel.radius = custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, me.chart.options.elements.point.radius);\n\t\t\tmodel.backgroundColor = me.getPointBackgroundColor(point, index);\n\t\t\tmodel.borderColor = me.getPointBorderColor(point, index);\n\t\t\tmodel.borderWidth = me.getPointBorderWidth(point, index);\n\t\t}\n\t});\n};\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.polarArea = {\n\n\t\tscale: {\n\t\t\ttype: 'radialLinear',\n\t\t\tlineArc: true, // so that lines are circular\n\t\t\tticks: {\n\t\t\t\tbeginAtZero: true\n\t\t\t}\n\t\t},\n\n\t\t// Boolean - Whether to animate the rotation of the chart\n\t\tanimation: {\n\t\t\tanimateRotate: true,\n\t\t\tanimateScale: true\n\t\t},\n\n\t\tstartAngle: -0.5 * Math.PI,\n\t\taspectRatio: 1,\n\t\tlegendCallback: function(chart) {\n\t\t\tvar text = [];\n\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar labels = data.labels;\n\n\t\t\tif (datasets.length) {\n\t\t\t\tfor (var i = 0; i < datasets[0].data.length; ++i) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\">');\n\t\t\t\t\tif (labels[i]) {\n\t\t\t\t\t\ttext.push(labels[i]);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</span></li>');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttext.push('</ul>');\n\t\t\treturn text.join('');\n\t\t},\n\t\tlegend: {\n\t\t\tlabels: {\n\t\t\t\tgenerateLabels: function(chart) {\n\t\t\t\t\tvar data = chart.data;\n\t\t\t\t\tif (data.labels.length && data.datasets.length) {\n\t\t\t\t\t\treturn data.labels.map(function(label, i) {\n\t\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\t\t\t\t\tvar ds = data.datasets[0];\n\t\t\t\t\t\t\tvar arc = meta.data[i];\n\t\t\t\t\t\t\tvar custom = arc.custom || {};\n\t\t\t\t\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\t\t\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\t\t\t\t\tvar fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n\t\t\t\t\t\t\tvar stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n\t\t\t\t\t\t\tvar bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\t\t\tfillStyle: fill,\n\t\t\t\t\t\t\t\tstrokeStyle: stroke,\n\t\t\t\t\t\t\t\tlineWidth: bw,\n\t\t\t\t\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function(e, legendItem) {\n\t\t\t\tvar index = legendItem.index;\n\t\t\t\tvar chart = this.chart;\n\t\t\t\tvar i, ilen, meta;\n\n\t\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\n\t\t\t\t}\n\n\t\t\t\tchart.update();\n\t\t\t}\n\t\t},\n\n\t\t// Need to override these to give a nice default\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\treturn data.labels[tooltipItem.index] + ': ' + tooltipItem.yLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.polarArea = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Arc,\n\n\t\tlinkScales: helpers.noop,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar chartArea = chart.chartArea;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar opts = chart.options;\n\t\t\tvar arcOpts = opts.elements.arc;\n\t\t\tvar minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\t\t\tchart.outerRadius = Math.max((minSize - arcOpts.borderWidth / 2) / 2, 0);\n\t\t\tchart.innerRadius = Math.max(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n\t\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n\n\t\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);\n\t\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\n\n\t\t\tmeta.count = me.countVisibleElements();\n\n\t\t\thelpers.each(meta.data, function(arc, index) {\n\t\t\t\tme.updateElement(arc, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(arc, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar opts = chart.options;\n\t\t\tvar animationOpts = opts.animation;\n\t\t\tvar scale = chart.scale;\n\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\tvar labels = chart.data.labels;\n\n\t\t\tvar circumference = me.calculateCircumference(dataset.data[index]);\n\t\t\tvar centerX = scale.xCenter;\n\t\t\tvar centerY = scale.yCenter;\n\n\t\t\t// If there is NaN data before us, we need to calculate the starting angle correctly.\n\t\t\t// We could be way more efficient here, but its unlikely that the polar area chart will have a lot of data\n\t\t\tvar visibleCount = 0;\n\t\t\tvar meta = me.getMeta();\n\t\t\tfor (var i = 0; i < index; ++i) {\n\t\t\t\tif (!isNaN(dataset.data[i]) && !meta.data[i].hidden) {\n\t\t\t\t\t++visibleCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// var negHalfPI = -0.5 * Math.PI;\n\t\t\tvar datasetStartAngle = opts.startAngle;\n\t\t\tvar distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\t\t\tvar startAngle = datasetStartAngle + (circumference * visibleCount);\n\t\t\tvar endAngle = startAngle + (arc.hidden ? 0 : circumference);\n\n\t\t\tvar resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\n\t\t\thelpers.extend(arc, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\t\t\t\t_scale: scale,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: centerX,\n\t\t\t\t\ty: centerY,\n\t\t\t\t\tinnerRadius: 0,\n\t\t\t\t\touterRadius: reset ? resetRadius : distance,\n\t\t\t\t\tstartAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\n\t\t\t\t\tendAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\n\t\t\t\t\tlabel: getValueAtIndexOrDefault(labels, index, labels[index])\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Apply border and fill style\n\t\t\tme.removeHoverStyle(arc);\n\n\t\t\tarc.pivot();\n\t\t},\n\n\t\tremoveHoverStyle: function(arc) {\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(this, arc, this.chart.options.elements.arc);\n\t\t},\n\n\t\tcountVisibleElements: function() {\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar count = 0;\n\n\t\t\thelpers.each(meta.data, function(element, index) {\n\t\t\t\tif (!isNaN(dataset.data[index]) && !element.hidden) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn count;\n\t\t},\n\n\t\tcalculateCircumference: function(value) {\n\t\t\tvar count = this.getMeta().count;\n\t\t\tif (count > 0 && !isNaN(value)) {\n\t\t\t\treturn (2 * Math.PI) / count;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t});\n};\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.radar = {\n\t\tscale: {\n\t\t\ttype: 'radialLinear'\n\t\t},\n\t\telements: {\n\t\t\tline: {\n\t\t\t\ttension: 0 // no bezier in radar\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.radar = Chart.DatasetController.extend({\n\n\t\tdatasetElementType: Chart.elements.Line,\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tlinkScales: helpers.noop,\n\n\t\taddElementAndReset: function(index) {\n\t\t\tChart.DatasetController.prototype.addElementAndReset.call(this, index);\n\n\t\t\t// Make sure bezier control points are updated\n\t\t\tthis.updateBezierControlPoints();\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar line = meta.dataset;\n\t\t\tvar points = meta.data;\n\t\t\tvar custom = line.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar lineElementOptions = me.chart.options.elements.line;\n\t\t\tvar scale = me.chart.scale;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.tension !== undefined) && (dataset.lineTension === undefined)) {\n\t\t\t\tdataset.lineTension = dataset.tension;\n\t\t\t}\n\n\t\t\thelpers.extend(meta.dataset, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t// Data\n\t\t\t\t_children: points,\n\t\t\t\t_loop: true,\n\t\t\t\t// Model\n\t\t\t\t_model: {\n\t\t\t\t\t// Appearance\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),\n\t\t\t\t\tfill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),\n\t\t\t\t\tborderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),\n\t\t\t\t\tborderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),\n\t\t\t\t\tborderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),\n\t\t\t\t\tborderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),\n\n\t\t\t\t\t// Scale\n\t\t\t\t\tscaleTop: scale.top,\n\t\t\t\t\tscaleBottom: scale.bottom,\n\t\t\t\t\tscaleZero: scale.getBasePosition()\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmeta.dataset.pivot();\n\n\t\t\t// Update Points\n\t\t\thelpers.each(points, function(point, index) {\n\t\t\t\tme.updateElement(point, index, reset);\n\t\t\t}, me);\n\n\n\t\t\t// Update bezier control points\n\t\t\tme.updateBezierControlPoints();\n\t\t},\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar scale = me.chart.scale;\n\t\t\tvar pointElementOptions = me.chart.options.elements.point;\n\t\t\tvar pointPosition = scale.getPointPositionForValue(index, dataset.data[index]);\n\n\t\t\thelpers.extend(point, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\t\t\t\t_scale: scale,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? scale.xCenter : pointPosition.x, // value not used in dataset scale, but we want a consistent API between scales\n\t\t\t\t\ty: reset ? scale.yCenter : pointPosition.y,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.tension, me.chart.options.elements.line.tension),\n\t\t\t\t\tradius: custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointElementOptions.radius),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth),\n\t\t\t\t\tpointStyle: custom.pointStyle ? custom.pointStyle : helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointElementOptions.pointStyle),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\thitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.hitRadius, index, pointElementOptions.hitRadius)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tpoint._model.skip = custom.skip ? custom.skip : (isNaN(point._model.x) || isNaN(point._model.y));\n\t\t},\n\t\tupdateBezierControlPoints: function() {\n\t\t\tvar chartArea = this.chart.chartArea;\n\t\t\tvar meta = this.getMeta();\n\n\t\t\thelpers.each(meta.data, function(point, index) {\n\t\t\t\tvar model = point._model;\n\t\t\t\tvar controlPoints = helpers.splineCurve(\n\t\t\t\t\thelpers.previousItem(meta.data, index, true)._model,\n\t\t\t\t\tmodel,\n\t\t\t\t\thelpers.nextItem(meta.data, index, true)._model,\n\t\t\t\t\tmodel.tension\n\t\t\t\t);\n\n\t\t\t\t// Prevent the bezier going outside of the bounds of the graph\n\t\t\t\tmodel.controlPointPreviousX = Math.max(Math.min(controlPoints.previous.x, chartArea.right), chartArea.left);\n\t\t\t\tmodel.controlPointPreviousY = Math.max(Math.min(controlPoints.previous.y, chartArea.bottom), chartArea.top);\n\n\t\t\t\tmodel.controlPointNextX = Math.max(Math.min(controlPoints.next.x, chartArea.right), chartArea.left);\n\t\t\t\tmodel.controlPointNextY = Math.max(Math.min(controlPoints.next.y, chartArea.bottom), chartArea.top);\n\n\t\t\t\t// Now pivot the point for animation\n\t\t\t\tpoint.pivot();\n\t\t\t});\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar easingDecimal = ease || 1;\n\n\t\t\t// Transition Point Locations\n\t\t\thelpers.each(meta.data, function(point) {\n\t\t\t\tpoint.transition(easingDecimal);\n\t\t\t});\n\n\t\t\t// Transition and Draw the line\n\t\t\tmeta.dataset.transition(easingDecimal).draw();\n\n\t\t\t// Draw the points\n\t\t\thelpers.each(meta.data, function(point) {\n\t\t\t\tpoint.draw();\n\t\t\t});\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\t// Point\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar index = point._index;\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.hoverRadius ? custom.hoverRadius : helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar index = point._index;\n\t\t\tvar model = point._model;\n\t\t\tvar pointElementOptions = this.chart.options.elements.point;\n\n\t\t\tmodel.radius = custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.radius, index, pointElementOptions.radius);\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth);\n\t\t}\n\t});\n};\n\n},{}],21:[function(require,module,exports){\n/* global window: false */\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.animation = {\n\t\tduration: 1000,\n\t\teasing: 'easeOutQuart',\n\t\tonProgress: helpers.noop,\n\t\tonComplete: helpers.noop\n\t};\n\n\tChart.Animation = Chart.Element.extend({\n\t\tcurrentStep: null, // the current animation step\n\t\tnumSteps: 60, // default number of steps\n\t\teasing: '', // the easing to use for this animation\n\t\trender: null, // render function used by the animation service\n\n\t\tonAnimationProgress: null, // user specified callback to fire on each step of the animation\n\t\tonAnimationComplete: null // user specified callback to fire when the animation finishes\n\t});\n\n\tChart.animationService = {\n\t\tframeDuration: 17,\n\t\tanimations: [],\n\t\tdropFrames: 0,\n\t\trequest: null,\n\t\taddAnimation: function(chartInstance, animationObject, duration, lazy) {\n\t\t\tvar me = this;\n\n\t\t\tif (!lazy) {\n\t\t\t\tchartInstance.animating = true;\n\t\t\t}\n\n\t\t\tfor (var index = 0; index < me.animations.length; ++index) {\n\t\t\t\tif (me.animations[index].chartInstance === chartInstance) {\n\t\t\t\t\t// replacing an in progress animation\n\t\t\t\t\tme.animations[index].animationObject = animationObject;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.animations.push({\n\t\t\t\tchartInstance: chartInstance,\n\t\t\t\tanimationObject: animationObject\n\t\t\t});\n\n\t\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\n\t\t\tif (me.animations.length === 1) {\n\t\t\t\tme.requestAnimationFrame();\n\t\t\t}\n\t\t},\n\t\t// Cancel the animation for a given chart instance\n\t\tcancelAnimation: function(chartInstance) {\n\t\t\tvar index = helpers.findIndex(this.animations, function(animationWrapper) {\n\t\t\t\treturn animationWrapper.chartInstance === chartInstance;\n\t\t\t});\n\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.animations.splice(index, 1);\n\t\t\t\tchartInstance.animating = false;\n\t\t\t}\n\t\t},\n\t\trequestAnimationFrame: function() {\n\t\t\tvar me = this;\n\t\t\tif (me.request === null) {\n\t\t\t\t// Skip animation frame requests until the active one is executed.\n\t\t\t\t// This can happen when processing mouse events, e.g. 'mousemove'\n\t\t\t\t// and 'mouseout' events will trigger multiple renders.\n\t\t\t\tme.request = helpers.requestAnimFrame.call(window, function() {\n\t\t\t\t\tme.request = null;\n\t\t\t\t\tme.startDigest();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstartDigest: function() {\n\t\t\tvar me = this;\n\n\t\t\tvar startTime = Date.now();\n\t\t\tvar framesToDrop = 0;\n\n\t\t\tif (me.dropFrames > 1) {\n\t\t\t\tframesToDrop = Math.floor(me.dropFrames);\n\t\t\t\tme.dropFrames = me.dropFrames % 1;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\t\t\twhile (i < me.animations.length) {\n\t\t\t\tif (me.animations[i].animationObject.currentStep === null) {\n\t\t\t\t\tme.animations[i].animationObject.currentStep = 0;\n\t\t\t\t}\n\n\t\t\t\tme.animations[i].animationObject.currentStep += 1 + framesToDrop;\n\n\t\t\t\tif (me.animations[i].animationObject.currentStep > me.animations[i].animationObject.numSteps) {\n\t\t\t\t\tme.animations[i].animationObject.currentStep = me.animations[i].animationObject.numSteps;\n\t\t\t\t}\n\n\t\t\t\tme.animations[i].animationObject.render(me.animations[i].chartInstance, me.animations[i].animationObject);\n\t\t\t\tif (me.animations[i].animationObject.onAnimationProgress && me.animations[i].animationObject.onAnimationProgress.call) {\n\t\t\t\t\tme.animations[i].animationObject.onAnimationProgress.call(me.animations[i].chartInstance, me.animations[i]);\n\t\t\t\t}\n\n\t\t\t\tif (me.animations[i].animationObject.currentStep === me.animations[i].animationObject.numSteps) {\n\t\t\t\t\tif (me.animations[i].animationObject.onAnimationComplete && me.animations[i].animationObject.onAnimationComplete.call) {\n\t\t\t\t\t\tme.animations[i].animationObject.onAnimationComplete.call(me.animations[i].chartInstance, me.animations[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// executed the last frame. Remove the animation.\n\t\t\t\t\tme.animations[i].chartInstance.animating = false;\n\n\t\t\t\t\tme.animations.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\t++i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar endTime = Date.now();\n\t\t\tvar dropFrames = (endTime - startTime) / me.frameDuration;\n\n\t\t\tme.dropFrames += dropFrames;\n\n\t\t\t// Do we have more stuff to animate?\n\t\t\tif (me.animations.length > 0) {\n\t\t\t\tme.requestAnimationFrame();\n\t\t\t}\n\t\t}\n\t};\n};\n\n},{}],22:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\t// Global Chart canvas helpers object for drawing items to canvas\n\tvar helpers = Chart.canvasHelpers = {};\n\n\thelpers.drawPoint = function(ctx, pointStyle, radius, x, y) {\n\t\tvar type, edgeLength, xOffset, yOffset, height, size;\n\n\t\tif (typeof pointStyle === 'object') {\n\t\t\ttype = pointStyle.toString();\n\t\t\tif (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n\t\t\t\tctx.drawImage(pointStyle, x - pointStyle.width / 2, y - pointStyle.height / 2);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (isNaN(radius) || radius <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (pointStyle) {\n\t\t// Default includes circle\n\t\tdefault:\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'triangle':\n\t\t\tctx.beginPath();\n\t\t\tedgeLength = 3 * radius / Math.sqrt(3);\n\t\t\theight = edgeLength * Math.sqrt(3) / 2;\n\t\t\tctx.moveTo(x - edgeLength / 2, y + height / 3);\n\t\t\tctx.lineTo(x + edgeLength / 2, y + height / 3);\n\t\t\tctx.lineTo(x, y - 2 * height / 3);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'rect':\n\t\t\tsize = 1 / Math.SQRT2 * radius;\n\t\t\tctx.beginPath();\n\t\t\tctx.fillRect(x - size, y - size, 2 * size, 2 * size);\n\t\t\tctx.strokeRect(x - size, y - size, 2 * size, 2 * size);\n\t\t\tbreak;\n\t\tcase 'rectRot':\n\t\t\tsize = 1 / Math.SQRT2 * radius;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x - size, y);\n\t\t\tctx.lineTo(x, y + size);\n\t\t\tctx.lineTo(x + size, y);\n\t\t\tctx.lineTo(x, y - size);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'cross':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y + radius);\n\t\t\tctx.lineTo(x, y - radius);\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'crossRot':\n\t\t\tctx.beginPath();\n\t\t\txOffset = Math.cos(Math.PI / 4) * radius;\n\t\t\tyOffset = Math.sin(Math.PI / 4) * radius;\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\n\t\t\tctx.moveTo(x - xOffset, y + yOffset);\n\t\t\tctx.lineTo(x + xOffset, y - yOffset);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'star':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y + radius);\n\t\t\tctx.lineTo(x, y - radius);\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\txOffset = Math.cos(Math.PI / 4) * radius;\n\t\t\tyOffset = Math.sin(Math.PI / 4) * radius;\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\n\t\t\tctx.moveTo(x - xOffset, y + yOffset);\n\t\t\tctx.lineTo(x + xOffset, y - yOffset);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'line':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'dash':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\t}\n\n\t\tctx.stroke();\n\t};\n};\n\n},{}],23:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\t// Create a dictionary of chart types, to allow for extension of existing types\n\tChart.types = {};\n\n\t// Store a reference to each instance - allowing us to globally resize chart instances on window resize.\n\t// Destroy method on the chart will remove the instance of the chart from this reference.\n\tChart.instances = {};\n\n\t// Controllers available for dataset visualization eg. bar, line, slice, etc.\n\tChart.controllers = {};\n\n\t/**\n\t * @class Chart.Controller\n\t * The main controller of a chart.\n\t */\n\tChart.Controller = function(instance) {\n\n\t\tthis.chart = instance;\n\t\tthis.config = instance.config;\n\t\tthis.options = this.config.options = helpers.configMerge(Chart.defaults.global, Chart.defaults[this.config.type], this.config.options || {});\n\t\tthis.id = helpers.uid();\n\n\t\tObject.defineProperty(this, 'data', {\n\t\t\tget: function() {\n\t\t\t\treturn this.config.data;\n\t\t\t}\n\t\t});\n\n\t\t// Add the chart instance to the global namespace\n\t\tChart.instances[this.id] = this;\n\n\t\tif (this.options.responsive) {\n\t\t\t// Silent resize before chart draws\n\t\t\tthis.resize(true);\n\t\t}\n\n\t\tthis.initialize();\n\n\t\treturn this;\n\t};\n\n\thelpers.extend(Chart.Controller.prototype, /** @lends Chart.Controller */ {\n\n\t\tinitialize: function() {\n\t\t\tvar me = this;\n\t\t\t// Before init plugin notification\n\t\t\tChart.plugins.notify('beforeInit', [me]);\n\n\t\t\tme.bindEvents();\n\n\t\t\t// Make sure controllers are built first so that each dataset is bound to an axis before the scales\n\t\t\t// are built\n\t\t\tme.ensureScalesHaveIDs();\n\t\t\tme.buildOrUpdateControllers();\n\t\t\tme.buildScales();\n\t\t\tme.updateLayout();\n\t\t\tme.resetElements();\n\t\t\tme.initToolTip();\n\t\t\tme.update();\n\n\t\t\t// After init plugin notification\n\t\t\tChart.plugins.notify('afterInit', [me]);\n\n\t\t\treturn me;\n\t\t},\n\n\t\tclear: function() {\n\t\t\thelpers.clear(this.chart);\n\t\t\treturn this;\n\t\t},\n\n\t\tstop: function() {\n\t\t\t// Stops any current animation loop occuring\n\t\t\tChart.animationService.cancelAnimation(this);\n\t\t\treturn this;\n\t\t},\n\n\t\tresize: function(silent) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar canvas = chart.canvas;\n\t\t\tvar newWidth = helpers.getMaximumWidth(canvas);\n\t\t\tvar aspectRatio = chart.aspectRatio;\n\t\t\tvar newHeight = (me.options.maintainAspectRatio && isNaN(aspectRatio) === false && isFinite(aspectRatio) && aspectRatio !== 0) ? newWidth / aspectRatio : helpers.getMaximumHeight(canvas);\n\n\t\t\tvar sizeChanged = chart.width !== newWidth || chart.height !== newHeight;\n\n\t\t\tif (!sizeChanged) {\n\t\t\t\treturn me;\n\t\t\t}\n\n\t\t\tcanvas.width = chart.width = newWidth;\n\t\t\tcanvas.height = chart.height = newHeight;\n\n\t\t\thelpers.retinaScale(chart);\n\n\t\t\t// Notify any plugins about the resize\n\t\t\tvar newSize = {width: newWidth, height: newHeight};\n\t\t\tChart.plugins.notify('resize', [me, newSize]);\n\n\t\t\t// Notify of resize\n\t\t\tif (me.options.onResize) {\n\t\t\t\tme.options.onResize(me, newSize);\n\t\t\t}\n\n\t\t\tif (!silent) {\n\t\t\t\tme.stop();\n\t\t\t\tme.update(me.options.responsiveAnimationDuration);\n\t\t\t}\n\n\t\t\treturn me;\n\t\t},\n\n\t\tensureScalesHaveIDs: function() {\n\t\t\tvar options = this.options;\n\t\t\tvar scalesOptions = options.scales || {};\n\t\t\tvar scaleOptions = options.scale;\n\n\t\t\thelpers.each(scalesOptions.xAxes, function(xAxisOptions, index) {\n\t\t\t\txAxisOptions.id = xAxisOptions.id || ('x-axis-' + index);\n\t\t\t});\n\n\t\t\thelpers.each(scalesOptions.yAxes, function(yAxisOptions, index) {\n\t\t\t\tyAxisOptions.id = yAxisOptions.id || ('y-axis-' + index);\n\t\t\t});\n\n\t\t\tif (scaleOptions) {\n\t\t\t\tscaleOptions.id = scaleOptions.id || 'scale';\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Builds a map of scale ID to scale object for future lookup.\n\t\t */\n\t\tbuildScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tvar scales = me.scales = {};\n\t\t\tvar items = [];\n\n\t\t\tif (options.scales) {\n\t\t\t\titems = items.concat(\n\t\t\t\t\t(options.scales.xAxes || []).map(function(xAxisOptions) {\n\t\t\t\t\t\treturn {options: xAxisOptions, dtype: 'category'};\n\t\t\t\t\t}),\n\t\t\t\t\t(options.scales.yAxes || []).map(function(yAxisOptions) {\n\t\t\t\t\t\treturn {options: yAxisOptions, dtype: 'linear'};\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (options.scale) {\n\t\t\t\titems.push({options: options.scale, dtype: 'radialLinear', isDefault: true});\n\t\t\t}\n\n\t\t\thelpers.each(items, function(item) {\n\t\t\t\tvar scaleOptions = item.options;\n\t\t\t\tvar scaleType = helpers.getValueOrDefault(scaleOptions.type, item.dtype);\n\t\t\t\tvar scaleClass = Chart.scaleService.getScaleConstructor(scaleType);\n\t\t\t\tif (!scaleClass) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar scale = new scaleClass({\n\t\t\t\t\tid: scaleOptions.id,\n\t\t\t\t\toptions: scaleOptions,\n\t\t\t\t\tctx: me.chart.ctx,\n\t\t\t\t\tchart: me\n\t\t\t\t});\n\n\t\t\t\tscales[scale.id] = scale;\n\n\t\t\t\t// TODO(SB): I think we should be able to remove this custom case (options.scale)\n\t\t\t\t// and consider it as a regular scale part of the \"scales\"\" map only! This would\n\t\t\t\t// make the logic easier and remove some useless? custom code.\n\t\t\t\tif (item.isDefault) {\n\t\t\t\t\tme.scale = scale;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tChart.scaleService.addScalesToLayout(this);\n\t\t},\n\n\t\tupdateLayout: function() {\n\t\t\tChart.layoutService.update(this, this.chart.width, this.chart.height);\n\t\t},\n\n\t\tbuildOrUpdateControllers: function() {\n\t\t\tvar me = this;\n\t\t\tvar types = [];\n\t\t\tvar newControllers = [];\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\t\t\tif (!meta.type) {\n\t\t\t\t\tmeta.type = dataset.type || me.config.type;\n\t\t\t\t}\n\n\t\t\t\ttypes.push(meta.type);\n\n\t\t\t\tif (meta.controller) {\n\t\t\t\t\tmeta.controller.updateIndex(datasetIndex);\n\t\t\t\t} else {\n\t\t\t\t\tmeta.controller = new Chart.controllers[meta.type](me, datasetIndex);\n\t\t\t\t\tnewControllers.push(meta.controller);\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\tif (types.length > 1) {\n\t\t\t\tfor (var i = 1; i < types.length; i++) {\n\t\t\t\t\tif (types[i] !== types[i - 1]) {\n\t\t\t\t\t\tme.isCombo = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newControllers;\n\t\t},\n\n\t\tresetElements: function() {\n\t\t\tvar me = this;\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.reset();\n\t\t\t}, me);\n\t\t},\n\n\t\tupdate: function(animationDuration, lazy) {\n\t\t\tvar me = this;\n\t\t\tChart.plugins.notify('beforeUpdate', [me]);\n\n\t\t\t// In case the entire data object changed\n\t\t\tme.tooltip._data = me.data;\n\n\t\t\t// Make sure dataset controllers are updated and new controllers are reset\n\t\t\tvar newControllers = me.buildOrUpdateControllers();\n\n\t\t\t// Make sure all dataset controllers have correct meta data counts\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.buildOrUpdateElements();\n\t\t\t}, me);\n\n\t\t\tChart.layoutService.update(me, me.chart.width, me.chart.height);\n\n\t\t\t// Apply changes to the dataets that require the scales to have been calculated i.e BorderColor chages\n\t\t\tChart.plugins.notify('afterScaleUpdate', [me]);\n\n\t\t\t// Can only reset the new controllers after the scales have been updated\n\t\t\thelpers.each(newControllers, function(controller) {\n\t\t\t\tcontroller.reset();\n\t\t\t});\n\n\t\t\tme.updateDatasets();\n\n\t\t\t// Do this before render so that any plugins that need final scale updates can use it\n\t\t\tChart.plugins.notify('afterUpdate', [me]);\n\n\t\t\tme.render(animationDuration, lazy);\n\t\t},\n\n\t\t/**\n\t\t * @method beforeDatasetsUpdate\n\t\t * @description Called before all datasets are updated. If a plugin returns false,\n\t\t * the datasets update will be cancelled until another chart update is triggered.\n\t\t * @param {Object} instance the chart instance being updated.\n\t\t * @returns {Boolean} false to cancel the datasets update.\n\t\t * @memberof Chart.PluginBase\n\t\t * @since version 2.1.5\n\t\t * @instance\n\t\t */\n\n\t\t/**\n\t\t * @method afterDatasetsUpdate\n\t\t * @description Called after all datasets have been updated. Note that this\n\t\t * extension will not be called if the datasets update has been cancelled.\n\t\t * @param {Object} instance the chart instance being updated.\n\t\t * @memberof Chart.PluginBase\n\t\t * @since version 2.1.5\n\t\t * @instance\n\t\t */\n\n\t\t/**\n\t\t * Updates all datasets unless a plugin returns false to the beforeDatasetsUpdate\n\t\t * extension, in which case no datasets will be updated and the afterDatasetsUpdate\n\t\t * notification will be skipped.\n\t\t * @protected\n\t\t * @instance\n\t\t */\n\t\tupdateDatasets: function() {\n\t\t\tvar me = this;\n\t\t\tvar i, ilen;\n\n\t\t\tif (Chart.plugins.notify('beforeDatasetsUpdate', [me])) {\n\t\t\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n\t\t\t\t\tme.getDatasetMeta(i).controller.update();\n\t\t\t\t}\n\n\t\t\t\tChart.plugins.notify('afterDatasetsUpdate', [me]);\n\t\t\t}\n\t\t},\n\n\t\trender: function(duration, lazy) {\n\t\t\tvar me = this;\n\t\t\tChart.plugins.notify('beforeRender', [me]);\n\n\t\t\tvar animationOptions = me.options.animation;\n\t\t\tif (animationOptions && ((typeof duration !== 'undefined' && duration !== 0) || (typeof duration === 'undefined' && animationOptions.duration !== 0))) {\n\t\t\t\tvar animation = new Chart.Animation();\n\t\t\t\tanimation.numSteps = (duration || animationOptions.duration) / 16.66; // 60 fps\n\t\t\t\tanimation.easing = animationOptions.easing;\n\n\t\t\t\t// render function\n\t\t\t\tanimation.render = function(chartInstance, animationObject) {\n\t\t\t\t\tvar easingFunction = helpers.easingEffects[animationObject.easing];\n\t\t\t\t\tvar stepDecimal = animationObject.currentStep / animationObject.numSteps;\n\t\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\n\n\t\t\t\t\tchartInstance.draw(easeDecimal, stepDecimal, animationObject.currentStep);\n\t\t\t\t};\n\n\t\t\t\t// user events\n\t\t\t\tanimation.onAnimationProgress = animationOptions.onProgress;\n\t\t\t\tanimation.onAnimationComplete = animationOptions.onComplete;\n\n\t\t\t\tChart.animationService.addAnimation(me, animation, duration, lazy);\n\t\t\t} else {\n\t\t\t\tme.draw();\n\t\t\t\tif (animationOptions && animationOptions.onComplete && animationOptions.onComplete.call) {\n\t\t\t\t\tanimationOptions.onComplete.call(me);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn me;\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tme.clear();\n\n\t\t\tChart.plugins.notify('beforeDraw', [me, easingDecimal]);\n\n\t\t\t// Draw all the scales\n\t\t\thelpers.each(me.boxes, function(box) {\n\t\t\t\tbox.draw(me.chartArea);\n\t\t\t}, me);\n\t\t\tif (me.scale) {\n\t\t\t\tme.scale.draw();\n\t\t\t}\n\n\t\t\tChart.plugins.notify('beforeDatasetsDraw', [me, easingDecimal]);\n\n\t\t\t// Draw each dataset via its respective controller (reversed to support proper line stacking)\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tme.getDatasetMeta(datasetIndex).controller.draw(ease);\n\t\t\t\t}\n\t\t\t}, me, true);\n\n\t\t\tChart.plugins.notify('afterDatasetsDraw', [me, easingDecimal]);\n\n\t\t\t// Finally draw the tooltip\n\t\t\tme.tooltip.transition(easingDecimal).draw();\n\n\t\t\tChart.plugins.notify('afterDraw', [me, easingDecimal]);\n\t\t},\n\n\t\t// Get the single element that was clicked on\n\t\t// @return : An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw\n\t\tgetElementAtEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar eventPosition = helpers.getRelativePosition(e, me.chart);\n\t\t\tvar elementsArray = [];\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\t\t\t\thelpers.each(meta.data, function(element) {\n\t\t\t\t\t\tif (element.inRange(eventPosition.x, eventPosition.y)) {\n\t\t\t\t\t\t\telementsArray.push(element);\n\t\t\t\t\t\t\treturn elementsArray;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn elementsArray.slice(0, 1);\n\t\t},\n\n\t\tgetElementsAtEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar eventPosition = helpers.getRelativePosition(e, me.chart);\n\t\t\tvar elementsArray = [];\n\n\t\t\tvar found = function() {\n\t\t\t\tif (me.data.datasets) {\n\t\t\t\t\tfor (var i = 0; i < me.data.datasets.length; i++) {\n\t\t\t\t\t\tvar meta = me.getDatasetMeta(i);\n\t\t\t\t\t\tif (me.isDatasetVisible(i)) {\n\t\t\t\t\t\t\tfor (var j = 0; j < meta.data.length; j++) {\n\t\t\t\t\t\t\t\tif (meta.data[j].inRange(eventPosition.x, eventPosition.y)) {\n\t\t\t\t\t\t\t\t\treturn meta.data[j];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.call(me);\n\n\t\t\tif (!found) {\n\t\t\t\treturn elementsArray;\n\t\t\t}\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex),\n\t\t\t\t\t\telement = meta.data[found._index];\n\t\t\t\t\tif (element && !element._view.skip) {\n\t\t\t\t\t\telementsArray.push(element);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\treturn elementsArray;\n\t\t},\n\n\t\tgetElementsAtXAxis: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar eventPosition = helpers.getRelativePosition(e, me.chart);\n\t\t\tvar elementsArray = [];\n\n\t\t\tvar found = function() {\n\t\t\t\tif (me.data.datasets) {\n\t\t\t\t\tfor (var i = 0; i < me.data.datasets.length; i++) {\n\t\t\t\t\t\tvar meta = me.getDatasetMeta(i);\n\t\t\t\t\t\tif (me.isDatasetVisible(i)) {\n\t\t\t\t\t\t\tfor (var j = 0; j < meta.data.length; j++) {\n\t\t\t\t\t\t\t\tif (meta.data[j].inLabelRange(eventPosition.x, eventPosition.y)) {\n\t\t\t\t\t\t\t\t\treturn meta.data[j];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.call(me);\n\n\t\t\tif (!found) {\n\t\t\t\treturn elementsArray;\n\t\t\t}\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\t\t\t\tvar index = helpers.findIndex(meta.data, function(it) {\n\t\t\t\t\t\treturn found._model.x === it._model.x;\n\t\t\t\t\t});\n\t\t\t\t\tif (index !== -1 && !meta.data[index]._view.skip) {\n\t\t\t\t\t\telementsArray.push(meta.data[index]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\treturn elementsArray;\n\t\t},\n\n\t\tgetElementsAtEventForMode: function(e, mode) {\n\t\t\tvar me = this;\n\t\t\tswitch (mode) {\n\t\t\tcase 'single':\n\t\t\t\treturn me.getElementAtEvent(e);\n\t\t\tcase 'label':\n\t\t\t\treturn me.getElementsAtEvent(e);\n\t\t\tcase 'dataset':\n\t\t\t\treturn me.getDatasetAtEvent(e);\n\t\t\tcase 'x-axis':\n\t\t\t\treturn me.getElementsAtXAxis(e);\n\t\t\tdefault:\n\t\t\t\treturn e;\n\t\t\t}\n\t\t},\n\n\t\tgetDatasetAtEvent: function(e) {\n\t\t\tvar elementsArray = this.getElementAtEvent(e);\n\n\t\t\tif (elementsArray.length > 0) {\n\t\t\t\telementsArray = this.getDatasetMeta(elementsArray[0]._datasetIndex).data;\n\t\t\t}\n\n\t\t\treturn elementsArray;\n\t\t},\n\n\t\tgetDatasetMeta: function(datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.data.datasets[datasetIndex];\n\t\t\tif (!dataset._meta) {\n\t\t\t\tdataset._meta = {};\n\t\t\t}\n\n\t\t\tvar meta = dataset._meta[me.id];\n\t\t\tif (!meta) {\n\t\t\t\tmeta = dataset._meta[me.id] = {\n\t\t\t\t\ttype: null,\n\t\t\t\t\tdata: [],\n\t\t\t\t\tdataset: null,\n\t\t\t\t\tcontroller: null,\n\t\t\t\t\thidden: null,\t\t\t// See isDatasetVisible() comment\n\t\t\t\t\txAxisID: null,\n\t\t\t\t\tyAxisID: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn meta;\n\t\t},\n\n\t\tgetVisibleDatasetCount: function() {\n\t\t\tvar count = 0;\n\t\t\tfor (var i = 0, ilen = this.data.datasets.length; i<ilen; ++i) {\n\t\t\t\tif (this.isDatasetVisible(i)) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\tisDatasetVisible: function(datasetIndex) {\n\t\t\tvar meta = this.getDatasetMeta(datasetIndex);\n\n\t\t\t// meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n\t\t\t// the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n\t\t\treturn typeof meta.hidden === 'boolean'? !meta.hidden : !this.data.datasets[datasetIndex].hidden;\n\t\t},\n\n\t\tgenerateLegend: function() {\n\t\t\treturn this.options.legendCallback(this);\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tvar me = this;\n\t\t\tme.stop();\n\t\t\tme.clear();\n\t\t\thelpers.unbindEvents(me, me.events);\n\t\t\thelpers.removeResizeListener(me.chart.canvas.parentNode);\n\n\t\t\t// Reset canvas height/width attributes\n\t\t\tvar canvas = me.chart.canvas;\n\t\t\tcanvas.width = me.chart.width;\n\t\t\tcanvas.height = me.chart.height;\n\n\t\t\t// if we scaled the canvas in response to a devicePixelRatio !== 1, we need to undo that transform here\n\t\t\tif (me.chart.originalDevicePixelRatio !== undefined) {\n\t\t\t\tme.chart.ctx.scale(1 / me.chart.originalDevicePixelRatio, 1 / me.chart.originalDevicePixelRatio);\n\t\t\t}\n\n\t\t\t// Reset to the old style since it may have been changed by the device pixel ratio changes\n\t\t\tcanvas.style.width = me.chart.originalCanvasStyleWidth;\n\t\t\tcanvas.style.height = me.chart.originalCanvasStyleHeight;\n\n\t\t\tChart.plugins.notify('destroy', [me]);\n\n\t\t\tdelete Chart.instances[me.id];\n\t\t},\n\n\t\ttoBase64Image: function() {\n\t\t\treturn this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments);\n\t\t},\n\n\t\tinitToolTip: function() {\n\t\t\tvar me = this;\n\t\t\tme.tooltip = new Chart.Tooltip({\n\t\t\t\t_chart: me.chart,\n\t\t\t\t_chartInstance: me,\n\t\t\t\t_data: me.data,\n\t\t\t\t_options: me.options.tooltips\n\t\t\t}, me);\n\t\t},\n\n\t\tbindEvents: function() {\n\t\t\tvar me = this;\n\t\t\thelpers.bindEvents(me, me.options.events, function(evt) {\n\t\t\t\tme.eventHandler(evt);\n\t\t\t});\n\t\t},\n\n\t\tupdateHoverStyle: function(elements, mode, enabled) {\n\t\t\tvar method = enabled? 'setHoverStyle' : 'removeHoverStyle';\n\t\t\tvar element, i, ilen;\n\n\t\t\tswitch (mode) {\n\t\t\tcase 'single':\n\t\t\t\telements = [elements[0]];\n\t\t\t\tbreak;\n\t\t\tcase 'label':\n\t\t\tcase 'dataset':\n\t\t\tcase 'x-axis':\n\t\t\t\t// elements = elements;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// unsupported mode\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (i=0, ilen=elements.length; i<ilen; ++i) {\n\t\t\t\telement = elements[i];\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getDatasetMeta(element._datasetIndex).controller[method](element);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\teventHandler: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar tooltip = me.tooltip;\n\t\t\tvar options = me.options || {};\n\t\t\tvar hoverOptions = options.hover;\n\t\t\tvar tooltipsOptions = options.tooltips;\n\n\t\t\tme.lastActive = me.lastActive || [];\n\t\t\tme.lastTooltipActive = me.lastTooltipActive || [];\n\n\t\t\t// Find Active Elements for hover and tooltips\n\t\t\tif (e.type === 'mouseout') {\n\t\t\t\tme.active = [];\n\t\t\t\tme.tooltipActive = [];\n\t\t\t} else {\n\t\t\t\tme.active = me.getElementsAtEventForMode(e, hoverOptions.mode);\n\t\t\t\tme.tooltipActive = me.getElementsAtEventForMode(e, tooltipsOptions.mode);\n\t\t\t}\n\n\t\t\t// On Hover hook\n\t\t\tif (hoverOptions.onHover) {\n\t\t\t\thoverOptions.onHover.call(me, me.active);\n\t\t\t}\n\n\t\t\tif (me.legend && me.legend.handleEvent) {\n\t\t\t\tme.legend.handleEvent(e);\n\t\t\t}\n\n\t\t\tif (e.type === 'mouseup' || e.type === 'click') {\n\t\t\t\tif (options.onClick) {\n\t\t\t\t\toptions.onClick.call(me, e, me.active);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove styling for last active (even if it may still be active)\n\t\t\tif (me.lastActive.length) {\n\t\t\t\tme.updateHoverStyle(me.lastActive, hoverOptions.mode, false);\n\t\t\t}\n\n\t\t\t// Built in hover styling\n\t\t\tif (me.active.length && hoverOptions.mode) {\n\t\t\t\tme.updateHoverStyle(me.active, hoverOptions.mode, true);\n\t\t\t}\n\n\t\t\t// Built in Tooltips\n\t\t\tif (tooltipsOptions.enabled || tooltipsOptions.custom) {\n\t\t\t\ttooltip.initialize();\n\t\t\t\ttooltip._active = me.tooltipActive;\n\t\t\t\ttooltip.update(true);\n\t\t\t}\n\n\t\t\t// Hover animations\n\t\t\ttooltip.pivot();\n\n\t\t\tif (!me.animating) {\n\t\t\t\t// If entering, leaving, or changing elements, animate the change via pivot\n\t\t\t\tif (!helpers.arrayEquals(me.active, me.lastActive) ||\n\t\t\t\t\t!helpers.arrayEquals(me.tooltipActive, me.lastTooltipActive)) {\n\n\t\t\t\t\tme.stop();\n\n\t\t\t\t\tif (tooltipsOptions.enabled || tooltipsOptions.custom) {\n\t\t\t\t\t\ttooltip.update(true);\n\t\t\t\t\t}\n\n\t\t\t\t\t// We only need to render at this point. Updating will cause scales to be\n\t\t\t\t\t// recomputed generating flicker & using more memory than necessary.\n\t\t\t\t\tme.render(hoverOptions.animationDuration, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remember Last Actives\n\t\t\tme.lastActive = me.active;\n\t\t\tme.lastTooltipActive = me.tooltipActive;\n\t\t\treturn me;\n\t\t}\n\t});\n};\n\n},{}],24:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar noop = helpers.noop;\n\n\t// Base class for all dataset controllers (line, bar, etc)\n\tChart.DatasetController = function(chart, datasetIndex) {\n\t\tthis.initialize(chart, datasetIndex);\n\t};\n\n\thelpers.extend(Chart.DatasetController.prototype, {\n\n\t\t/**\n\t\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdatasetElementType: null,\n\n\t\t/**\n\t\t * Element type used to generate a meta data (e.g. Chart.element.Point).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdataElementType: null,\n\n\t\tinitialize: function(chart, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tme.chart = chart;\n\t\t\tme.index = datasetIndex;\n\t\t\tme.linkScales();\n\t\t\tme.addElements();\n\t\t},\n\n\t\tupdateIndex: function(datasetIndex) {\n\t\t\tthis.index = datasetIndex;\n\t\t},\n\n\t\tlinkScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar dataset = me.getDataset();\n\n\t\t\tif (meta.xAxisID === null) {\n\t\t\t\tmeta.xAxisID = dataset.xAxisID || me.chart.options.scales.xAxes[0].id;\n\t\t\t}\n\t\t\tif (meta.yAxisID === null) {\n\t\t\t\tmeta.yAxisID = dataset.yAxisID || me.chart.options.scales.yAxes[0].id;\n\t\t\t}\n\t\t},\n\n\t\tgetDataset: function() {\n\t\t\treturn this.chart.data.datasets[this.index];\n\t\t},\n\n\t\tgetMeta: function() {\n\t\t\treturn this.chart.getDatasetMeta(this.index);\n\t\t},\n\n\t\tgetScaleForId: function(scaleID) {\n\t\t\treturn this.chart.scales[scaleID];\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.update(true);\n\t\t},\n\n\t\tcreateMetaDataset: function() {\n\t\t\tvar me = this;\n\t\t\tvar type = me.datasetElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart.chart,\n\t\t\t\t_datasetIndex: me.index\n\t\t\t});\n\t\t},\n\n\t\tcreateMetaData: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar type = me.dataElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart.chart,\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index\n\t\t\t});\n\t\t},\n\n\t\taddElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar data = me.getDataset().data || [];\n\t\t\tvar metaData = meta.data;\n\t\t\tvar i, ilen;\n\n\t\t\tfor (i=0, ilen=data.length; i<ilen; ++i) {\n\t\t\t\tmetaData[i] = metaData[i] || me.createMetaData(meta, i);\n\t\t\t}\n\n\t\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\n\t\t},\n\n\t\taddElementAndReset: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar element = me.createMetaData(index);\n\t\t\tme.getMeta().data.splice(index, 0, element);\n\t\t\tme.updateElement(element, index, true);\n\t\t},\n\n\t\tbuildOrUpdateElements: function() {\n\t\t\t// Handle the number of data points changing\n\t\t\tvar meta = this.getMeta(),\n\t\t\t\tmd = meta.data,\n\t\t\t\tnumData = this.getDataset().data.length,\n\t\t\t\tnumMetaData = md.length;\n\n\t\t\t// Make sure that we handle number of datapoints changing\n\t\t\tif (numData < numMetaData) {\n\t\t\t\t// Remove excess bars for data points that have been removed\n\t\t\t\tmd.splice(numData, numMetaData - numData);\n\t\t\t} else if (numData > numMetaData) {\n\t\t\t\t// Add new elements\n\t\t\t\tfor (var index = numMetaData; index < numData; ++index) {\n\t\t\t\t\tthis.addElementAndReset(index);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdate: noop,\n\n\t\tdraw: function(ease) {\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\thelpers.each(this.getMeta().data, function(element) {\n\t\t\t\telement.transition(easingDecimal).draw();\n\t\t\t});\n\t\t},\n\n\t\tremoveHoverStyle: function(element, elementOpts) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tmodel = element._model;\n\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : valueOrDefault(dataset.backgroundColor, index, elementOpts.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : valueOrDefault(dataset.borderColor, index, elementOpts.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : valueOrDefault(dataset.borderWidth, index, elementOpts.borderWidth);\n\t\t},\n\n\t\tsetHoverStyle: function(element) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tgetHoverColor = helpers.getHoverColor,\n\t\t\t\tmodel = element._model;\n\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : valueOrDefault(dataset.hoverBackgroundColor, index, getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : valueOrDefault(dataset.hoverBorderColor, index, getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : valueOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);\n\t\t}\n\n\t});\n\n\tChart.DatasetController.extend = helpers.inherits;\n};\n\n},{}],25:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.elements = {};\n\n\tChart.Element = function(configuration) {\n\t\thelpers.extend(this, configuration);\n\t\tthis.initialize.apply(this, arguments);\n\t};\n\n\thelpers.extend(Chart.Element.prototype, {\n\n\t\tinitialize: function() {\n\t\t\tthis.hidden = false;\n\t\t},\n\n\t\tpivot: function() {\n\t\t\tvar me = this;\n\t\t\tif (!me._view) {\n\t\t\t\tme._view = helpers.clone(me._model);\n\t\t\t}\n\t\t\tme._start = helpers.clone(me._view);\n\t\t\treturn me;\n\t\t},\n\n\t\ttransition: function(ease) {\n\t\t\tvar me = this;\n\n\t\t\tif (!me._view) {\n\t\t\t\tme._view = helpers.clone(me._model);\n\t\t\t}\n\n\t\t\t// No animation -> No Transition\n\t\t\tif (ease === 1) {\n\t\t\t\tme._view = me._model;\n\t\t\t\tme._start = null;\n\t\t\t\treturn me;\n\t\t\t}\n\n\t\t\tif (!me._start) {\n\t\t\t\tme.pivot();\n\t\t\t}\n\n\t\t\thelpers.each(me._model, function(value, key) {\n\n\t\t\t\tif (key[0] === '_') {\n\t\t\t\t\t// Only non-underscored properties\n\t\t\t\t// Init if doesn't exist\n\t\t\t\t} else if (!me._view.hasOwnProperty(key)) {\n\t\t\t\t\tif (typeof value === 'number' && !isNaN(me._view[key])) {\n\t\t\t\t\t\tme._view[key] = value * ease;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tme._view[key] = value;\n\t\t\t\t\t}\n\t\t\t\t// No unnecessary computations\n\t\t\t\t} else if (value === me._view[key]) {\n\t\t\t\t\t// It's the same! Woohoo!\n\t\t\t\t// Color transitions if possible\n\t\t\t\t} else if (typeof value === 'string') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar color = helpers.color(me._model[key]).mix(helpers.color(me._start[key]), ease);\n\t\t\t\t\t\tme._view[key] = color.rgbString();\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tme._view[key] = value;\n\t\t\t\t\t}\n\t\t\t\t// Number transitions\n\t\t\t\t} else if (typeof value === 'number') {\n\t\t\t\t\tvar startVal = me._start[key] !== undefined && isNaN(me._start[key]) === false ? me._start[key] : 0;\n\t\t\t\t\tme._view[key] = ((me._model[key] - startVal) * ease) + startVal;\n\t\t\t\t// Everything else\n\t\t\t\t} else {\n\t\t\t\t\tme._view[key] = value;\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\treturn me;\n\t\t},\n\n\t\ttooltipPosition: function() {\n\t\t\treturn {\n\t\t\t\tx: this._model.x,\n\t\t\t\ty: this._model.y\n\t\t\t};\n\t\t},\n\n\t\thasValue: function() {\n\t\t\treturn helpers.isNumber(this._model.x) && helpers.isNumber(this._model.y);\n\t\t}\n\t});\n\n\tChart.Element.extend = helpers.inherits;\n\n};\n\n},{}],26:[function(require,module,exports){\n/* global window: false */\n/* global document: false */\n'use strict';\n\nvar color = require(3);\n\nmodule.exports = function(Chart) {\n\t// Global Chart helpers object for utility methods and classes\n\tvar helpers = Chart.helpers = {};\n\n\t// -- Basic js utility methods\n\thelpers.each = function(loopable, callback, self, reverse) {\n\t\t// Check to see if null or undefined firstly.\n\t\tvar i, len;\n\t\tif (helpers.isArray(loopable)) {\n\t\t\tlen = loopable.length;\n\t\t\tif (reverse) {\n\t\t\t\tfor (i = len - 1; i >= 0; i--) {\n\t\t\t\t\tcallback.call(self, loopable[i], i);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\tcallback.call(self, loopable[i], i);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof loopable === 'object') {\n\t\t\tvar keys = Object.keys(loopable);\n\t\t\tlen = keys.length;\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tcallback.call(self, loopable[keys[i]], keys[i]);\n\t\t\t}\n\t\t}\n\t};\n\thelpers.clone = function(obj) {\n\t\tvar objClone = {};\n\t\thelpers.each(obj, function(value, key) {\n\t\t\tif (helpers.isArray(value)) {\n\t\t\t\tobjClone[key] = value.slice(0);\n\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\tobjClone[key] = helpers.clone(value);\n\t\t\t} else {\n\t\t\t\tobjClone[key] = value;\n\t\t\t}\n\t\t});\n\t\treturn objClone;\n\t};\n\thelpers.extend = function(base) {\n\t\tvar setFn = function(value, key) {\n\t\t\tbase[key] = value;\n\t\t};\n\t\tfor (var i = 1, ilen = arguments.length; i < ilen; i++) {\n\t\t\thelpers.each(arguments[i], setFn);\n\t\t}\n\t\treturn base;\n\t};\n\t// Need a special merge function to chart configs since they are now grouped\n\thelpers.configMerge = function(_base) {\n\t\tvar base = helpers.clone(_base);\n\t\thelpers.each(Array.prototype.slice.call(arguments, 1), function(extension) {\n\t\t\thelpers.each(extension, function(value, key) {\n\t\t\t\tif (key === 'scales') {\n\t\t\t\t\t// Scale config merging is complex. Add out own function here for that\n\t\t\t\t\tbase[key] = helpers.scaleMerge(base.hasOwnProperty(key) ? base[key] : {}, value);\n\n\t\t\t\t} else if (key === 'scale') {\n\t\t\t\t\t// Used in polar area & radar charts since there is only one scale\n\t\t\t\t\tbase[key] = helpers.configMerge(base.hasOwnProperty(key) ? base[key] : {}, Chart.scaleService.getScaleDefaults(value.type), value);\n\t\t\t\t} else if (base.hasOwnProperty(key) && helpers.isArray(base[key]) && helpers.isArray(value)) {\n\t\t\t\t\t// In this case we have an array of objects replacing another array. Rather than doing a strict replace,\n\t\t\t\t\t// merge. This allows easy scale option merging\n\t\t\t\t\tvar baseArray = base[key];\n\n\t\t\t\t\thelpers.each(value, function(valueObj, index) {\n\n\t\t\t\t\t\tif (index < baseArray.length) {\n\t\t\t\t\t\t\tif (typeof baseArray[index] === 'object' && baseArray[index] !== null && typeof valueObj === 'object' && valueObj !== null) {\n\t\t\t\t\t\t\t\t// Two objects are coming together. Do a merge of them.\n\t\t\t\t\t\t\t\tbaseArray[index] = helpers.configMerge(baseArray[index], valueObj);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Just overwrite in this case since there is nothing to merge\n\t\t\t\t\t\t\t\tbaseArray[index] = valueObj;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbaseArray.push(valueObj); // nothing to merge\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t} else if (base.hasOwnProperty(key) && typeof base[key] === 'object' && base[key] !== null && typeof value === 'object') {\n\t\t\t\t\t// If we are overwriting an object with an object, do a merge of the properties.\n\t\t\t\t\tbase[key] = helpers.configMerge(base[key], value);\n\n\t\t\t\t} else {\n\t\t\t\t\t// can just overwrite the value in this case\n\t\t\t\t\tbase[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn base;\n\t};\n\thelpers.scaleMerge = function(_base, extension) {\n\t\tvar base = helpers.clone(_base);\n\n\t\thelpers.each(extension, function(value, key) {\n\t\t\tif (key === 'xAxes' || key === 'yAxes') {\n\t\t\t\t// These properties are arrays of items\n\t\t\t\tif (base.hasOwnProperty(key)) {\n\t\t\t\t\thelpers.each(value, function(valueObj, index) {\n\t\t\t\t\t\tvar axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');\n\t\t\t\t\t\tvar axisDefaults = Chart.scaleService.getScaleDefaults(axisType);\n\t\t\t\t\t\tif (index >= base[key].length || !base[key][index].type) {\n\t\t\t\t\t\t\tbase[key].push(helpers.configMerge(axisDefaults, valueObj));\n\t\t\t\t\t\t} else if (valueObj.type && valueObj.type !== base[key][index].type) {\n\t\t\t\t\t\t\t// Type changed. Bring in the new defaults before we bring in valueObj so that valueObj can override the correct scale defaults\n\t\t\t\t\t\t\tbase[key][index] = helpers.configMerge(base[key][index], axisDefaults, valueObj);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Type is the same\n\t\t\t\t\t\t\tbase[key][index] = helpers.configMerge(base[key][index], valueObj);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tbase[key] = [];\n\t\t\t\t\thelpers.each(value, function(valueObj) {\n\t\t\t\t\t\tvar axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');\n\t\t\t\t\t\tbase[key].push(helpers.configMerge(Chart.scaleService.getScaleDefaults(axisType), valueObj));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (base.hasOwnProperty(key) && typeof base[key] === 'object' && base[key] !== null && typeof value === 'object') {\n\t\t\t\t// If we are overwriting an object with an object, do a merge of the properties.\n\t\t\t\tbase[key] = helpers.configMerge(base[key], value);\n\n\t\t\t} else {\n\t\t\t\t// can just overwrite the value in this case\n\t\t\t\tbase[key] = value;\n\t\t\t}\n\t\t});\n\n\t\treturn base;\n\t};\n\thelpers.getValueAtIndexOrDefault = function(value, index, defaultValue) {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn defaultValue;\n\t\t}\n\n\t\tif (helpers.isArray(value)) {\n\t\t\treturn index < value.length ? value[index] : defaultValue;\n\t\t}\n\n\t\treturn value;\n\t};\n\thelpers.getValueOrDefault = function(value, defaultValue) {\n\t\treturn value === undefined ? defaultValue : value;\n\t};\n\thelpers.indexOf = Array.prototype.indexOf?\n\t\tfunction(array, item) {\n\t\t\treturn array.indexOf(item);\n\t\t}:\n\t\tfunction(array, item) {\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\n\t\t\t\tif (array[i] === item) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\thelpers.where = function(collection, filterCallback) {\n\t\tif (helpers.isArray(collection) && Array.prototype.filter) {\n\t\t\treturn collection.filter(filterCallback);\n\t\t}\n\t\tvar filtered = [];\n\n\t\thelpers.each(collection, function(item) {\n\t\t\tif (filterCallback(item)) {\n\t\t\t\tfiltered.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn filtered;\n\t};\n\thelpers.findIndex = Array.prototype.findIndex?\n\t\tfunction(array, callback, scope) {\n\t\t\treturn array.findIndex(callback, scope);\n\t\t} :\n\t\tfunction(array, callback, scope) {\n\t\t\tscope = scope === undefined? array : scope;\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\n\t\t\t\tif (callback.call(scope, array[i], i, array)) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\thelpers.findNextWhere = function(arrayToSearch, filterCallback, startIndex) {\n\t\t// Default to start of the array\n\t\tif (startIndex === undefined || startIndex === null) {\n\t\t\tstartIndex = -1;\n\t\t}\n\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\n\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\tif (filterCallback(currentItem)) {\n\t\t\t\treturn currentItem;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex) {\n\t\t// Default to end of the array\n\t\tif (startIndex === undefined || startIndex === null) {\n\t\t\tstartIndex = arrayToSearch.length;\n\t\t}\n\t\tfor (var i = startIndex - 1; i >= 0; i--) {\n\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\tif (filterCallback(currentItem)) {\n\t\t\t\treturn currentItem;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.inherits = function(extensions) {\n\t\t// Basic javascript inheritance based on the model created in Backbone.js\n\t\tvar me = this;\n\t\tvar ChartElement = (extensions && extensions.hasOwnProperty('constructor')) ? extensions.constructor : function() {\n\t\t\treturn me.apply(this, arguments);\n\t\t};\n\n\t\tvar Surrogate = function() {\n\t\t\tthis.constructor = ChartElement;\n\t\t};\n\t\tSurrogate.prototype = me.prototype;\n\t\tChartElement.prototype = new Surrogate();\n\n\t\tChartElement.extend = helpers.inherits;\n\n\t\tif (extensions) {\n\t\t\thelpers.extend(ChartElement.prototype, extensions);\n\t\t}\n\n\t\tChartElement.__super__ = me.prototype;\n\n\t\treturn ChartElement;\n\t};\n\thelpers.noop = function() {};\n\thelpers.uid = (function() {\n\t\tvar id = 0;\n\t\treturn function() {\n\t\t\treturn id++;\n\t\t};\n\t}());\n\t// -- Math methods\n\thelpers.isNumber = function(n) {\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t};\n\thelpers.almostEquals = function(x, y, epsilon) {\n\t\treturn Math.abs(x - y) < epsilon;\n\t};\n\thelpers.max = function(array) {\n\t\treturn array.reduce(function(max, value) {\n\t\t\tif (!isNaN(value)) {\n\t\t\t\treturn Math.max(max, value);\n\t\t\t}\n\t\t\treturn max;\n\t\t}, Number.NEGATIVE_INFINITY);\n\t};\n\thelpers.min = function(array) {\n\t\treturn array.reduce(function(min, value) {\n\t\t\tif (!isNaN(value)) {\n\t\t\t\treturn Math.min(min, value);\n\t\t\t}\n\t\t\treturn min;\n\t\t}, Number.POSITIVE_INFINITY);\n\t};\n\thelpers.sign = Math.sign?\n\t\tfunction(x) {\n\t\t\treturn Math.sign(x);\n\t\t} :\n\t\tfunction(x) {\n\t\t\tx = +x; // convert to a number\n\t\t\tif (x === 0 || isNaN(x)) {\n\t\t\t\treturn x;\n\t\t\t}\n\t\t\treturn x > 0 ? 1 : -1;\n\t\t};\n\thelpers.log10 = Math.log10?\n\t\tfunction(x) {\n\t\t\treturn Math.log10(x);\n\t\t} :\n\t\tfunction(x) {\n\t\t\treturn Math.log(x) / Math.LN10;\n\t\t};\n\thelpers.toRadians = function(degrees) {\n\t\treturn degrees * (Math.PI / 180);\n\t};\n\thelpers.toDegrees = function(radians) {\n\t\treturn radians * (180 / Math.PI);\n\t};\n\t// Gets the angle from vertical upright to the point about a centre.\n\thelpers.getAngleFromPoint = function(centrePoint, anglePoint) {\n\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x,\n\t\t\tdistanceFromYCenter = anglePoint.y - centrePoint.y,\n\t\t\tradialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n\t\tvar angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n\t\tif (angle < (-0.5 * Math.PI)) {\n\t\t\tangle += 2.0 * Math.PI; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n\t\t}\n\n\t\treturn {\n\t\t\tangle: angle,\n\t\t\tdistance: radialDistanceFromCenter\n\t\t};\n\t};\n\thelpers.aliasPixel = function(pixelWidth) {\n\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\n\t};\n\thelpers.splineCurve = function(firstPoint, middlePoint, afterPoint, t) {\n\t\t// Props to Rob Spencer at scaled innovation for his post on splining between points\n\t\t// http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n\t\t// This function must also respect \"skipped\" points\n\n\t\tvar previous = firstPoint.skip ? middlePoint : firstPoint,\n\t\t\tcurrent = middlePoint,\n\t\t\tnext = afterPoint.skip ? middlePoint : afterPoint;\n\n\t\tvar d01 = Math.sqrt(Math.pow(current.x - previous.x, 2) + Math.pow(current.y - previous.y, 2));\n\t\tvar d12 = Math.sqrt(Math.pow(next.x - current.x, 2) + Math.pow(next.y - current.y, 2));\n\n\t\tvar s01 = d01 / (d01 + d12);\n\t\tvar s12 = d12 / (d01 + d12);\n\n\t\t// If all points are the same, s01 & s02 will be inf\n\t\ts01 = isNaN(s01) ? 0 : s01;\n\t\ts12 = isNaN(s12) ? 0 : s12;\n\n\t\tvar fa = t * s01; // scaling factor for triangle Ta\n\t\tvar fb = t * s12;\n\n\t\treturn {\n\t\t\tprevious: {\n\t\t\t\tx: current.x - fa * (next.x - previous.x),\n\t\t\t\ty: current.y - fa * (next.y - previous.y)\n\t\t\t},\n\t\t\tnext: {\n\t\t\t\tx: current.x + fb * (next.x - previous.x),\n\t\t\t\ty: current.y + fb * (next.y - previous.y)\n\t\t\t}\n\t\t};\n\t};\n\thelpers.EPSILON = Number.EPSILON || 1e-14;\n\thelpers.splineCurveMonotone = function(points) {\n\t\t// This function calculates Bézier control points in a similar way than |splineCurve|,\n\t\t// but preserves monotonicity of the provided data and ensures no local extremums are added\n\t\t// between the dataset discrete points due to the interpolation.\n\t\t// See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n\n\t\tvar pointsWithTangents = (points || []).map(function(point) {\n\t\t\treturn {\n\t\t\t\tmodel: point._model,\n\t\t\t\tdeltaK: 0,\n\t\t\t\tmK: 0\n\t\t\t};\n\t\t});\n\n\t\t// Calculate slopes (deltaK) and initialize tangents (mK)\n\t\tvar pointsLen = pointsWithTangents.length;\n\t\tvar i, pointBefore, pointCurrent, pointAfter;\n\t\tfor (i = 0; i < pointsLen; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tif (pointCurrent.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\n\t\t\t\tpointCurrent.deltaK = (pointAfter.model.y - pointCurrent.model.y) / (pointAfter.model.x - pointCurrent.model.x);\n\t\t\t}\n\n\t\t\tif (!pointBefore || pointBefore.model.skip) {\n\t\t\t\tpointCurrent.mK = pointCurrent.deltaK;\n\t\t\t} else if (!pointAfter || pointAfter.model.skip) {\n\t\t\t\tpointCurrent.mK = pointBefore.deltaK;\n\t\t\t} else if (this.sign(pointBefore.deltaK) !== this.sign(pointCurrent.deltaK)) {\n\t\t\t\tpointCurrent.mK = 0;\n\t\t\t} else {\n\t\t\t\tpointCurrent.mK = (pointBefore.deltaK + pointCurrent.deltaK) / 2;\n\t\t\t}\n\t\t}\n\n\t\t// Adjust tangents to ensure monotonic properties\n\t\tvar alphaK, betaK, tauK, squaredMagnitude;\n\t\tfor (i = 0; i < pointsLen - 1; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tpointAfter = pointsWithTangents[i + 1];\n\t\t\tif (pointCurrent.model.skip || pointAfter.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (helpers.almostEquals(pointCurrent.deltaK, 0, this.EPSILON)) {\n\t\t\t\tpointCurrent.mK = pointAfter.mK = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\talphaK = pointCurrent.mK / pointCurrent.deltaK;\n\t\t\tbetaK = pointAfter.mK / pointCurrent.deltaK;\n\t\t\tsquaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n\t\t\tif (squaredMagnitude <= 9) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttauK = 3 / Math.sqrt(squaredMagnitude);\n\t\t\tpointCurrent.mK = alphaK * tauK * pointCurrent.deltaK;\n\t\t\tpointAfter.mK = betaK * tauK * pointCurrent.deltaK;\n\t\t}\n\n\t\t// Compute control points\n\t\tvar deltaX;\n\t\tfor (i = 0; i < pointsLen; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tif (pointCurrent.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n\t\t\tif (pointBefore && !pointBefore.model.skip) {\n\t\t\t\tdeltaX = (pointCurrent.model.x - pointBefore.model.x) / 3;\n\t\t\t\tpointCurrent.model.controlPointPreviousX = pointCurrent.model.x - deltaX;\n\t\t\t\tpointCurrent.model.controlPointPreviousY = pointCurrent.model.y - deltaX * pointCurrent.mK;\n\t\t\t}\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\n\t\t\t\tdeltaX = (pointAfter.model.x - pointCurrent.model.x) / 3;\n\t\t\t\tpointCurrent.model.controlPointNextX = pointCurrent.model.x + deltaX;\n\t\t\t\tpointCurrent.model.controlPointNextY = pointCurrent.model.y + deltaX * pointCurrent.mK;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.nextItem = function(collection, index, loop) {\n\t\tif (loop) {\n\t\t\treturn index >= collection.length - 1 ? collection[0] : collection[index + 1];\n\t\t}\n\t\treturn index >= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];\n\t};\n\thelpers.previousItem = function(collection, index, loop) {\n\t\tif (loop) {\n\t\t\treturn index <= 0 ? collection[collection.length - 1] : collection[index - 1];\n\t\t}\n\t\treturn index <= 0 ? collection[0] : collection[index - 1];\n\t};\n\t// Implementation of the nice number algorithm used in determining where axis labels will go\n\thelpers.niceNum = function(range, round) {\n\t\tvar exponent = Math.floor(helpers.log10(range));\n\t\tvar fraction = range / Math.pow(10, exponent);\n\t\tvar niceFraction;\n\n\t\tif (round) {\n\t\t\tif (fraction < 1.5) {\n\t\t\t\tniceFraction = 1;\n\t\t\t} else if (fraction < 3) {\n\t\t\t\tniceFraction = 2;\n\t\t\t} else if (fraction < 7) {\n\t\t\t\tniceFraction = 5;\n\t\t\t} else {\n\t\t\t\tniceFraction = 10;\n\t\t\t}\n\t\t} else if (fraction <= 1.0) {\n\t\t\tniceFraction = 1;\n\t\t} else if (fraction <= 2) {\n\t\t\tniceFraction = 2;\n\t\t} else if (fraction <= 5) {\n\t\t\tniceFraction = 5;\n\t\t} else {\n\t\t\tniceFraction = 10;\n\t\t}\n\n\t\treturn niceFraction * Math.pow(10, exponent);\n\t};\n\t// Easing functions adapted from Robert Penner's easing equations\n\t// http://www.robertpenner.com/easing/\n\tvar easingEffects = helpers.easingEffects = {\n\t\tlinear: function(t) {\n\t\t\treturn t;\n\t\t},\n\t\teaseInQuad: function(t) {\n\t\t\treturn t * t;\n\t\t},\n\t\teaseOutQuad: function(t) {\n\t\t\treturn -1 * t * (t - 2);\n\t\t},\n\t\teaseInOutQuad: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t;\n\t\t\t}\n\t\t\treturn -1 / 2 * ((--t) * (t - 2) - 1);\n\t\t},\n\t\teaseInCubic: function(t) {\n\t\t\treturn t * t * t;\n\t\t},\n\t\teaseOutCubic: function(t) {\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * t + 1);\n\t\t},\n\t\teaseInOutCubic: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t;\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * t + 2);\n\t\t},\n\t\teaseInQuart: function(t) {\n\t\t\treturn t * t * t * t;\n\t\t},\n\t\teaseOutQuart: function(t) {\n\t\t\treturn -1 * ((t = t / 1 - 1) * t * t * t - 1);\n\t\t},\n\t\teaseInOutQuart: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t * t;\n\t\t\t}\n\t\t\treturn -1 / 2 * ((t -= 2) * t * t * t - 2);\n\t\t},\n\t\teaseInQuint: function(t) {\n\t\t\treturn 1 * (t /= 1) * t * t * t * t;\n\t\t},\n\t\teaseOutQuint: function(t) {\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * t * t * t + 1);\n\t\t},\n\t\teaseInOutQuint: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t * t * t;\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * t * t * t + 2);\n\t\t},\n\t\teaseInSine: function(t) {\n\t\t\treturn -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1;\n\t\t},\n\t\teaseOutSine: function(t) {\n\t\t\treturn 1 * Math.sin(t / 1 * (Math.PI / 2));\n\t\t},\n\t\teaseInOutSine: function(t) {\n\t\t\treturn -1 / 2 * (Math.cos(Math.PI * t / 1) - 1);\n\t\t},\n\t\teaseInExpo: function(t) {\n\t\t\treturn (t === 0) ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1));\n\t\t},\n\t\teaseOutExpo: function(t) {\n\t\t\treturn (t === 1) ? 1 : 1 * (-Math.pow(2, -10 * t / 1) + 1);\n\t\t},\n\t\teaseInOutExpo: function(t) {\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (t === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * Math.pow(2, 10 * (t - 1));\n\t\t\t}\n\t\t\treturn 1 / 2 * (-Math.pow(2, -10 * --t) + 2);\n\t\t},\n\t\teaseInCirc: function(t) {\n\t\t\tif (t >= 1) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t\treturn -1 * (Math.sqrt(1 - (t /= 1) * t) - 1);\n\t\t},\n\t\teaseOutCirc: function(t) {\n\t\t\treturn 1 * Math.sqrt(1 - (t = t / 1 - 1) * t);\n\t\t},\n\t\teaseInOutCirc: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn -1 / 2 * (Math.sqrt(1 - t * t) - 1);\n\t\t\t}\n\t\t\treturn 1 / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n\t\t},\n\t\teaseInElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1) === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * 0.3;\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t},\n\t\teaseOutElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1) === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * 0.3;\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) + 1;\n\t\t},\n\t\teaseInOutElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1 / 2) === 2) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * (0.3 * 1.5);\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\tif (t < 1) {\n\t\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t\t}\n\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\t\t},\n\t\teaseInBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\treturn 1 * (t /= 1) * t * ((s + 1) * t - s);\n\t\t},\n\t\teaseOutBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);\n\t\t},\n\t\teaseInOutBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * (t * t * (((s *= (1.525)) + 1) * t - s));\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n\t\t},\n\t\teaseInBounce: function(t) {\n\t\t\treturn 1 - easingEffects.easeOutBounce(1 - t);\n\t\t},\n\t\teaseOutBounce: function(t) {\n\t\t\tif ((t /= 1) < (1 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * t * t);\n\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75);\n\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375);\n\t\t\t}\n\t\t\treturn 1 * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375);\n\t\t},\n\t\teaseInOutBounce: function(t) {\n\t\t\tif (t < 1 / 2) {\n\t\t\t\treturn easingEffects.easeInBounce(t * 2) * 0.5;\n\t\t\t}\n\t\t\treturn easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;\n\t\t}\n\t};\n\t// Request animation polyfill - http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n\thelpers.requestAnimFrame = (function() {\n\t\treturn window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t\t};\n\t}());\n\thelpers.cancelAnimFrame = (function() {\n\t\treturn window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.oCancelAnimationFrame ||\n\t\t\twindow.msCancelAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.clearTimeout(callback, 1000 / 60);\n\t\t\t};\n\t}());\n\t// -- DOM methods\n\thelpers.getRelativePosition = function(evt, chart) {\n\t\tvar mouseX, mouseY;\n\t\tvar e = evt.originalEvent || evt,\n\t\t\tcanvas = evt.currentTarget || evt.srcElement,\n\t\t\tboundingRect = canvas.getBoundingClientRect();\n\n\t\tvar touches = e.touches;\n\t\tif (touches && touches.length > 0) {\n\t\t\tmouseX = touches[0].clientX;\n\t\t\tmouseY = touches[0].clientY;\n\n\t\t} else {\n\t\t\tmouseX = e.clientX;\n\t\t\tmouseY = e.clientY;\n\t\t}\n\n\t\t// Scale mouse coordinates into canvas coordinates\n\t\t// by following the pattern laid out by 'jerryj' in the comments of\n\t\t// http://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/\n\t\tvar paddingLeft = parseFloat(helpers.getStyle(canvas, 'padding-left'));\n\t\tvar paddingTop = parseFloat(helpers.getStyle(canvas, 'padding-top'));\n\t\tvar paddingRight = parseFloat(helpers.getStyle(canvas, 'padding-right'));\n\t\tvar paddingBottom = parseFloat(helpers.getStyle(canvas, 'padding-bottom'));\n\t\tvar width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;\n\t\tvar height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;\n\n\t\t// We divide by the current device pixel ratio, because the canvas is scaled up by that amount in each direction. However\n\t\t// the backend model is in unscaled coordinates. Since we are going to deal with our model coordinates, we go back here\n\t\tmouseX = Math.round((mouseX - boundingRect.left - paddingLeft) / (width) * canvas.width / chart.currentDevicePixelRatio);\n\t\tmouseY = Math.round((mouseY - boundingRect.top - paddingTop) / (height) * canvas.height / chart.currentDevicePixelRatio);\n\n\t\treturn {\n\t\t\tx: mouseX,\n\t\t\ty: mouseY\n\t\t};\n\n\t};\n\thelpers.addEvent = function(node, eventType, method) {\n\t\tif (node.addEventListener) {\n\t\t\tnode.addEventListener(eventType, method);\n\t\t} else if (node.attachEvent) {\n\t\t\tnode.attachEvent('on' + eventType, method);\n\t\t} else {\n\t\t\tnode['on' + eventType] = method;\n\t\t}\n\t};\n\thelpers.removeEvent = function(node, eventType, handler) {\n\t\tif (node.removeEventListener) {\n\t\t\tnode.removeEventListener(eventType, handler, false);\n\t\t} else if (node.detachEvent) {\n\t\t\tnode.detachEvent('on' + eventType, handler);\n\t\t} else {\n\t\t\tnode['on' + eventType] = helpers.noop;\n\t\t}\n\t};\n\thelpers.bindEvents = function(chartInstance, arrayOfEvents, handler) {\n\t\t// Create the events object if it's not already present\n\t\tvar events = chartInstance.events = chartInstance.events || {};\n\n\t\thelpers.each(arrayOfEvents, function(eventName) {\n\t\t\tevents[eventName] = function() {\n\t\t\t\thandler.apply(chartInstance, arguments);\n\t\t\t};\n\t\t\thelpers.addEvent(chartInstance.chart.canvas, eventName, events[eventName]);\n\t\t});\n\t};\n\thelpers.unbindEvents = function(chartInstance, arrayOfEvents) {\n\t\tvar canvas = chartInstance.chart.canvas;\n\t\thelpers.each(arrayOfEvents, function(handler, eventName) {\n\t\t\thelpers.removeEvent(canvas, eventName, handler);\n\t\t});\n\t};\n\n\t// Private helper function to convert max-width/max-height values that may be percentages into a number\n\tfunction parseMaxStyle(styleValue, node, parentProperty) {\n\t\tvar valueInPixels;\n\t\tif (typeof(styleValue) === 'string') {\n\t\t\tvalueInPixels = parseInt(styleValue, 10);\n\n\t\t\tif (styleValue.indexOf('%') !== -1) {\n\t\t\t\t// percentage * size in dimension\n\t\t\t\tvalueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n\t\t\t}\n\t\t} else {\n\t\t\tvalueInPixels = styleValue;\n\t\t}\n\n\t\treturn valueInPixels;\n\t}\n\n\t/**\n\t * Returns if the given value contains an effective constraint.\n\t * @private\n\t */\n\tfunction isConstrainedValue(value) {\n\t\treturn value !== undefined && value !== null && value !== 'none';\n\t}\n\n\t// Private helper to get a constraint dimension\n\t// @param domNode : the node to check the constraint on\n\t// @param maxStyle : the style that defines the maximum for the direction we are using (maxWidth / maxHeight)\n\t// @param percentageProperty : property of parent to use when calculating width as a percentage\n\t// @see http://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser\n\tfunction getConstraintDimension(domNode, maxStyle, percentageProperty) {\n\t\tvar view = document.defaultView;\n\t\tvar parentNode = domNode.parentNode;\n\t\tvar constrainedNode = view.getComputedStyle(domNode)[maxStyle];\n\t\tvar constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];\n\t\tvar hasCNode = isConstrainedValue(constrainedNode);\n\t\tvar hasCContainer = isConstrainedValue(constrainedContainer);\n\t\tvar infinity = Number.POSITIVE_INFINITY;\n\n\t\tif (hasCNode || hasCContainer) {\n\t\t\treturn Math.min(\n\t\t\t\thasCNode? parseMaxStyle(constrainedNode, domNode, percentageProperty) : infinity,\n\t\t\t\thasCContainer? parseMaxStyle(constrainedContainer, parentNode, percentageProperty) : infinity);\n\t\t}\n\n\t\treturn 'none';\n\t}\n\t// returns Number or undefined if no constraint\n\thelpers.getConstraintWidth = function(domNode) {\n\t\treturn getConstraintDimension(domNode, 'max-width', 'clientWidth');\n\t};\n\t// returns Number or undefined if no constraint\n\thelpers.getConstraintHeight = function(domNode) {\n\t\treturn getConstraintDimension(domNode, 'max-height', 'clientHeight');\n\t};\n\thelpers.getMaximumWidth = function(domNode) {\n\t\tvar container = domNode.parentNode;\n\t\tvar paddingLeft = parseInt(helpers.getStyle(container, 'padding-left'), 10);\n\t\tvar paddingRight = parseInt(helpers.getStyle(container, 'padding-right'), 10);\n\t\tvar w = container.clientWidth - paddingLeft - paddingRight;\n\t\tvar cw = helpers.getConstraintWidth(domNode);\n\t\treturn isNaN(cw)? w : Math.min(w, cw);\n\t};\n\thelpers.getMaximumHeight = function(domNode) {\n\t\tvar container = domNode.parentNode;\n\t\tvar paddingTop = parseInt(helpers.getStyle(container, 'padding-top'), 10);\n\t\tvar paddingBottom = parseInt(helpers.getStyle(container, 'padding-bottom'), 10);\n\t\tvar h = container.clientHeight - paddingTop - paddingBottom;\n\t\tvar ch = helpers.getConstraintHeight(domNode);\n\t\treturn isNaN(ch)? h : Math.min(h, ch);\n\t};\n\thelpers.getStyle = function(el, property) {\n\t\treturn el.currentStyle ?\n\t\t\tel.currentStyle[property] :\n\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n\t};\n\thelpers.retinaScale = function(chart) {\n\t\tvar ctx = chart.ctx;\n\t\tvar canvas = chart.canvas;\n\t\tvar width = canvas.width;\n\t\tvar height = canvas.height;\n\t\tvar pixelRatio = chart.currentDevicePixelRatio = window.devicePixelRatio || 1;\n\n\t\tif (pixelRatio !== 1) {\n\t\t\tcanvas.height = height * pixelRatio;\n\t\t\tcanvas.width = width * pixelRatio;\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\n\t\t\t// Store the device pixel ratio so that we can go backwards in `destroy`.\n\t\t\t// The devicePixelRatio changes with zoom, so there are no guarantees that it is the same\n\t\t\t// when destroy is called\n\t\t\tchart.originalDevicePixelRatio = chart.originalDevicePixelRatio || pixelRatio;\n\t\t}\n\n\t\tcanvas.style.width = width + 'px';\n\t\tcanvas.style.height = height + 'px';\n\t};\n\t// -- Canvas methods\n\thelpers.clear = function(chart) {\n\t\tchart.ctx.clearRect(0, 0, chart.width, chart.height);\n\t};\n\thelpers.fontString = function(pixelSize, fontStyle, fontFamily) {\n\t\treturn fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n\t};\n\thelpers.longestText = function(ctx, font, arrayOfThings, cache) {\n\t\tcache = cache || {};\n\t\tvar data = cache.data = cache.data || {};\n\t\tvar gc = cache.garbageCollect = cache.garbageCollect || [];\n\n\t\tif (cache.font !== font) {\n\t\t\tdata = cache.data = {};\n\t\t\tgc = cache.garbageCollect = [];\n\t\t\tcache.font = font;\n\t\t}\n\n\t\tctx.font = font;\n\t\tvar longest = 0;\n\t\thelpers.each(arrayOfThings, function(thing) {\n\t\t\t// Undefined strings and arrays should not be measured\n\t\t\tif (thing !== undefined && thing !== null && helpers.isArray(thing) !== true) {\n\t\t\t\tlongest = helpers.measureText(ctx, data, gc, longest, thing);\n\t\t\t} else if (helpers.isArray(thing)) {\n\t\t\t\t// if it is an array lets measure each element\n\t\t\t\t// to do maybe simplify this function a bit so we can do this more recursively?\n\t\t\t\thelpers.each(thing, function(nestedThing) {\n\t\t\t\t\t// Undefined strings and arrays should not be measured\n\t\t\t\t\tif (nestedThing !== undefined && nestedThing !== null && !helpers.isArray(nestedThing)) {\n\t\t\t\t\t\tlongest = helpers.measureText(ctx, data, gc, longest, nestedThing);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tvar gcLen = gc.length / 2;\n\t\tif (gcLen > arrayOfThings.length) {\n\t\t\tfor (var i = 0; i < gcLen; i++) {\n\t\t\t\tdelete data[gc[i]];\n\t\t\t}\n\t\t\tgc.splice(0, gcLen);\n\t\t}\n\t\treturn longest;\n\t};\n\thelpers.measureText = function(ctx, data, gc, longest, string) {\n\t\tvar textWidth = data[string];\n\t\tif (!textWidth) {\n\t\t\ttextWidth = data[string] = ctx.measureText(string).width;\n\t\t\tgc.push(string);\n\t\t}\n\t\tif (textWidth > longest) {\n\t\t\tlongest = textWidth;\n\t\t}\n\t\treturn longest;\n\t};\n\thelpers.numberOfLabelLines = function(arrayOfThings) {\n\t\tvar numberOfLines = 1;\n\t\thelpers.each(arrayOfThings, function(thing) {\n\t\t\tif (helpers.isArray(thing)) {\n\t\t\t\tif (thing.length > numberOfLines) {\n\t\t\t\t\tnumberOfLines = thing.length;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn numberOfLines;\n\t};\n\thelpers.drawRoundedRectangle = function(ctx, x, y, width, height, radius) {\n\t\tctx.beginPath();\n\t\tctx.moveTo(x + radius, y);\n\t\tctx.lineTo(x + width - radius, y);\n\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\tctx.lineTo(x + width, y + height - radius);\n\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\tctx.lineTo(x + radius, y + height);\n\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\tctx.lineTo(x, y + radius);\n\t\tctx.quadraticCurveTo(x, y, x + radius, y);\n\t\tctx.closePath();\n\t};\n\thelpers.color = function(c) {\n\t\tif (!color) {\n\t\t\tconsole.error('Color.js not found!');\n\t\t\treturn c;\n\t\t}\n\n\t\t/* global CanvasGradient */\n\t\tif (c instanceof CanvasGradient) {\n\t\t\treturn color(Chart.defaults.global.defaultColor);\n\t\t}\n\n\t\treturn color(c);\n\t};\n\thelpers.addResizeListener = function(node, callback) {\n\t\t// Hide an iframe before the node\n\t\tvar hiddenIframe = document.createElement('iframe');\n\t\tvar hiddenIframeClass = 'chartjs-hidden-iframe';\n\n\t\tif (hiddenIframe.classlist) {\n\t\t\t// can use classlist\n\t\t\thiddenIframe.classlist.add(hiddenIframeClass);\n\t\t} else {\n\t\t\thiddenIframe.setAttribute('class', hiddenIframeClass);\n\t\t}\n\n\t\t// Set the style\n\t\thiddenIframe.tabIndex = -1;\n\t\tvar style = hiddenIframe.style;\n\t\tstyle.width = '100%';\n\t\tstyle.display = 'block';\n\t\tstyle.border = 0;\n\t\tstyle.height = 0;\n\t\tstyle.margin = 0;\n\t\tstyle.position = 'absolute';\n\t\tstyle.left = 0;\n\t\tstyle.right = 0;\n\t\tstyle.top = 0;\n\t\tstyle.bottom = 0;\n\n\t\t// Insert the iframe so that contentWindow is available\n\t\tnode.insertBefore(hiddenIframe, node.firstChild);\n\n\t\t(hiddenIframe.contentWindow || hiddenIframe).onresize = function() {\n\t\t\tif (callback) {\n\t\t\t\treturn callback();\n\t\t\t}\n\t\t};\n\t};\n\thelpers.removeResizeListener = function(node) {\n\t\tvar hiddenIframe = node.querySelector('.chartjs-hidden-iframe');\n\n\t\t// Remove the resize detect iframe\n\t\tif (hiddenIframe) {\n\t\t\thiddenIframe.parentNode.removeChild(hiddenIframe);\n\t\t}\n\t};\n\thelpers.isArray = Array.isArray?\n\t\tfunction(obj) {\n\t\t\treturn Array.isArray(obj);\n\t\t} :\n\t\tfunction(obj) {\n\t\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\n\t\t};\n\t// ! @see http://stackoverflow.com/a/14853974\n\thelpers.arrayEquals = function(a0, a1) {\n\t\tvar i, ilen, v0, v1;\n\n\t\tif (!a0 || !a1 || a0.length !== a1.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (i = 0, ilen=a0.length; i < ilen; ++i) {\n\t\t\tv0 = a0[i];\n\t\t\tv1 = a1[i];\n\n\t\t\tif (v0 instanceof Array && v1 instanceof Array) {\n\t\t\t\tif (!helpers.arrayEquals(v0, v1)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (v0 !== v1) {\n\t\t\t\t// NOTE: two different object instances will never be equal: {x:20} != {x:20}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\thelpers.callCallback = function(fn, args, _tArg) {\n\t\tif (fn && typeof fn.call === 'function') {\n\t\t\tfn.apply(_tArg, args);\n\t\t}\n\t};\n\thelpers.getHoverColor = function(colorValue) {\n\t\t/* global CanvasPattern */\n\t\treturn (colorValue instanceof CanvasPattern) ?\n\t\t\tcolorValue :\n\t\t\thelpers.color(colorValue).saturate(0.5).darken(0.1).rgbString();\n\t};\n};\n\n},{\"3\":3}],27:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function() {\n\n\t// Occupy the global variable of Chart, and create a simple base class\n\tvar Chart = function(context, config) {\n\t\tvar me = this;\n\t\tvar helpers = Chart.helpers;\n\t\tme.config = config || {\n\t\t\tdata: {\n\t\t\t\tdatasets: []\n\t\t\t}\n\t\t};\n\n\t\t// Support a jQuery'd canvas element\n\t\tif (context.length && context[0].getContext) {\n\t\t\tcontext = context[0];\n\t\t}\n\n\t\t// Support a canvas domnode\n\t\tif (context.getContext) {\n\t\t\tcontext = context.getContext('2d');\n\t\t}\n\n\t\tme.ctx = context;\n\t\tme.canvas = context.canvas;\n\n\t\tcontext.canvas.style.display = context.canvas.style.display || 'block';\n\n\t\t// Figure out what the size of the chart will be.\n\t\t// If the canvas has a specified width and height, we use those else\n\t\t// we look to see if the canvas node has a CSS width and height.\n\t\t// If there is still no height, fill the parent container\n\t\tme.width = context.canvas.width || parseInt(helpers.getStyle(context.canvas, 'width'), 10) || helpers.getMaximumWidth(context.canvas);\n\t\tme.height = context.canvas.height || parseInt(helpers.getStyle(context.canvas, 'height'), 10) || helpers.getMaximumHeight(context.canvas);\n\n\t\tme.aspectRatio = me.width / me.height;\n\n\t\tif (isNaN(me.aspectRatio) || isFinite(me.aspectRatio) === false) {\n\t\t\t// If the canvas has no size, try and figure out what the aspect ratio will be.\n\t\t\t// Some charts prefer square canvases (pie, radar, etc). If that is specified, use that\n\t\t\t// else use the canvas default ratio of 2\n\t\t\tme.aspectRatio = config.aspectRatio !== undefined ? config.aspectRatio : 2;\n\t\t}\n\n\t\t// Store the original style of the element so we can set it back\n\t\tme.originalCanvasStyleWidth = context.canvas.style.width;\n\t\tme.originalCanvasStyleHeight = context.canvas.style.height;\n\n\t\t// High pixel density displays - multiply the size of the canvas height/width by the device pixel ratio, then scale.\n\t\thelpers.retinaScale(me);\n\t\tme.controller = new Chart.Controller(me);\n\n\t\t// Always bind this so that if the responsive state changes we still work\n\t\thelpers.addResizeListener(context.canvas.parentNode, function() {\n\t\t\tif (me.controller && me.controller.config.options.responsive) {\n\t\t\t\tme.controller.resize();\n\t\t\t}\n\t\t});\n\n\t\treturn me.controller ? me.controller : me;\n\n\t};\n\n\t// Globally expose the defaults to allow for user updating/changing\n\tChart.defaults = {\n\t\tglobal: {\n\t\t\tresponsive: true,\n\t\t\tresponsiveAnimationDuration: 0,\n\t\t\tmaintainAspectRatio: true,\n\t\t\tevents: ['mousemove', 'mouseout', 'click', 'touchstart', 'touchmove'],\n\t\t\thover: {\n\t\t\t\tonHover: null,\n\t\t\t\tmode: 'single',\n\t\t\t\tanimationDuration: 400\n\t\t\t},\n\t\t\tonClick: null,\n\t\t\tdefaultColor: 'rgba(0,0,0,0.1)',\n\t\t\tdefaultFontColor: '#666',\n\t\t\tdefaultFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\t\t\tdefaultFontSize: 12,\n\t\t\tdefaultFontStyle: 'normal',\n\t\t\tshowLines: true,\n\n\t\t\t// Element defaults defined in element extensions\n\t\t\telements: {},\n\n\t\t\t// Legend callback string\n\t\t\tlegendCallback: function(chart) {\n\t\t\t\tvar text = [];\n\t\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\t\t\t\tfor (var i = 0; i < chart.data.datasets.length; i++) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + chart.data.datasets[i].backgroundColor + '\"></span>');\n\t\t\t\t\tif (chart.data.datasets[i].label) {\n\t\t\t\t\t\ttext.push(chart.data.datasets[i].label);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t\ttext.push('</ul>');\n\n\t\t\t\treturn text.join('');\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.Chart = Chart;\n\n\treturn Chart;\n\n};\n\n},{}],28:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\t// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n\t// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n\t// It is this service's responsibility of carrying out that layout.\n\tChart.layoutService = {\n\t\tdefaults: {},\n\n\t\t// Register a box to a chartInstance. A box is simply a reference to an object that requires layout. eg. Scales, Legend, Plugins.\n\t\taddBox: function(chartInstance, box) {\n\t\t\tif (!chartInstance.boxes) {\n\t\t\t\tchartInstance.boxes = [];\n\t\t\t}\n\t\t\tchartInstance.boxes.push(box);\n\t\t},\n\n\t\tremoveBox: function(chartInstance, box) {\n\t\t\tif (!chartInstance.boxes) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tchartInstance.boxes.splice(chartInstance.boxes.indexOf(box), 1);\n\t\t},\n\n\t\t// The most important function\n\t\tupdate: function(chartInstance, width, height) {\n\n\t\t\tif (!chartInstance) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar xPadding = 0;\n\t\t\tvar yPadding = 0;\n\n\t\t\tvar leftBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'left';\n\t\t\t});\n\t\t\tvar rightBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'right';\n\t\t\t});\n\t\t\tvar topBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'top';\n\t\t\t});\n\t\t\tvar bottomBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'bottom';\n\t\t\t});\n\n\t\t\t// Boxes that overlay the chartarea such as the radialLinear scale\n\t\t\tvar chartAreaBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'chartArea';\n\t\t\t});\n\n\t\t\t// Ensure that full width boxes are at the very top / bottom\n\t\t\ttopBoxes.sort(function(a, b) {\n\t\t\t\treturn (b.options.fullWidth ? 1 : 0) - (a.options.fullWidth ? 1 : 0);\n\t\t\t});\n\t\t\tbottomBoxes.sort(function(a, b) {\n\t\t\t\treturn (a.options.fullWidth ? 1 : 0) - (b.options.fullWidth ? 1 : 0);\n\t\t\t});\n\n\t\t\t// Essentially we now have any number of boxes on each of the 4 sides.\n\t\t\t// Our canvas looks like the following.\n\t\t\t// The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n\t\t\t// B1 is the bottom axis\n\t\t\t// There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n\t\t\t// These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n\t\t\t// an error will be thrown.\n\t\t\t//\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |                  T1 (Full Width)                   |\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |    |    |                 T2                  |    |\n\t\t\t// |    |----|-------------------------------------|----|\n\t\t\t// |    |    | C1 |                           | C2 |    |\n\t\t\t// |    |    |----|                           |----|    |\n\t\t\t// |    |    |                                     |    |\n\t\t\t// | L1 | L2 |           ChartArea (C0)            | R1 |\n\t\t\t// |    |    |                                     |    |\n\t\t\t// |    |    |----|                           |----|    |\n\t\t\t// |    |    | C3 |                           | C4 |    |\n\t\t\t// |    |----|-------------------------------------|----|\n\t\t\t// |    |    |                 B1                  |    |\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |                  B2 (Full Width)                   |\n\t\t\t// |----------------------------------------------------|\n\t\t\t//\n\t\t\t// What we do to find the best sizing, we do the following\n\t\t\t// 1. Determine the minimum size of the chart area.\n\t\t\t// 2. Split the remaining width equally between each vertical axis\n\t\t\t// 3. Split the remaining height equally between each horizontal axis\n\t\t\t// 4. Give each layout the maximum size it can be. The layout will return it's minimum size\n\t\t\t// 5. Adjust the sizes of each axis based on it's minimum reported size.\n\t\t\t// 6. Refit each axis\n\t\t\t// 7. Position each axis in the final location\n\t\t\t// 8. Tell the chart the final location of the chart area\n\t\t\t// 9. Tell any axes that overlay the chart area the positions of the chart area\n\n\t\t\t// Step 1\n\t\t\tvar chartWidth = width - (2 * xPadding);\n\t\t\tvar chartHeight = height - (2 * yPadding);\n\t\t\tvar chartAreaWidth = chartWidth / 2; // min 50%\n\t\t\tvar chartAreaHeight = chartHeight / 2; // min 50%\n\n\t\t\t// Step 2\n\t\t\tvar verticalBoxWidth = (width - chartAreaWidth) / (leftBoxes.length + rightBoxes.length);\n\n\t\t\t// Step 3\n\t\t\tvar horizontalBoxHeight = (height - chartAreaHeight) / (topBoxes.length + bottomBoxes.length);\n\n\t\t\t// Step 4\n\t\t\tvar maxChartAreaWidth = chartWidth;\n\t\t\tvar maxChartAreaHeight = chartHeight;\n\t\t\tvar minBoxSizes = [];\n\n\t\t\tfunction getMinimumBoxSize(box) {\n\t\t\t\tvar minSize;\n\t\t\t\tvar isHorizontal = box.isHorizontal();\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tminSize = box.update(box.options.fullWidth ? chartWidth : maxChartAreaWidth, horizontalBoxHeight);\n\t\t\t\t\tmaxChartAreaHeight -= minSize.height;\n\t\t\t\t} else {\n\t\t\t\t\tminSize = box.update(verticalBoxWidth, chartAreaHeight);\n\t\t\t\t\tmaxChartAreaWidth -= minSize.width;\n\t\t\t\t}\n\n\t\t\t\tminBoxSizes.push({\n\t\t\t\t\thorizontal: isHorizontal,\n\t\t\t\t\tminSize: minSize,\n\t\t\t\t\tbox: box\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes, topBoxes, bottomBoxes), getMinimumBoxSize);\n\n\t\t\t// At this point, maxChartAreaHeight and maxChartAreaWidth are the size the chart area could\n\t\t\t// be if the axes are drawn at their minimum sizes.\n\n\t\t\t// Steps 5 & 6\n\t\t\tvar totalLeftBoxesWidth = xPadding;\n\t\t\tvar totalRightBoxesWidth = xPadding;\n\t\t\tvar totalTopBoxesHeight = yPadding;\n\t\t\tvar totalBottomBoxesHeight = yPadding;\n\n\t\t\t// Function to fit a box\n\t\t\tfunction fitBox(box) {\n\t\t\t\tvar minBoxSize = helpers.findNextWhere(minBoxSizes, function(minBox) {\n\t\t\t\t\treturn minBox.box === box;\n\t\t\t\t});\n\n\t\t\t\tif (minBoxSize) {\n\t\t\t\t\tif (box.isHorizontal()) {\n\t\t\t\t\t\tvar scaleMargin = {\n\t\t\t\t\t\t\tleft: totalLeftBoxesWidth,\n\t\t\t\t\t\t\tright: totalRightBoxesWidth,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tbottom: 0\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Don't use min size here because of label rotation. When the labels are rotated, their rotation highly depends\n\t\t\t\t\t\t// on the margin. Sometimes they need to increase in size slightly\n\t\t\t\t\t\tbox.update(box.options.fullWidth ? chartWidth : maxChartAreaWidth, chartHeight / 2, scaleMargin);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbox.update(minBoxSize.minSize.width, maxChartAreaHeight);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update, and calculate the left and right margins for the horizontal boxes\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes), fitBox);\n\n\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\ttotalLeftBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\ttotalRightBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\t// Set the Left and Right margins for the horizontal boxes\n\t\t\thelpers.each(topBoxes.concat(bottomBoxes), fitBox);\n\n\t\t\t// Figure out how much margin is on the top and bottom of the vertical boxes\n\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\ttotalTopBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\ttotalBottomBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\tfunction finalFitVerticalBox(box) {\n\t\t\t\tvar minBoxSize = helpers.findNextWhere(minBoxSizes, function(minSize) {\n\t\t\t\t\treturn minSize.box === box;\n\t\t\t\t});\n\n\t\t\t\tvar scaleMargin = {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\ttop: totalTopBoxesHeight,\n\t\t\t\t\tbottom: totalBottomBoxesHeight\n\t\t\t\t};\n\n\t\t\t\tif (minBoxSize) {\n\t\t\t\t\tbox.update(minBoxSize.minSize.width, maxChartAreaHeight, scaleMargin);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Let the left layout know the final margin\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes), finalFitVerticalBox);\n\n\t\t\t// Recalculate because the size of each layout might have changed slightly due to the margins (label rotation for instance)\n\t\t\ttotalLeftBoxesWidth = xPadding;\n\t\t\ttotalRightBoxesWidth = xPadding;\n\t\t\ttotalTopBoxesHeight = yPadding;\n\t\t\ttotalBottomBoxesHeight = yPadding;\n\n\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\ttotalLeftBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\ttotalRightBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\ttotalTopBoxesHeight += box.height;\n\t\t\t});\n\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\ttotalBottomBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\t// Figure out if our chart area changed. This would occur if the dataset layout label rotation\n\t\t\t// changed due to the application of the margins in step 6. Since we can only get bigger, this is safe to do\n\t\t\t// without calling `fit` again\n\t\t\tvar newMaxChartAreaHeight = height - totalTopBoxesHeight - totalBottomBoxesHeight;\n\t\t\tvar newMaxChartAreaWidth = width - totalLeftBoxesWidth - totalRightBoxesWidth;\n\n\t\t\tif (newMaxChartAreaWidth !== maxChartAreaWidth || newMaxChartAreaHeight !== maxChartAreaHeight) {\n\t\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\t\tbox.height = newMaxChartAreaHeight;\n\t\t\t\t});\n\n\t\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\t\tbox.height = newMaxChartAreaHeight;\n\t\t\t\t});\n\n\t\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\t\tif (!box.options.fullWidth) {\n\t\t\t\t\t\tbox.width = newMaxChartAreaWidth;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\t\tif (!box.options.fullWidth) {\n\t\t\t\t\t\tbox.width = newMaxChartAreaWidth;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tmaxChartAreaHeight = newMaxChartAreaHeight;\n\t\t\t\tmaxChartAreaWidth = newMaxChartAreaWidth;\n\t\t\t}\n\n\t\t\t// Step 7 - Position the boxes\n\t\t\tvar left = xPadding;\n\t\t\tvar top = yPadding;\n\n\t\t\tfunction placeBox(box) {\n\t\t\t\tif (box.isHorizontal()) {\n\t\t\t\t\tbox.left = box.options.fullWidth ? xPadding : totalLeftBoxesWidth;\n\t\t\t\t\tbox.right = box.options.fullWidth ? width - xPadding : totalLeftBoxesWidth + maxChartAreaWidth;\n\t\t\t\t\tbox.top = top;\n\t\t\t\t\tbox.bottom = top + box.height;\n\n\t\t\t\t\t// Move to next point\n\t\t\t\t\ttop = box.bottom;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbox.left = left;\n\t\t\t\t\tbox.right = left + box.width;\n\t\t\t\t\tbox.top = totalTopBoxesHeight;\n\t\t\t\t\tbox.bottom = totalTopBoxesHeight + maxChartAreaHeight;\n\n\t\t\t\t\t// Move to next point\n\t\t\t\t\tleft = box.right;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thelpers.each(leftBoxes.concat(topBoxes), placeBox);\n\n\t\t\t// Account for chart width and height\n\t\t\tleft += maxChartAreaWidth;\n\t\t\ttop += maxChartAreaHeight;\n\n\t\t\thelpers.each(rightBoxes, placeBox);\n\t\t\thelpers.each(bottomBoxes, placeBox);\n\n\t\t\t// Step 8\n\t\t\tchartInstance.chartArea = {\n\t\t\t\tleft: totalLeftBoxesWidth,\n\t\t\t\ttop: totalTopBoxesHeight,\n\t\t\t\tright: totalLeftBoxesWidth + maxChartAreaWidth,\n\t\t\t\tbottom: totalTopBoxesHeight + maxChartAreaHeight\n\t\t\t};\n\n\t\t\t// Step 9\n\t\t\thelpers.each(chartAreaBoxes, function(box) {\n\t\t\t\tbox.left = chartInstance.chartArea.left;\n\t\t\t\tbox.top = chartInstance.chartArea.top;\n\t\t\t\tbox.right = chartInstance.chartArea.right;\n\t\t\t\tbox.bottom = chartInstance.chartArea.bottom;\n\n\t\t\t\tbox.update(maxChartAreaWidth, maxChartAreaHeight);\n\t\t\t});\n\t\t}\n\t};\n};\n\n},{}],29:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar noop = helpers.noop;\n\n\tChart.defaults.global.legend = {\n\n\t\tdisplay: true,\n\t\tposition: 'top',\n\t\tfullWidth: true, // marks that this box should take the full width of the canvas (pushing down other boxes)\n\t\treverse: false,\n\n\t\t// a callback that will handle\n\t\tonClick: function(e, legendItem) {\n\t\t\tvar index = legendItem.datasetIndex;\n\t\t\tvar ci = this.chart;\n\t\t\tvar meta = ci.getDatasetMeta(index);\n\n\t\t\t// See controller.isDatasetVisible comment\n\t\t\tmeta.hidden = meta.hidden === null? !ci.data.datasets[index].hidden : null;\n\n\t\t\t// We hid a dataset ... rerender the chart\n\t\t\tci.update();\n\t\t},\n\n\t\tonHover: null,\n\n\t\tlabels: {\n\t\t\tboxWidth: 40,\n\t\t\tpadding: 10,\n\t\t\t// Generates labels shown in the legend\n\t\t\t// Valid properties to return:\n\t\t\t// text : text to display\n\t\t\t// fillStyle : fill of coloured box\n\t\t\t// strokeStyle: stroke of coloured box\n\t\t\t// hidden : if this legend item refers to a hidden item\n\t\t\t// lineCap : cap style for line\n\t\t\t// lineDash\n\t\t\t// lineDashOffset :\n\t\t\t// lineJoin :\n\t\t\t// lineWidth :\n\t\t\tgenerateLabels: function(chart) {\n\t\t\t\tvar data = chart.data;\n\t\t\t\treturn helpers.isArray(data.datasets) ? data.datasets.map(function(dataset, i) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttext: dataset.label,\n\t\t\t\t\t\tfillStyle: (!helpers.isArray(dataset.backgroundColor) ? dataset.backgroundColor : dataset.backgroundColor[0]),\n\t\t\t\t\t\thidden: !chart.isDatasetVisible(i),\n\t\t\t\t\t\tlineCap: dataset.borderCapStyle,\n\t\t\t\t\t\tlineDash: dataset.borderDash,\n\t\t\t\t\t\tlineDashOffset: dataset.borderDashOffset,\n\t\t\t\t\t\tlineJoin: dataset.borderJoinStyle,\n\t\t\t\t\t\tlineWidth: dataset.borderWidth,\n\t\t\t\t\t\tstrokeStyle: dataset.borderColor,\n\t\t\t\t\t\tpointStyle: dataset.pointStyle,\n\n\t\t\t\t\t\t// Below is extra data used for toggling the datasets\n\t\t\t\t\t\tdatasetIndex: i\n\t\t\t\t\t};\n\t\t\t\t}, this) : [];\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.Legend = Chart.Element.extend({\n\n\t\tinitialize: function(config) {\n\t\t\thelpers.extend(this, config);\n\n\t\t\t// Contains hit boxes for each dataset (in dataset order)\n\t\t\tthis.legendHitBoxes = [];\n\n\t\t\t// Are we in doughnut mode which has a different data type\n\t\t\tthis.doughnutMode = false;\n\t\t},\n\n\t\t// These methods are ordered by lifecyle. Utilities then follow.\n\t\t// Any function defined here is inherited by all legend types.\n\t\t// Any function can be extended by the legend type\n\n\t\tbeforeUpdate: noop,\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = margins;\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\t\t\t// Labels\n\t\t\tme.beforeBuildLabels();\n\t\t\tme.buildLabels();\n\t\t\tme.afterBuildLabels();\n\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\t\t},\n\t\tafterUpdate: noop,\n\n\t\t//\n\n\t\tbeforeSetDimensions: noop,\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\n\t\t\t// Reset minSize\n\t\t\tme.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t},\n\t\tafterSetDimensions: noop,\n\n\t\t//\n\n\t\tbeforeBuildLabels: noop,\n\t\tbuildLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.legendItems = me.options.labels.generateLabels.call(me, me.chart);\n\t\t\tif (me.options.reverse) {\n\t\t\t\tme.legendItems.reverse();\n\t\t\t}\n\t\t},\n\t\tafterBuildLabels: noop,\n\n\t\t//\n\n\t\tbeforeFit: noop,\n\t\tfit: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar labelOpts = opts.labels;\n\t\t\tvar display = opts.display;\n\n\t\t\tvar ctx = me.ctx;\n\n\t\t\tvar globalDefault = Chart.defaults.global,\n\t\t\t\titemOrDefault = helpers.getValueOrDefault,\n\t\t\t\tfontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),\n\t\t\t\tfontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),\n\t\t\t\tfontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),\n\t\t\t\tlabelFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n\n\t\t\t// Reset hit boxes\n\t\t\tvar hitboxes = me.legendHitBoxes = [];\n\n\t\t\tvar minSize = me.minSize;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tif (isHorizontal) {\n\t\t\t\tminSize.width = me.maxWidth; // fill all the width\n\t\t\t\tminSize.height = display ? 10 : 0;\n\t\t\t} else {\n\t\t\t\tminSize.width = display ? 10 : 0;\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\t// Increase sizes here\n\t\t\tif (display) {\n\t\t\t\tctx.font = labelFont;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t// Labels\n\n\t\t\t\t\t// Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n\t\t\t\t\tvar lineWidths = me.lineWidths = [0];\n\t\t\t\t\tvar totalHeight = me.legendItems.length ? fontSize + (labelOpts.padding) : 0;\n\n\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\t\tvar boxWidth = labelOpts.usePointStyle ?\n\t\t\t\t\t\t\tfontSize * Math.sqrt(2) :\n\t\t\t\t\t\t\tlabelOpts.boxWidth;\n\n\t\t\t\t\t\tvar width = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\t\t\t\t\t\tif (lineWidths[lineWidths.length - 1] + width + labelOpts.padding >= me.width) {\n\t\t\t\t\t\t\ttotalHeight += fontSize + (labelOpts.padding);\n\t\t\t\t\t\t\tlineWidths[lineWidths.length] = me.left;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\n\t\t\t\t\t\thitboxes[i] = {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: fontSize\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlineWidths[lineWidths.length - 1] += width + labelOpts.padding;\n\t\t\t\t\t});\n\n\t\t\t\t\tminSize.height += totalHeight;\n\n\t\t\t\t} else {\n\t\t\t\t\tvar vPadding = labelOpts.padding;\n\t\t\t\t\tvar columnWidths = me.columnWidths = [];\n\t\t\t\t\tvar totalWidth = labelOpts.padding;\n\t\t\t\t\tvar currentColWidth = 0;\n\t\t\t\t\tvar currentColHeight = 0;\n\t\t\t\t\tvar itemHeight = fontSize + vPadding;\n\n\t\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\t\t// If usePointStyle is set, multiple boxWidth by 2 since it represents\n\t\t\t\t\t\t// the radius and not truly the width\n\t\t\t\t\t\tvar boxWidth = labelOpts.usePointStyle ? 2 * labelOpts.boxWidth : labelOpts.boxWidth;\n\n\t\t\t\t\t\tvar itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n\t\t\t\t\t\t// If too tall, go to new column\n\t\t\t\t\t\tif (currentColHeight + itemHeight > minSize.height) {\n\t\t\t\t\t\t\ttotalWidth += currentColWidth + labelOpts.padding;\n\t\t\t\t\t\t\tcolumnWidths.push(currentColWidth); // previous column width\n\n\t\t\t\t\t\t\tcurrentColWidth = 0;\n\t\t\t\t\t\t\tcurrentColHeight = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Get max width\n\t\t\t\t\t\tcurrentColWidth = Math.max(currentColWidth, itemWidth);\n\t\t\t\t\t\tcurrentColHeight += itemHeight;\n\n\t\t\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\n\t\t\t\t\t\thitboxes[i] = {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\twidth: itemWidth,\n\t\t\t\t\t\t\theight: fontSize\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\n\t\t\t\t\ttotalWidth += currentColWidth;\n\t\t\t\t\tcolumnWidths.push(currentColWidth);\n\t\t\t\t\tminSize.width += totalWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\t\t},\n\t\tafterFit: noop,\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\n\t\t},\n\n\t\t// Actualy draw the legend on the canvas\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar labelOpts = opts.labels;\n\t\t\tvar globalDefault = Chart.defaults.global,\n\t\t\t\tlineDefault = globalDefault.elements.line,\n\t\t\t\tlegendWidth = me.width,\n\t\t\t\tlineWidths = me.lineWidths;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar ctx = me.ctx,\n\t\t\t\t\tcursor,\n\t\t\t\t\titemOrDefault = helpers.getValueOrDefault,\n\t\t\t\t\tfontColor = itemOrDefault(labelOpts.fontColor, globalDefault.defaultFontColor),\n\t\t\t\t\tfontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),\n\t\t\t\t\tfontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),\n\t\t\t\t\tfontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),\n\t\t\t\t\tlabelFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n\n\t\t\t\t// Canvas setup\n\t\t\t\tctx.textAlign = 'left';\n\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\tctx.lineWidth = 0.5;\n\t\t\t\tctx.strokeStyle = fontColor; // for strikethrough effect\n\t\t\t\tctx.fillStyle = fontColor; // render in correct colour\n\t\t\t\tctx.font = labelFont;\n\n\t\t\t\tvar boxWidth = labelOpts.boxWidth,\n\t\t\t\t\thitboxes = me.legendHitBoxes;\n\n\t\t\t\t// current position\n\t\t\t\tvar drawLegendBox = function(x, y, legendItem) {\n\t\t\t\t\tif (isNaN(boxWidth) || boxWidth <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the ctx for the box\n\t\t\t\t\tctx.save();\n\n\t\t\t\t\tctx.fillStyle = itemOrDefault(legendItem.fillStyle, globalDefault.defaultColor);\n\t\t\t\t\tctx.lineCap = itemOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\n\t\t\t\t\tctx.lineDashOffset = itemOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\n\t\t\t\t\tctx.lineJoin = itemOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\n\t\t\t\t\tctx.lineWidth = itemOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\n\t\t\t\t\tctx.strokeStyle = itemOrDefault(legendItem.strokeStyle, globalDefault.defaultColor);\n\t\t\t\t\tvar isLineWidthZero = (itemOrDefault(legendItem.lineWidth, lineDefault.borderWidth) === 0);\n\n\t\t\t\t\tif (ctx.setLineDash) {\n\t\t\t\t\t\t// IE 9 and 10 do not support line dash\n\t\t\t\t\t\tctx.setLineDash(itemOrDefault(legendItem.lineDash, lineDefault.borderDash));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opts.labels && opts.labels.usePointStyle) {\n\t\t\t\t\t\t// Recalulate x and y for drawPoint() because its expecting\n\t\t\t\t\t\t// x and y to be center of figure (instead of top left)\n\t\t\t\t\t\tvar radius = fontSize * Math.SQRT2 / 2;\n\t\t\t\t\t\tvar offSet = radius / Math.SQRT2;\n\t\t\t\t\t\tvar centerX = x + offSet;\n\t\t\t\t\t\tvar centerY = y + offSet;\n\n\t\t\t\t\t\t// Draw pointStyle as legend symbol\n\t\t\t\t\t\tChart.canvasHelpers.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Draw box as legend symbol\n\t\t\t\t\t\tif (!isLineWidthZero) {\n\t\t\t\t\t\t\tctx.strokeRect(x, y, boxWidth, fontSize);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tctx.fillRect(x, y, boxWidth, fontSize);\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.restore();\n\t\t\t\t};\n\t\t\t\tvar fillText = function(x, y, legendItem, textWidth) {\n\t\t\t\t\tctx.fillText(legendItem.text, boxWidth + (fontSize / 2) + x, y);\n\n\t\t\t\t\tif (legendItem.hidden) {\n\t\t\t\t\t\t// Strikethrough the text if hidden\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.lineWidth = 2;\n\t\t\t\t\t\tctx.moveTo(boxWidth + (fontSize / 2) + x, y + (fontSize / 2));\n\t\t\t\t\t\tctx.lineTo(boxWidth + (fontSize / 2) + x + textWidth, y + (fontSize / 2));\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Horizontal\n\t\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tcursor = {\n\t\t\t\t\t\tx: me.left + ((legendWidth - lineWidths[0]) / 2),\n\t\t\t\t\t\ty: me.top + labelOpts.padding,\n\t\t\t\t\t\tline: 0\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tcursor = {\n\t\t\t\t\t\tx: me.left + labelOpts.padding,\n\t\t\t\t\t\ty: me.top + labelOpts.padding,\n\t\t\t\t\t\tline: 0\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tvar itemHeight = fontSize + labelOpts.padding;\n\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\tvar textWidth = ctx.measureText(legendItem.text).width,\n\t\t\t\t\t\twidth = labelOpts.usePointStyle ?\n\t\t\t\t\t\t\tfontSize + (fontSize / 2) + textWidth :\n\t\t\t\t\t\t\tboxWidth + (fontSize / 2) + textWidth,\n\t\t\t\t\t\tx = cursor.x,\n\t\t\t\t\t\ty = cursor.y;\n\n\t\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t\tif (x + width >= legendWidth) {\n\t\t\t\t\t\t\ty = cursor.y += itemHeight;\n\t\t\t\t\t\t\tcursor.line++;\n\t\t\t\t\t\t\tx = cursor.x = me.left + ((legendWidth - lineWidths[cursor.line]) / 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (y + itemHeight > me.bottom) {\n\t\t\t\t\t\tx = cursor.x = x + me.columnWidths[cursor.line] + labelOpts.padding;\n\t\t\t\t\t\ty = cursor.y = me.top;\n\t\t\t\t\t\tcursor.line++;\n\t\t\t\t\t}\n\n\t\t\t\t\tdrawLegendBox(x, y, legendItem);\n\n\t\t\t\t\thitboxes[i].left = x;\n\t\t\t\t\thitboxes[i].top = y;\n\n\t\t\t\t\t// Fill the actual label\n\t\t\t\t\tfillText(x, y, legendItem, textWidth);\n\n\t\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t\tcursor.x += width + (labelOpts.padding);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcursor.y += itemHeight;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t// Handle an event\n\t\thandleEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar type = e.type === 'mouseup' ? 'click' : e.type;\n\n\t\t\tif (type === 'mousemove') {\n\t\t\t\tif (!opts.onHover) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if (type === 'click') {\n\t\t\t\tif (!opts.onClick) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar position = helpers.getRelativePosition(e, me.chart.chart),\n\t\t\t\tx = position.x,\n\t\t\t\ty = position.y;\n\n\t\t\tif (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\n\t\t\t\t// See if we are touching one of the dataset boxes\n\t\t\t\tvar lh = me.legendHitBoxes;\n\t\t\t\tfor (var i = 0; i < lh.length; ++i) {\n\t\t\t\t\tvar hitBox = lh[i];\n\n\t\t\t\t\tif (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n\t\t\t\t\t\t// Touching an element\n\t\t\t\t\t\tif (type === 'click') {\n\t\t\t\t\t\t\topts.onClick.call(me, e, me.legendItems[i]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (type === 'mousemove') {\n\t\t\t\t\t\t\topts.onHover.call(me, e, me.legendItems[i]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Register the legend plugin\n\tChart.plugins.register({\n\t\tbeforeInit: function(chartInstance) {\n\t\t\tvar opts = chartInstance.options;\n\t\t\tvar legendOpts = opts.legend;\n\n\t\t\tif (legendOpts) {\n\t\t\t\tchartInstance.legend = new Chart.Legend({\n\t\t\t\t\tctx: chartInstance.chart.ctx,\n\t\t\t\t\toptions: legendOpts,\n\t\t\t\t\tchart: chartInstance\n\t\t\t\t});\n\n\t\t\t\tChart.layoutService.addBox(chartInstance, chartInstance.legend);\n\t\t\t}\n\t\t}\n\t});\n};\n\n},{}],30:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar noop = Chart.helpers.noop;\n\n\t/**\n\t * The plugin service singleton\n\t * @namespace Chart.plugins\n\t * @since 2.1.0\n\t */\n\tChart.plugins = {\n\t\t_plugins: [],\n\n\t\t/**\n\t\t * Registers the given plugin(s) if not already registered.\n\t\t * @param {Array|Object} plugins plugin instance(s).\n\t\t */\n\t\tregister: function(plugins) {\n\t\t\tvar p = this._plugins;\n\t\t\t([]).concat(plugins).forEach(function(plugin) {\n\t\t\t\tif (p.indexOf(plugin) === -1) {\n\t\t\t\t\tp.push(plugin);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Unregisters the given plugin(s) only if registered.\n\t\t * @param {Array|Object} plugins plugin instance(s).\n\t\t */\n\t\tunregister: function(plugins) {\n\t\t\tvar p = this._plugins;\n\t\t\t([]).concat(plugins).forEach(function(plugin) {\n\t\t\t\tvar idx = p.indexOf(plugin);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tp.splice(idx, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove all registered p^lugins.\n\t\t * @since 2.1.5\n\t\t */\n\t\tclear: function() {\n\t\t\tthis._plugins = [];\n\t\t},\n\n\t\t/**\n\t\t * Returns the number of registered plugins?\n\t\t * @returns {Number}\n\t\t * @since 2.1.5\n\t\t */\n\t\tcount: function() {\n\t\t\treturn this._plugins.length;\n\t\t},\n\n\t\t/**\n\t\t * Returns all registered plugin intances.\n\t\t * @returns {Array} array of plugin objects.\n\t\t * @since 2.1.5\n\t\t */\n\t\tgetAll: function() {\n\t\t\treturn this._plugins;\n\t\t},\n\n\t\t/**\n\t\t * Calls registered plugins on the specified extension, with the given args. This\n\t\t * method immediately returns as soon as a plugin explicitly returns false. The\n\t\t * returned value can be used, for instance, to interrupt the current action.\n\t\t * @param {String} extension the name of the plugin method to call (e.g. 'beforeUpdate').\n\t\t * @param {Array} [args] extra arguments to apply to the extension call.\n\t\t * @returns {Boolean} false if any of the plugins return false, else returns true.\n\t\t */\n\t\tnotify: function(extension, args) {\n\t\t\tvar plugins = this._plugins;\n\t\t\tvar ilen = plugins.length;\n\t\t\tvar i, plugin;\n\n\t\t\tfor (i=0; i<ilen; ++i) {\n\t\t\t\tplugin = plugins[i];\n\t\t\t\tif (typeof plugin[extension] === 'function') {\n\t\t\t\t\tif (plugin[extension].apply(plugin, args || []) === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t};\n\n\t/**\n\t * Plugin extension methods.\n\t * @interface Chart.PluginBase\n\t * @since 2.1.0\n\t */\n\tChart.PluginBase = Chart.Element.extend({\n\t\t// Called at start of chart init\n\t\tbeforeInit: noop,\n\n\t\t// Called at end of chart init\n\t\tafterInit: noop,\n\n\t\t// Called at start of update\n\t\tbeforeUpdate: noop,\n\n\t\t// Called at end of update\n\t\tafterUpdate: noop,\n\n\t\t// Called at start of draw\n\t\tbeforeDraw: noop,\n\n\t\t// Called at end of draw\n\t\tafterDraw: noop,\n\n\t\t// Called during destroy\n\t\tdestroy: noop\n\t});\n\n\t/**\n\t * Provided for backward compatibility, use Chart.plugins instead\n\t * @namespace Chart.pluginService\n\t * @deprecated since version 2.1.5\n\t * @todo remove me at version 3\n\t */\n\tChart.pluginService = Chart.plugins;\n};\n\n},{}],31:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.scale = {\n\t\tdisplay: true,\n\t\tposition: 'left',\n\n\t\t// grid line settings\n\t\tgridLines: {\n\t\t\tdisplay: true,\n\t\t\tcolor: 'rgba(0, 0, 0, 0.1)',\n\t\t\tlineWidth: 1,\n\t\t\tdrawBorder: true,\n\t\t\tdrawOnChartArea: true,\n\t\t\tdrawTicks: true,\n\t\t\ttickMarkLength: 10,\n\t\t\tzeroLineWidth: 1,\n\t\t\tzeroLineColor: 'rgba(0,0,0,0.25)',\n\t\t\toffsetGridLines: false,\n\t\t\tborderDash: [],\n\t\t\tborderDashOffset: 0.0\n\t\t},\n\n\t\t// scale label\n\t\tscaleLabel: {\n\t\t\t// actual label\n\t\t\tlabelString: '',\n\n\t\t\t// display property\n\t\t\tdisplay: false\n\t\t},\n\n\t\t// label settings\n\t\tticks: {\n\t\t\tbeginAtZero: false,\n\t\t\tminRotation: 0,\n\t\t\tmaxRotation: 50,\n\t\t\tmirror: false,\n\t\t\tpadding: 10,\n\t\t\treverse: false,\n\t\t\tdisplay: true,\n\t\t\tautoSkip: true,\n\t\t\tautoSkipPadding: 0,\n\t\t\tlabelOffset: 0,\n\t\t\t// We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n\t\t\tcallback: function(value) {\n\t\t\t\treturn helpers.isArray(value) ? value : '' + value;\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.Scale = Chart.Element.extend({\n\n\t\t// These methods are ordered by lifecyle. Utilities then follow.\n\t\t// Any function defined here is inherited by all scale types.\n\t\t// Any function can be extended by the scale type\n\n\t\tbeforeUpdate: function() {\n\t\t\thelpers.callCallback(this.options.beforeUpdate, [this]);\n\t\t},\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = helpers.extend({\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0\n\t\t\t}, margins);\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\n\t\t\t// Data min/max\n\t\t\tme.beforeDataLimits();\n\t\t\tme.determineDataLimits();\n\t\t\tme.afterDataLimits();\n\n\t\t\t// Ticks\n\t\t\tme.beforeBuildTicks();\n\t\t\tme.buildTicks();\n\t\t\tme.afterBuildTicks();\n\n\t\t\tme.beforeTickToLabelConversion();\n\t\t\tme.convertTicksToLabels();\n\t\t\tme.afterTickToLabelConversion();\n\n\t\t\t// Tick Rotation\n\t\t\tme.beforeCalculateTickRotation();\n\t\t\tme.calculateTickRotation();\n\t\t\tme.afterCalculateTickRotation();\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\n\t\t},\n\t\tafterUpdate: function() {\n\t\t\thelpers.callCallback(this.options.afterUpdate, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeSetDimensions: function() {\n\t\t\thelpers.callCallback(this.options.beforeSetDimensions, [this]);\n\t\t},\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\t\t},\n\t\tafterSetDimensions: function() {\n\t\t\thelpers.callCallback(this.options.afterSetDimensions, [this]);\n\t\t},\n\n\t\t// Data limits\n\t\tbeforeDataLimits: function() {\n\t\t\thelpers.callCallback(this.options.beforeDataLimits, [this]);\n\t\t},\n\t\tdetermineDataLimits: helpers.noop,\n\t\tafterDataLimits: function() {\n\t\t\thelpers.callCallback(this.options.afterDataLimits, [this]);\n\t\t},\n\n\t\t//\n\t\tbeforeBuildTicks: function() {\n\t\t\thelpers.callCallback(this.options.beforeBuildTicks, [this]);\n\t\t},\n\t\tbuildTicks: helpers.noop,\n\t\tafterBuildTicks: function() {\n\t\t\thelpers.callCallback(this.options.afterBuildTicks, [this]);\n\t\t},\n\n\t\tbeforeTickToLabelConversion: function() {\n\t\t\thelpers.callCallback(this.options.beforeTickToLabelConversion, [this]);\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\t// Convert ticks to strings\n\t\t\tme.ticks = me.ticks.map(function(numericalTick, index, ticks) {\n\t\t\t\tif (me.options.ticks.userCallback) {\n\t\t\t\t\treturn me.options.ticks.userCallback(numericalTick, index, ticks);\n\t\t\t\t}\n\t\t\t\treturn me.options.ticks.callback(numericalTick, index, ticks);\n\t\t\t},\n\t\t\tme);\n\t\t},\n\t\tafterTickToLabelConversion: function() {\n\t\t\thelpers.callCallback(this.options.afterTickToLabelConversion, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeCalculateTickRotation: function() {\n\t\t\thelpers.callCallback(this.options.beforeCalculateTickRotation, [this]);\n\t\t},\n\t\tcalculateTickRotation: function() {\n\t\t\tvar me = this;\n\t\t\tvar context = me.ctx;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar optionTicks = me.options.ticks;\n\n\t\t\t// Get the width of each grid by calculating the difference\n\t\t\t// between x offsets between 0 and 1.\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(optionTicks.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(optionTicks.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(optionTicks.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\t\t\tcontext.font = tickLabelFont;\n\n\t\t\tvar firstWidth = context.measureText(me.ticks[0]).width;\n\t\t\tvar lastWidth = context.measureText(me.ticks[me.ticks.length - 1]).width;\n\t\t\tvar firstRotated;\n\n\t\t\tme.labelRotation = optionTicks.minRotation || 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingLeft = 0;\n\n\t\t\tif (me.options.display) {\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\tme.paddingRight = lastWidth / 2 + 3;\n\t\t\t\t\tme.paddingLeft = firstWidth / 2 + 3;\n\n\t\t\t\t\tif (!me.longestTextCache) {\n\t\t\t\t\t\tme.longestTextCache = {};\n\t\t\t\t\t}\n\t\t\t\t\tvar originalLabelWidth = helpers.longestText(context, tickLabelFont, me.ticks, me.longestTextCache);\n\t\t\t\t\tvar labelWidth = originalLabelWidth;\n\t\t\t\t\tvar cosRotation;\n\t\t\t\t\tvar sinRotation;\n\n\t\t\t\t\t// Allow 3 pixels x2 padding either side for label readability\n\t\t\t\t\t// only the index matters for a dataset scale, but we want a consistent interface between scales\n\t\t\t\t\tvar tickWidth = me.getPixelForTick(1) - me.getPixelForTick(0) - 6;\n\n\t\t\t\t\t// Max label rotation can be set or default to 90 - also act as a loop counter\n\t\t\t\t\twhile (labelWidth > tickWidth && me.labelRotation < optionTicks.maxRotation) {\n\t\t\t\t\t\tcosRotation = Math.cos(helpers.toRadians(me.labelRotation));\n\t\t\t\t\t\tsinRotation = Math.sin(helpers.toRadians(me.labelRotation));\n\n\t\t\t\t\t\tfirstRotated = cosRotation * firstWidth;\n\n\t\t\t\t\t\t// We're right aligning the text now.\n\t\t\t\t\t\tif (firstRotated + tickFontSize / 2 > me.yLabelWidth) {\n\t\t\t\t\t\t\tme.paddingLeft = firstRotated + tickFontSize / 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tme.paddingRight = tickFontSize / 2;\n\n\t\t\t\t\t\tif (sinRotation * originalLabelWidth > me.maxHeight) {\n\t\t\t\t\t\t\t// go back one step\n\t\t\t\t\t\t\tme.labelRotation--;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tme.labelRotation++;\n\t\t\t\t\t\tlabelWidth = cosRotation * originalLabelWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.margins) {\n\t\t\t\tme.paddingLeft = Math.max(me.paddingLeft - me.margins.left, 0);\n\t\t\t\tme.paddingRight = Math.max(me.paddingRight - me.margins.right, 0);\n\t\t\t}\n\t\t},\n\t\tafterCalculateTickRotation: function() {\n\t\t\thelpers.callCallback(this.options.afterCalculateTickRotation, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeFit: function() {\n\t\t\thelpers.callCallback(this.options.beforeFit, [this]);\n\t\t},\n\t\tfit: function() {\n\t\t\tvar me = this;\n\t\t\t// Reset\n\t\t\tvar minSize = me.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\n\t\t\tvar opts = me.options;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar scaleLabelOpts = opts.scaleLabel;\n\t\t\tvar gridLineOpts = opts.gridLines;\n\t\t\tvar display = opts.display;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(tickOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(tickOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\n\t\t\tvar scaleLabelFontSize = helpers.getValueOrDefault(scaleLabelOpts.fontSize, globalDefaults.defaultFontSize);\n\n\t\t\tvar tickMarkLength = opts.gridLines.tickMarkLength;\n\n\t\t\t// Width\n\t\t\tif (isHorizontal) {\n\t\t\t\t// subtract the margins to line up with the chartArea if we are a full width scale\n\t\t\t\tminSize.width = me.isFullWidth() ? me.maxWidth - me.margins.left - me.margins.right : me.maxWidth;\n\t\t\t} else {\n\t\t\t\tminSize.width = display && gridLineOpts.drawTicks ? tickMarkLength : 0;\n\t\t\t}\n\n\t\t\t// height\n\t\t\tif (isHorizontal) {\n\t\t\t\tminSize.height = display && gridLineOpts.drawTicks ? tickMarkLength : 0;\n\t\t\t} else {\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\t// Are we showing a title for the scale?\n\t\t\tif (scaleLabelOpts.display && display) {\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tminSize.height += (scaleLabelFontSize * 1.5);\n\t\t\t\t} else {\n\t\t\t\t\tminSize.width += (scaleLabelFontSize * 1.5);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tickOpts.display && display) {\n\t\t\t\t// Don't bother fitting the ticks if we are not showing them\n\t\t\t\tif (!me.longestTextCache) {\n\t\t\t\t\tme.longestTextCache = {};\n\t\t\t\t}\n\n\t\t\t\tvar largestTextWidth = helpers.longestText(me.ctx, tickLabelFont, me.ticks, me.longestTextCache);\n\t\t\t\tvar tallestLabelHeightInLines = helpers.numberOfLabelLines(me.ticks);\n\t\t\t\tvar lineSpace = tickFontSize * 0.5;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t// A horizontal axis is more constrained by the height.\n\t\t\t\t\tme.longestLabelWidth = largestTextWidth;\n\n\t\t\t\t\t// TODO - improve this calculation\n\t\t\t\t\tvar labelHeight = (Math.sin(helpers.toRadians(me.labelRotation)) * me.longestLabelWidth) + (tickFontSize * tallestLabelHeightInLines) + (lineSpace * tallestLabelHeightInLines);\n\n\t\t\t\t\tminSize.height = Math.min(me.maxHeight, minSize.height + labelHeight);\n\t\t\t\t\tme.ctx.font = tickLabelFont;\n\n\t\t\t\t\tvar firstLabelWidth = me.ctx.measureText(me.ticks[0]).width;\n\t\t\t\t\tvar lastLabelWidth = me.ctx.measureText(me.ticks[me.ticks.length - 1]).width;\n\n\t\t\t\t\t// Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned which means that the right padding is dominated\n\t\t\t\t\t// by the font height\n\t\t\t\t\tvar cosRotation = Math.cos(helpers.toRadians(me.labelRotation));\n\t\t\t\t\tvar sinRotation = Math.sin(helpers.toRadians(me.labelRotation));\n\t\t\t\t\tme.paddingLeft = me.labelRotation !== 0 ? (cosRotation * firstLabelWidth) + 3 : firstLabelWidth / 2 + 3; // add 3 px to move away from canvas edges\n\t\t\t\t\tme.paddingRight = me.labelRotation !== 0 ? (sinRotation * (tickFontSize / 2)) + 3 : lastLabelWidth / 2 + 3; // when rotated\n\t\t\t\t} else {\n\t\t\t\t\t// A vertical axis is more constrained by the width. Labels are the dominant factor here, so get that length first\n\t\t\t\t\tvar maxLabelWidth = me.maxWidth - minSize.width;\n\n\t\t\t\t\t// Account for padding\n\t\t\t\t\tvar mirror = tickOpts.mirror;\n\t\t\t\t\tif (!mirror) {\n\t\t\t\t\t\tlargestTextWidth += me.options.ticks.padding;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If mirrored text is on the inside so don't expand\n\t\t\t\t\t\tlargestTextWidth = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (largestTextWidth < maxLabelWidth) {\n\t\t\t\t\t\t// We don't need all the room\n\t\t\t\t\t\tminSize.width += largestTextWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Expand to max size\n\t\t\t\t\t\tminSize.width = me.maxWidth;\n\t\t\t\t\t}\n\n\t\t\t\t\tme.paddingTop = tickFontSize / 2;\n\t\t\t\t\tme.paddingBottom = tickFontSize / 2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.margins) {\n\t\t\t\tme.paddingLeft = Math.max(me.paddingLeft - me.margins.left, 0);\n\t\t\t\tme.paddingTop = Math.max(me.paddingTop - me.margins.top, 0);\n\t\t\t\tme.paddingRight = Math.max(me.paddingRight - me.margins.right, 0);\n\t\t\t\tme.paddingBottom = Math.max(me.paddingBottom - me.margins.bottom, 0);\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\n\t\t},\n\t\tafterFit: function() {\n\t\t\thelpers.callCallback(this.options.afterFit, [this]);\n\t\t},\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\n\t\t},\n\t\tisFullWidth: function() {\n\t\t\treturn (this.options.fullWidth);\n\t\t},\n\n\t\t// Get the correct value. NaN bad inputs, If the value type is object get the x or y based on whether we are horizontal or not\n\t\tgetRightValue: function(rawValue) {\n\t\t\t// Null and undefined values first\n\t\t\tif (rawValue === null || typeof(rawValue) === 'undefined') {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// isNaN(object) returns true, so make sure NaN is checking for a number\n\t\t\tif (typeof(rawValue) === 'number' && isNaN(rawValue)) {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// If it is in fact an object, dive in one more level\n\t\t\tif (typeof(rawValue) === 'object') {\n\t\t\t\tif ((rawValue instanceof Date) || (rawValue.isValid)) {\n\t\t\t\t\treturn rawValue;\n\t\t\t\t}\n\t\t\t\treturn this.getRightValue(this.isHorizontal() ? rawValue.x : rawValue.y);\n\t\t\t}\n\n\t\t\t// Value is good, return it\n\t\t\treturn rawValue;\n\t\t},\n\n\t\t// Used to get the value to display in the tooltip for the data at the given index\n\t\t// function getLabelForIndex(index, datasetIndex)\n\t\tgetLabelForIndex: helpers.noop,\n\n\t\t// Used to get data value locations.  Value can either be an index or a numerical value\n\t\tgetPixelForValue: helpers.noop,\n\n\t\t// Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t\tgetValueForPixel: helpers.noop,\n\n\t\t// Used for tick location, should\n\t\tgetPixelForTick: function(index, includeOffset) {\n\t\t\tvar me = this;\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar tickWidth = innerWidth / Math.max((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\t\t\t\tvar pixel = (tickWidth * index) + me.paddingLeft;\n\n\t\t\t\tif (includeOffset) {\n\t\t\t\t\tpixel += tickWidth / 2;\n\t\t\t\t}\n\n\t\t\t\tvar finalVal = me.left + Math.round(pixel);\n\t\t\t\tfinalVal += me.isFullWidth() ? me.margins.left : 0;\n\t\t\t\treturn finalVal;\n\t\t\t}\n\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\treturn me.top + (index * (innerHeight / (me.ticks.length - 1)));\n\t\t},\n\n\t\t// Utility for getting the pixel location of a percentage of scale\n\t\tgetPixelForDecimal: function(decimal /* , includeOffset*/) {\n\t\t\tvar me = this;\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar valueOffset = (innerWidth * decimal) + me.paddingLeft;\n\n\t\t\t\tvar finalVal = me.left + Math.round(valueOffset);\n\t\t\t\tfinalVal += me.isFullWidth() ? me.margins.left : 0;\n\t\t\t\treturn finalVal;\n\t\t\t}\n\t\t\treturn me.top + (decimal * me.height);\n\t\t},\n\n\t\tgetBasePixel: function() {\n\t\t\tvar me = this;\n\t\t\tvar min = me.min;\n\t\t\tvar max = me.max;\n\n\t\t\treturn me.getPixelForValue(\n\t\t\t\tme.beginAtZero? 0:\n\t\t\t\tmin < 0 && max < 0? max :\n\t\t\t\tmin > 0 && max > 0? min :\n\t\t\t\t0);\n\t\t},\n\n\t\t// Actualy draw the scale on the canvas\n\t\t// @param {rectangle} chartArea : the area of the chart to draw full grid lines on\n\t\tdraw: function(chartArea) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tif (!options.display) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar context = me.ctx;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar optionTicks = options.ticks;\n\t\t\tvar gridLines = options.gridLines;\n\t\t\tvar scaleLabel = options.scaleLabel;\n\n\t\t\tvar isRotated = me.labelRotation !== 0;\n\t\t\tvar skipRatio;\n\t\t\tvar useAutoskipper = optionTicks.autoSkip;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\t// figure out the maximum number of gridlines to show\n\t\t\tvar maxTicks;\n\t\t\tif (optionTicks.maxTicksLimit) {\n\t\t\t\tmaxTicks = optionTicks.maxTicksLimit;\n\t\t\t}\n\n\t\t\tvar tickFontColor = helpers.getValueOrDefault(optionTicks.fontColor, globalDefaults.defaultFontColor);\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(optionTicks.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(optionTicks.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(optionTicks.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\t\t\tvar tl = gridLines.tickMarkLength;\n\t\t\tvar borderDash = helpers.getValueOrDefault(gridLines.borderDash, globalDefaults.borderDash);\n\t\t\tvar borderDashOffset = helpers.getValueOrDefault(gridLines.borderDashOffset, globalDefaults.borderDashOffset);\n\n\t\t\tvar scaleLabelFontColor = helpers.getValueOrDefault(scaleLabel.fontColor, globalDefaults.defaultFontColor);\n\t\t\tvar scaleLabelFontSize = helpers.getValueOrDefault(scaleLabel.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar scaleLabelFontStyle = helpers.getValueOrDefault(scaleLabel.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar scaleLabelFontFamily = helpers.getValueOrDefault(scaleLabel.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar scaleLabelFont = helpers.fontString(scaleLabelFontSize, scaleLabelFontStyle, scaleLabelFontFamily);\n\n\t\t\tvar labelRotationRadians = helpers.toRadians(me.labelRotation);\n\t\t\tvar cosRotation = Math.cos(labelRotationRadians);\n\t\t\tvar longestRotatedLabel = me.longestLabelWidth * cosRotation;\n\n\t\t\t// Make sure we draw text in the correct color and font\n\t\t\tcontext.fillStyle = tickFontColor;\n\n\t\t\tvar itemsToDraw = [];\n\n\t\t\tif (isHorizontal) {\n\t\t\t\tskipRatio = false;\n\n\t\t\t\t// Only calculate the skip ratio with the half width of longestRotateLabel if we got an actual rotation\n\t\t\t\t// See #2584\n\t\t\t\tif (isRotated) {\n\t\t\t\t\tlongestRotatedLabel /= 2;\n\t\t\t\t}\n\n\t\t\t\tif ((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length > (me.width - (me.paddingLeft + me.paddingRight))) {\n\t\t\t\t\tskipRatio = 1 + Math.floor(((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length) / (me.width - (me.paddingLeft + me.paddingRight)));\n\t\t\t\t}\n\n\t\t\t\t// if they defined a max number of optionTicks,\n\t\t\t\t// increase skipRatio until that number is met\n\t\t\t\tif (maxTicks && me.ticks.length > maxTicks) {\n\t\t\t\t\twhile (!skipRatio || me.ticks.length / (skipRatio || 1) > maxTicks) {\n\t\t\t\t\t\tif (!skipRatio) {\n\t\t\t\t\t\t\tskipRatio = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tskipRatio += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!useAutoskipper) {\n\t\t\t\t\tskipRatio = false;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tvar xTickStart = options.position === 'right' ? me.left : me.right - tl;\n\t\t\tvar xTickEnd = options.position === 'right' ? me.left + tl : me.right;\n\t\t\tvar yTickStart = options.position === 'bottom' ? me.top : me.bottom - tl;\n\t\t\tvar yTickEnd = options.position === 'bottom' ? me.top + tl : me.bottom;\n\n\t\t\thelpers.each(me.ticks, function(label, index) {\n\t\t\t\t// If the callback returned a null or undefined value, do not draw this line\n\t\t\t\tif (label === undefined || label === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar isLastTick = me.ticks.length === index + 1;\n\n\t\t\t\t// Since we always show the last tick,we need may need to hide the last shown one before\n\t\t\t\tvar shouldSkip = (skipRatio > 1 && index % skipRatio > 0) || (index % skipRatio === 0 && index + skipRatio >= me.ticks.length);\n\t\t\t\tif (shouldSkip && !isLastTick || (label === undefined || label === null)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar lineWidth, lineColor;\n\t\t\t\tif (index === (typeof me.zeroLineIndex !== 'undefined' ? me.zeroLineIndex : 0)) {\n\t\t\t\t\t// Draw the first index specially\n\t\t\t\t\tlineWidth = gridLines.zeroLineWidth;\n\t\t\t\t\tlineColor = gridLines.zeroLineColor;\n\t\t\t\t} else {\n\t\t\t\t\tlineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, index);\n\t\t\t\t\tlineColor = helpers.getValueAtIndexOrDefault(gridLines.color, index);\n\t\t\t\t}\n\n\t\t\t\t// Common properties\n\t\t\t\tvar tx1, ty1, tx2, ty2, x1, y1, x2, y2, labelX, labelY;\n\t\t\t\tvar textAlign = 'middle';\n\t\t\t\tvar textBaseline = 'middle';\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tif (!isRotated) {\n\t\t\t\t\t\ttextBaseline = options.position === 'top' ? 'bottom' : 'top';\n\t\t\t\t\t}\n\n\t\t\t\t\ttextAlign = isRotated ? 'right' : 'center';\n\n\t\t\t\t\tvar xLineValue = me.getPixelForTick(index) + helpers.aliasPixel(lineWidth); // xvalues for grid lines\n\t\t\t\t\tlabelX = me.getPixelForTick(index, gridLines.offsetGridLines) + optionTicks.labelOffset; // x values for optionTicks (need to consider offsetLabel option)\n\t\t\t\t\tlabelY = (isRotated) ? me.top + 12 : options.position === 'top' ? me.bottom - tl : me.top + tl;\n\n\t\t\t\t\ttx1 = tx2 = x1 = x2 = xLineValue;\n\t\t\t\t\tty1 = yTickStart;\n\t\t\t\t\tty2 = yTickEnd;\n\t\t\t\t\ty1 = chartArea.top;\n\t\t\t\t\ty2 = chartArea.bottom;\n\t\t\t\t} else {\n\t\t\t\t\tif (options.position === 'left') {\n\t\t\t\t\t\tif (optionTicks.mirror) {\n\t\t\t\t\t\t\tlabelX = me.right + optionTicks.padding;\n\t\t\t\t\t\t\ttextAlign = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlabelX = me.right - optionTicks.padding;\n\t\t\t\t\t\t\ttextAlign = 'right';\n\t\t\t\t\t\t}\n\t\t\t\t\t// right side\n\t\t\t\t\t} else if (optionTicks.mirror) {\n\t\t\t\t\t\tlabelX = me.left - optionTicks.padding;\n\t\t\t\t\t\ttextAlign = 'right';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabelX = me.left + optionTicks.padding;\n\t\t\t\t\t\ttextAlign = 'left';\n\t\t\t\t\t}\n\n\t\t\t\t\tvar yLineValue = me.getPixelForTick(index); // xvalues for grid lines\n\t\t\t\t\tyLineValue += helpers.aliasPixel(lineWidth);\n\t\t\t\t\tlabelY = me.getPixelForTick(index, gridLines.offsetGridLines);\n\n\t\t\t\t\ttx1 = xTickStart;\n\t\t\t\t\ttx2 = xTickEnd;\n\t\t\t\t\tx1 = chartArea.left;\n\t\t\t\t\tx2 = chartArea.right;\n\t\t\t\t\tty1 = ty2 = y1 = y2 = yLineValue;\n\t\t\t\t}\n\n\t\t\t\titemsToDraw.push({\n\t\t\t\t\ttx1: tx1,\n\t\t\t\t\tty1: ty1,\n\t\t\t\t\ttx2: tx2,\n\t\t\t\t\tty2: ty2,\n\t\t\t\t\tx1: x1,\n\t\t\t\t\ty1: y1,\n\t\t\t\t\tx2: x2,\n\t\t\t\t\ty2: y2,\n\t\t\t\t\tlabelX: labelX,\n\t\t\t\t\tlabelY: labelY,\n\t\t\t\t\tglWidth: lineWidth,\n\t\t\t\t\tglColor: lineColor,\n\t\t\t\t\tglBorderDash: borderDash,\n\t\t\t\t\tglBorderDashOffset: borderDashOffset,\n\t\t\t\t\trotation: -1 * labelRotationRadians,\n\t\t\t\t\tlabel: label,\n\t\t\t\t\ttextBaseline: textBaseline,\n\t\t\t\t\ttextAlign: textAlign\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Draw all of the tick labels, tick marks, and grid lines at the correct places\n\t\t\thelpers.each(itemsToDraw, function(itemToDraw) {\n\t\t\t\tif (gridLines.display) {\n\t\t\t\t\tcontext.save();\n\t\t\t\t\tcontext.lineWidth = itemToDraw.glWidth;\n\t\t\t\t\tcontext.strokeStyle = itemToDraw.glColor;\n\t\t\t\t\tif (context.setLineDash) {\n\t\t\t\t\t\tcontext.setLineDash(itemToDraw.glBorderDash);\n\t\t\t\t\t\tcontext.lineDashOffset = itemToDraw.glBorderDashOffset;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.beginPath();\n\n\t\t\t\t\tif (gridLines.drawTicks) {\n\t\t\t\t\t\tcontext.moveTo(itemToDraw.tx1, itemToDraw.ty1);\n\t\t\t\t\t\tcontext.lineTo(itemToDraw.tx2, itemToDraw.ty2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (gridLines.drawOnChartArea) {\n\t\t\t\t\t\tcontext.moveTo(itemToDraw.x1, itemToDraw.y1);\n\t\t\t\t\t\tcontext.lineTo(itemToDraw.x2, itemToDraw.y2);\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.stroke();\n\t\t\t\t\tcontext.restore();\n\t\t\t\t}\n\n\t\t\t\tif (optionTicks.display) {\n\t\t\t\t\tcontext.save();\n\t\t\t\t\tcontext.translate(itemToDraw.labelX, itemToDraw.labelY);\n\t\t\t\t\tcontext.rotate(itemToDraw.rotation);\n\t\t\t\t\tcontext.font = tickLabelFont;\n\t\t\t\t\tcontext.textBaseline = itemToDraw.textBaseline;\n\t\t\t\t\tcontext.textAlign = itemToDraw.textAlign;\n\n\t\t\t\t\tvar label = itemToDraw.label;\n\t\t\t\t\tif (helpers.isArray(label)) {\n\t\t\t\t\t\tfor (var i = 0, y = -(label.length - 1)*tickFontSize*0.75; i < label.length; ++i) {\n\t\t\t\t\t\t\t// We just make sure the multiline element is a string here..\n\t\t\t\t\t\t\tcontext.fillText('' + label[i], 0, y);\n\t\t\t\t\t\t\t// apply same lineSpacing as calculated @ L#320\n\t\t\t\t\t\t\ty += (tickFontSize * 1.5);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.fillText(label, 0, 0);\n\t\t\t\t\t}\n\t\t\t\t\tcontext.restore();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (scaleLabel.display) {\n\t\t\t\t// Draw the scale label\n\t\t\t\tvar scaleLabelX;\n\t\t\t\tvar scaleLabelY;\n\t\t\t\tvar rotation = 0;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tscaleLabelX = me.left + ((me.right - me.left) / 2); // midpoint of the width\n\t\t\t\t\tscaleLabelY = options.position === 'bottom' ? me.bottom - (scaleLabelFontSize / 2) : me.top + (scaleLabelFontSize / 2);\n\t\t\t\t} else {\n\t\t\t\t\tvar isLeft = options.position === 'left';\n\t\t\t\t\tscaleLabelX = isLeft ? me.left + (scaleLabelFontSize / 2) : me.right - (scaleLabelFontSize / 2);\n\t\t\t\t\tscaleLabelY = me.top + ((me.bottom - me.top) / 2);\n\t\t\t\t\trotation = isLeft ? -0.5 * Math.PI : 0.5 * Math.PI;\n\t\t\t\t}\n\n\t\t\t\tcontext.save();\n\t\t\t\tcontext.translate(scaleLabelX, scaleLabelY);\n\t\t\t\tcontext.rotate(rotation);\n\t\t\t\tcontext.textAlign = 'center';\n\t\t\t\tcontext.textBaseline = 'middle';\n\t\t\t\tcontext.fillStyle = scaleLabelFontColor; // render in correct colour\n\t\t\t\tcontext.font = scaleLabelFont;\n\t\t\t\tcontext.fillText(scaleLabel.labelString, 0, 0);\n\t\t\t\tcontext.restore();\n\t\t\t}\n\n\t\t\tif (gridLines.drawBorder) {\n\t\t\t\t// Draw the line at the edge of the axis\n\t\t\t\tcontext.lineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, 0);\n\t\t\t\tcontext.strokeStyle = helpers.getValueAtIndexOrDefault(gridLines.color, 0);\n\t\t\t\tvar x1 = me.left,\n\t\t\t\t\tx2 = me.right,\n\t\t\t\t\ty1 = me.top,\n\t\t\t\t\ty2 = me.bottom;\n\n\t\t\t\tvar aliasPixel = helpers.aliasPixel(context.lineWidth);\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\ty1 = y2 = options.position === 'top' ? me.bottom : me.top;\n\t\t\t\t\ty1 += aliasPixel;\n\t\t\t\t\ty2 += aliasPixel;\n\t\t\t\t} else {\n\t\t\t\t\tx1 = x2 = options.position === 'left' ? me.right : me.left;\n\t\t\t\t\tx1 += aliasPixel;\n\t\t\t\t\tx2 += aliasPixel;\n\t\t\t\t}\n\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.moveTo(x1, y1);\n\t\t\t\tcontext.lineTo(x2, y2);\n\t\t\t\tcontext.stroke();\n\t\t\t}\n\t\t}\n\t});\n};\n\n},{}],32:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.scaleService = {\n\t\t// Scale registration object. Extensions can register new scale types (such as log or DB scales) and then\n\t\t// use the new chart options to grab the correct scale\n\t\tconstructors: {},\n\t\t// Use a registration function so that we can move to an ES6 map when we no longer need to support\n\t\t// old browsers\n\n\t\t// Scale config defaults\n\t\tdefaults: {},\n\t\tregisterScaleType: function(type, scaleConstructor, defaults) {\n\t\t\tthis.constructors[type] = scaleConstructor;\n\t\t\tthis.defaults[type] = helpers.clone(defaults);\n\t\t},\n\t\tgetScaleConstructor: function(type) {\n\t\t\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\n\t\t},\n\t\tgetScaleDefaults: function(type) {\n\t\t\t// Return the scale defaults merged with the global settings so that we always use the latest ones\n\t\t\treturn this.defaults.hasOwnProperty(type) ? helpers.scaleMerge(Chart.defaults.scale, this.defaults[type]) : {};\n\t\t},\n\t\tupdateScaleDefaults: function(type, additions) {\n\t\t\tvar defaults = this.defaults;\n\t\t\tif (defaults.hasOwnProperty(type)) {\n\t\t\t\tdefaults[type] = helpers.extend(defaults[type], additions);\n\t\t\t}\n\t\t},\n\t\taddScalesToLayout: function(chartInstance) {\n\t\t\t// Adds each scale to the chart.boxes array to be sized accordingly\n\t\t\thelpers.each(chartInstance.scales, function(scale) {\n\t\t\t\tChart.layoutService.addBox(chartInstance, scale);\n\t\t\t});\n\t\t}\n\t};\n};\n\n},{}],33:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.title = {\n\t\tdisplay: false,\n\t\tposition: 'top',\n\t\tfullWidth: true, // marks that this box should take the full width of the canvas (pushing down other boxes)\n\n\t\tfontStyle: 'bold',\n\t\tpadding: 10,\n\n\t\t// actual title\n\t\ttext: ''\n\t};\n\n\tvar noop = helpers.noop;\n\tChart.Title = Chart.Element.extend({\n\n\t\tinitialize: function(config) {\n\t\t\tvar me = this;\n\t\t\thelpers.extend(me, config);\n\t\t\tme.options = helpers.configMerge(Chart.defaults.global.title, config.options);\n\n\t\t\t// Contains hit boxes for each dataset (in dataset order)\n\t\t\tme.legendHitBoxes = [];\n\t\t},\n\n\t\t// These methods are ordered by lifecyle. Utilities then follow.\n\n\t\tbeforeUpdate: function() {\n\t\t\tvar chartOpts = this.chart.options;\n\t\t\tif (chartOpts && chartOpts.title) {\n\t\t\t\tthis.options = helpers.configMerge(Chart.defaults.global.title, chartOpts.title);\n\t\t\t}\n\t\t},\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = margins;\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\t\t\t// Labels\n\t\t\tme.beforeBuildLabels();\n\t\t\tme.buildLabels();\n\t\t\tme.afterBuildLabels();\n\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\n\t\t},\n\t\tafterUpdate: noop,\n\n\t\t//\n\n\t\tbeforeSetDimensions: noop,\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\n\t\t\t// Reset minSize\n\t\t\tme.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t},\n\t\tafterSetDimensions: noop,\n\n\t\t//\n\n\t\tbeforeBuildLabels: noop,\n\t\tbuildLabels: noop,\n\t\tafterBuildLabels: noop,\n\n\t\t//\n\n\t\tbeforeFit: noop,\n\t\tfit: function() {\n\t\t\tvar me = this,\n\t\t\t\tvalueOrDefault = helpers.getValueOrDefault,\n\t\t\t\topts = me.options,\n\t\t\t\tglobalDefaults = Chart.defaults.global,\n\t\t\t\tdisplay = opts.display,\n\t\t\t\tfontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),\n\t\t\t\tminSize = me.minSize;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tminSize.width = me.maxWidth; // fill all the width\n\t\t\t\tminSize.height = display ? fontSize + (opts.padding * 2) : 0;\n\t\t\t} else {\n\t\t\t\tminSize.width = display ? fontSize + (opts.padding * 2) : 0;\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\n\t\t},\n\t\tafterFit: noop,\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\tvar pos = this.options.position;\n\t\t\treturn pos === 'top' || pos === 'bottom';\n\t\t},\n\n\t\t// Actualy draw the title block on the canvas\n\t\tdraw: function() {\n\t\t\tvar me = this,\n\t\t\t\tctx = me.ctx,\n\t\t\t\tvalueOrDefault = helpers.getValueOrDefault,\n\t\t\t\topts = me.options,\n\t\t\t\tglobalDefaults = Chart.defaults.global;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar fontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\tfontStyle = valueOrDefault(opts.fontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\tfontFamily = valueOrDefault(opts.fontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\ttitleFont = helpers.fontString(fontSize, fontStyle, fontFamily),\n\t\t\t\t\trotation = 0,\n\t\t\t\t\ttitleX,\n\t\t\t\t\ttitleY,\n\t\t\t\t\ttop = me.top,\n\t\t\t\t\tleft = me.left,\n\t\t\t\t\tbottom = me.bottom,\n\t\t\t\t\tright = me.right;\n\n\t\t\t\tctx.fillStyle = valueOrDefault(opts.fontColor, globalDefaults.defaultFontColor); // render in correct colour\n\t\t\t\tctx.font = titleFont;\n\n\t\t\t\t// Horizontal\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\ttitleX = left + ((right - left) / 2); // midpoint of the width\n\t\t\t\t\ttitleY = top + ((bottom - top) / 2); // midpoint of the height\n\t\t\t\t} else {\n\t\t\t\t\ttitleX = opts.position === 'left' ? left + (fontSize / 2) : right - (fontSize / 2);\n\t\t\t\t\ttitleY = top + ((bottom - top) / 2);\n\t\t\t\t\trotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\n\t\t\t\t}\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(titleX, titleY);\n\t\t\t\tctx.rotate(rotation);\n\t\t\t\tctx.textAlign = 'center';\n\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\tctx.fillText(opts.text, 0, 0);\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t});\n\n\t// Register the title plugin\n\tChart.plugins.register({\n\t\tbeforeInit: function(chartInstance) {\n\t\t\tvar opts = chartInstance.options;\n\t\t\tvar titleOpts = opts.title;\n\n\t\t\tif (titleOpts) {\n\t\t\t\tchartInstance.titleBlock = new Chart.Title({\n\t\t\t\t\tctx: chartInstance.chart.ctx,\n\t\t\t\t\toptions: titleOpts,\n\t\t\t\t\tchart: chartInstance\n\t\t\t\t});\n\n\t\t\t\tChart.layoutService.addBox(chartInstance, chartInstance.titleBlock);\n\t\t\t}\n\t\t}\n\t});\n};\n\n},{}],34:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.tooltips = {\n\t\tenabled: true,\n\t\tcustom: null,\n\t\tmode: 'single',\n\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\n\t\ttitleFontStyle: 'bold',\n\t\ttitleSpacing: 2,\n\t\ttitleMarginBottom: 6,\n\t\ttitleFontColor: '#fff',\n\t\ttitleAlign: 'left',\n\t\tbodySpacing: 2,\n\t\tbodyFontColor: '#fff',\n\t\tbodyAlign: 'left',\n\t\tfooterFontStyle: 'bold',\n\t\tfooterSpacing: 2,\n\t\tfooterMarginTop: 6,\n\t\tfooterFontColor: '#fff',\n\t\tfooterAlign: 'left',\n\t\tyPadding: 6,\n\t\txPadding: 6,\n\t\tyAlign: 'center',\n\t\txAlign: 'center',\n\t\tcaretSize: 5,\n\t\tcornerRadius: 6,\n\t\tmultiKeyBackground: '#fff',\n\t\tcallbacks: {\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeTitle: helpers.noop,\n\t\t\ttitle: function(tooltipItems, data) {\n\t\t\t\t// Pick first xLabel for now\n\t\t\t\tvar title = '';\n\t\t\t\tvar labels = data.labels;\n\t\t\t\tvar labelCount = labels ? labels.length : 0;\n\n\t\t\t\tif (tooltipItems.length > 0) {\n\t\t\t\t\tvar item = tooltipItems[0];\n\n\t\t\t\t\tif (item.xLabel) {\n\t\t\t\t\t\ttitle = item.xLabel;\n\t\t\t\t\t} else if (labelCount > 0 && item.index < labelCount) {\n\t\t\t\t\t\ttitle = labels[item.index];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn title;\n\t\t\t},\n\t\t\tafterTitle: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeBody: helpers.noop,\n\n\t\t\t// Args are: (tooltipItem, data)\n\t\t\tbeforeLabel: helpers.noop,\n\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\treturn datasetLabel + ': ' + tooltipItem.yLabel;\n\t\t\t},\n\t\t\tlabelColor: function(tooltipItem, chartInstance) {\n\t\t\t\tvar meta = chartInstance.getDatasetMeta(tooltipItem.datasetIndex);\n\t\t\t\tvar activeElement = meta.data[tooltipItem.index];\n\t\t\t\tvar view = activeElement._view;\n\t\t\t\treturn {\n\t\t\t\t\tborderColor: view.borderColor,\n\t\t\t\t\tbackgroundColor: view.backgroundColor\n\t\t\t\t};\n\t\t\t},\n\t\t\tafterLabel: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tafterBody: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeFooter: helpers.noop,\n\t\t\tfooter: helpers.noop,\n\t\t\tafterFooter: helpers.noop\n\t\t}\n\t};\n\n\t// Helper to push or concat based on if the 2nd parameter is an array or not\n\tfunction pushOrConcat(base, toPush) {\n\t\tif (toPush) {\n\t\t\tif (helpers.isArray(toPush)) {\n\t\t\t\t// base = base.concat(toPush);\n\t\t\t\tArray.prototype.push.apply(base, toPush);\n\t\t\t} else {\n\t\t\t\tbase.push(toPush);\n\t\t\t}\n\t\t}\n\n\t\treturn base;\n\t}\n\n\tfunction getAveragePosition(elements) {\n\t\tif (!elements.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar i, len;\n\t\tvar xPositions = [];\n\t\tvar yPositions = [];\n\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\n\t\t\tvar el = elements[i];\n\t\t\tif (el && el.hasValue()) {\n\t\t\t\tvar pos = el.tooltipPosition();\n\t\t\t\txPositions.push(pos.x);\n\t\t\t\tyPositions.push(pos.y);\n\t\t\t}\n\t\t}\n\n\t\tvar x = 0,\n\t\t\ty = 0;\n\t\tfor (i = 0; i < xPositions.length; ++i) {\n\t\t\tif (xPositions[i]) {\n\t\t\t\tx += xPositions[i];\n\t\t\t\ty += yPositions[i];\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tx: Math.round(x / xPositions.length),\n\t\t\ty: Math.round(y / xPositions.length)\n\t\t};\n\t}\n\n\t// Private helper to create a tooltip iteam model\n\t// @param element : the chart element (point, arc, bar) to create the tooltip item for\n\t// @return : new tooltip item\n\tfunction createTooltipItem(element) {\n\t\tvar xScale = element._xScale;\n\t\tvar yScale = element._yScale || element._scale; // handle radar || polarArea charts\n\t\tvar index = element._index,\n\t\t\tdatasetIndex = element._datasetIndex;\n\n\t\treturn {\n\t\t\txLabel: xScale ? xScale.getLabelForIndex(index, datasetIndex) : '',\n\t\t\tyLabel: yScale ? yScale.getLabelForIndex(index, datasetIndex) : '',\n\t\t\tindex: index,\n\t\t\tdatasetIndex: datasetIndex\n\t\t};\n\t}\n\n\tChart.Tooltip = Chart.Element.extend({\n\t\tinitialize: function() {\n\t\t\tvar me = this;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar tooltipOpts = me._options;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\thelpers.extend(me, {\n\t\t\t\t_model: {\n\t\t\t\t\t// Positioning\n\t\t\t\t\txPadding: tooltipOpts.xPadding,\n\t\t\t\t\tyPadding: tooltipOpts.yPadding,\n\t\t\t\t\txAlign: tooltipOpts.xAlign,\n\t\t\t\t\tyAlign: tooltipOpts.yAlign,\n\n\t\t\t\t\t// Body\n\t\t\t\t\tbodyFontColor: tooltipOpts.bodyFontColor,\n\t\t\t\t\t_bodyFontFamily: getValueOrDefault(tooltipOpts.bodyFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\t_bodyFontStyle: getValueOrDefault(tooltipOpts.bodyFontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\t_bodyAlign: tooltipOpts.bodyAlign,\n\t\t\t\t\tbodyFontSize: getValueOrDefault(tooltipOpts.bodyFontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\tbodySpacing: tooltipOpts.bodySpacing,\n\n\t\t\t\t\t// Title\n\t\t\t\t\ttitleFontColor: tooltipOpts.titleFontColor,\n\t\t\t\t\t_titleFontFamily: getValueOrDefault(tooltipOpts.titleFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\t_titleFontStyle: getValueOrDefault(tooltipOpts.titleFontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\ttitleFontSize: getValueOrDefault(tooltipOpts.titleFontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\t_titleAlign: tooltipOpts.titleAlign,\n\t\t\t\t\ttitleSpacing: tooltipOpts.titleSpacing,\n\t\t\t\t\ttitleMarginBottom: tooltipOpts.titleMarginBottom,\n\n\t\t\t\t\t// Footer\n\t\t\t\t\tfooterFontColor: tooltipOpts.footerFontColor,\n\t\t\t\t\t_footerFontFamily: getValueOrDefault(tooltipOpts.footerFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\t_footerFontStyle: getValueOrDefault(tooltipOpts.footerFontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\tfooterFontSize: getValueOrDefault(tooltipOpts.footerFontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\t_footerAlign: tooltipOpts.footerAlign,\n\t\t\t\t\tfooterSpacing: tooltipOpts.footerSpacing,\n\t\t\t\t\tfooterMarginTop: tooltipOpts.footerMarginTop,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\tcaretSize: tooltipOpts.caretSize,\n\t\t\t\t\tcornerRadius: tooltipOpts.cornerRadius,\n\t\t\t\t\tbackgroundColor: tooltipOpts.backgroundColor,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tlegendColorBackground: tooltipOpts.multiKeyBackground\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// Get the title\n\t\t// Args are: (tooltipItem, data)\n\t\tgetTitle: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me._options;\n\t\t\tvar callbacks = opts.callbacks;\n\n\t\t\tvar beforeTitle = callbacks.beforeTitle.apply(me, arguments),\n\t\t\t\ttitle = callbacks.title.apply(me, arguments),\n\t\t\t\tafterTitle = callbacks.afterTitle.apply(me, arguments);\n\n\t\t\tvar lines = [];\n\t\t\tlines = pushOrConcat(lines, beforeTitle);\n\t\t\tlines = pushOrConcat(lines, title);\n\t\t\tlines = pushOrConcat(lines, afterTitle);\n\n\t\t\treturn lines;\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetBeforeBody: function() {\n\t\t\tvar lines = this._options.callbacks.beforeBody.apply(this, arguments);\n\t\t\treturn helpers.isArray(lines) ? lines : lines !== undefined ? [lines] : [];\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetBody: function(tooltipItems, data) {\n\t\t\tvar me = this;\n\t\t\tvar callbacks = me._options.callbacks;\n\t\t\tvar bodyItems = [];\n\n\t\t\thelpers.each(tooltipItems, function(tooltipItem) {\n\t\t\t\tvar bodyItem = {\n\t\t\t\t\tbefore: [],\n\t\t\t\t\tlines: [],\n\t\t\t\t\tafter: []\n\t\t\t\t};\n\t\t\t\tpushOrConcat(bodyItem.before, callbacks.beforeLabel.call(me, tooltipItem, data));\n\t\t\t\tpushOrConcat(bodyItem.lines, callbacks.label.call(me, tooltipItem, data));\n\t\t\t\tpushOrConcat(bodyItem.after, callbacks.afterLabel.call(me, tooltipItem, data));\n\n\t\t\t\tbodyItems.push(bodyItem);\n\t\t\t});\n\n\t\t\treturn bodyItems;\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetAfterBody: function() {\n\t\t\tvar lines = this._options.callbacks.afterBody.apply(this, arguments);\n\t\t\treturn helpers.isArray(lines) ? lines : lines !== undefined ? [lines] : [];\n\t\t},\n\n\t\t// Get the footer and beforeFooter and afterFooter lines\n\t\t// Args are: (tooltipItem, data)\n\t\tgetFooter: function() {\n\t\t\tvar me = this;\n\t\t\tvar callbacks = me._options.callbacks;\n\n\t\t\tvar beforeFooter = callbacks.beforeFooter.apply(me, arguments);\n\t\t\tvar footer = callbacks.footer.apply(me, arguments);\n\t\t\tvar afterFooter = callbacks.afterFooter.apply(me, arguments);\n\n\t\t\tvar lines = [];\n\t\t\tlines = pushOrConcat(lines, beforeFooter);\n\t\t\tlines = pushOrConcat(lines, footer);\n\t\t\tlines = pushOrConcat(lines, afterFooter);\n\n\t\t\treturn lines;\n\t\t},\n\n\t\tupdate: function(changed) {\n\t\t\tvar me = this;\n\t\t\tvar opts = me._options;\n\t\t\tvar model = me._model;\n\t\t\tvar active = me._active;\n\n\t\t\tvar data = me._data;\n\t\t\tvar chartInstance = me._chartInstance;\n\n\t\t\tvar i, len;\n\n\t\t\tif (active.length) {\n\t\t\t\tmodel.opacity = 1;\n\n\t\t\t\tvar labelColors = [],\n\t\t\t\t\ttooltipPosition = getAveragePosition(active);\n\n\t\t\t\tvar tooltipItems = [];\n\t\t\t\tfor (i = 0, len = active.length; i < len; ++i) {\n\t\t\t\t\ttooltipItems.push(createTooltipItem(active[i]));\n\t\t\t\t}\n\n\t\t\t\t// If the user provided a sorting function, use it to modify the tooltip items\n\t\t\t\tif (opts.itemSort) {\n\t\t\t\t\ttooltipItems = tooltipItems.sort(function(a, b) {\n\t\t\t\t\t\treturn opts.itemSort(a, b, data);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// If there is more than one item, show color items\n\t\t\t\tif (active.length > 1) {\n\t\t\t\t\thelpers.each(tooltipItems, function(tooltipItem) {\n\t\t\t\t\t\tlabelColors.push(opts.callbacks.labelColor.call(me, tooltipItem, chartInstance));\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Build the Text Lines\n\t\t\t\thelpers.extend(model, {\n\t\t\t\t\ttitle: me.getTitle(tooltipItems, data),\n\t\t\t\t\tbeforeBody: me.getBeforeBody(tooltipItems, data),\n\t\t\t\t\tbody: me.getBody(tooltipItems, data),\n\t\t\t\t\tafterBody: me.getAfterBody(tooltipItems, data),\n\t\t\t\t\tfooter: me.getFooter(tooltipItems, data),\n\t\t\t\t\tx: Math.round(tooltipPosition.x),\n\t\t\t\t\ty: Math.round(tooltipPosition.y),\n\t\t\t\t\tcaretPadding: helpers.getValueOrDefault(tooltipPosition.padding, 2),\n\t\t\t\t\tlabelColors: labelColors\n\t\t\t\t});\n\n\t\t\t\t// We need to determine alignment of\n\t\t\t\tvar tooltipSize = me.getTooltipSize(model);\n\t\t\t\tme.determineAlignment(tooltipSize); // Smart Tooltip placement to stay on the canvas\n\n\t\t\t\thelpers.extend(model, me.getBackgroundPoint(model, tooltipSize));\n\t\t\t} else {\n\t\t\t\tme._model.opacity = 0;\n\t\t\t}\n\n\t\t\tif (changed && opts.custom) {\n\t\t\t\topts.custom.call(me, model);\n\t\t\t}\n\n\t\t\treturn me;\n\t\t},\n\t\tgetTooltipSize: function(vm) {\n\t\t\tvar ctx = this._chart.ctx;\n\n\t\t\tvar size = {\n\t\t\t\theight: vm.yPadding * 2, // Tooltip Padding\n\t\t\t\twidth: 0\n\t\t\t};\n\n\t\t\t// Count of all lines in the body\n\t\t\tvar body = vm.body;\n\t\t\tvar combinedBodyLength = body.reduce(function(count, bodyItem) {\n\t\t\t\treturn count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\n\t\t\t}, 0);\n\t\t\tcombinedBodyLength += vm.beforeBody.length + vm.afterBody.length;\n\n\t\t\tvar titleLineCount = vm.title.length;\n\t\t\tvar footerLineCount = vm.footer.length;\n\t\t\tvar titleFontSize = vm.titleFontSize,\n\t\t\t\tbodyFontSize = vm.bodyFontSize,\n\t\t\t\tfooterFontSize = vm.footerFontSize;\n\n\t\t\tsize.height += titleLineCount * titleFontSize; // Title Lines\n\t\t\tsize.height += (titleLineCount - 1) * vm.titleSpacing; // Title Line Spacing\n\t\t\tsize.height += titleLineCount ? vm.titleMarginBottom : 0; // Title's bottom Margin\n\t\t\tsize.height += combinedBodyLength * bodyFontSize; // Body Lines\n\t\t\tsize.height += combinedBodyLength ? (combinedBodyLength - 1) * vm.bodySpacing : 0; // Body Line Spacing\n\t\t\tsize.height += footerLineCount ? vm.footerMarginTop : 0; // Footer Margin\n\t\t\tsize.height += footerLineCount * (footerFontSize); // Footer Lines\n\t\t\tsize.height += footerLineCount ? (footerLineCount - 1) * vm.footerSpacing : 0; // Footer Line Spacing\n\n\t\t\t// Title width\n\t\t\tvar widthPadding = 0;\n\t\t\tvar maxLineWidth = function(line) {\n\t\t\t\tsize.width = Math.max(size.width, ctx.measureText(line).width + widthPadding);\n\t\t\t};\n\n\t\t\tctx.font = helpers.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\n\t\t\thelpers.each(vm.title, maxLineWidth);\n\n\t\t\t// Body width\n\t\t\tctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\n\t\t\thelpers.each(vm.beforeBody.concat(vm.afterBody), maxLineWidth);\n\n\t\t\t// Body lines may include some extra width due to the color box\n\t\t\twidthPadding = body.length > 1 ? (bodyFontSize + 2) : 0;\n\t\t\thelpers.each(body, function(bodyItem) {\n\t\t\t\thelpers.each(bodyItem.before, maxLineWidth);\n\t\t\t\thelpers.each(bodyItem.lines, maxLineWidth);\n\t\t\t\thelpers.each(bodyItem.after, maxLineWidth);\n\t\t\t});\n\n\t\t\t// Reset back to 0\n\t\t\twidthPadding = 0;\n\n\t\t\t// Footer width\n\t\t\tctx.font = helpers.fontString(footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\n\t\t\thelpers.each(vm.footer, maxLineWidth);\n\n\t\t\t// Add padding\n\t\t\tsize.width += 2 * vm.xPadding;\n\n\t\t\treturn size;\n\t\t},\n\t\tdetermineAlignment: function(size) {\n\t\t\tvar me = this;\n\t\t\tvar model = me._model;\n\t\t\tvar chart = me._chart;\n\t\t\tvar chartArea = me._chartInstance.chartArea;\n\n\t\t\tif (model.y < size.height) {\n\t\t\t\tmodel.yAlign = 'top';\n\t\t\t} else if (model.y > (chart.height - size.height)) {\n\t\t\t\tmodel.yAlign = 'bottom';\n\t\t\t}\n\n\t\t\tvar lf, rf; // functions to determine left, right alignment\n\t\t\tvar olf, orf; // functions to determine if left/right alignment causes tooltip to go outside chart\n\t\t\tvar yf; // function to get the y alignment if the tooltip goes outside of the left or right edges\n\t\t\tvar midX = (chartArea.left + chartArea.right) / 2;\n\t\t\tvar midY = (chartArea.top + chartArea.bottom) / 2;\n\n\t\t\tif (model.yAlign === 'center') {\n\t\t\t\tlf = function(x) {\n\t\t\t\t\treturn x <= midX;\n\t\t\t\t};\n\t\t\t\trf = function(x) {\n\t\t\t\t\treturn x > midX;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlf = function(x) {\n\t\t\t\t\treturn x <= (size.width / 2);\n\t\t\t\t};\n\t\t\t\trf = function(x) {\n\t\t\t\t\treturn x >= (chart.width - (size.width / 2));\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tolf = function(x) {\n\t\t\t\treturn x + size.width > chart.width;\n\t\t\t};\n\t\t\torf = function(x) {\n\t\t\t\treturn x - size.width < 0;\n\t\t\t};\n\t\t\tyf = function(y) {\n\t\t\t\treturn y <= midY ? 'top' : 'bottom';\n\t\t\t};\n\n\t\t\tif (lf(model.x)) {\n\t\t\t\tmodel.xAlign = 'left';\n\n\t\t\t\t// Is tooltip too wide and goes over the right side of the chart.?\n\t\t\t\tif (olf(model.x)) {\n\t\t\t\t\tmodel.xAlign = 'center';\n\t\t\t\t\tmodel.yAlign = yf(model.y);\n\t\t\t\t}\n\t\t\t} else if (rf(model.x)) {\n\t\t\t\tmodel.xAlign = 'right';\n\n\t\t\t\t// Is tooltip too wide and goes outside left edge of canvas?\n\t\t\t\tif (orf(model.x)) {\n\t\t\t\t\tmodel.xAlign = 'center';\n\t\t\t\t\tmodel.yAlign = yf(model.y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetBackgroundPoint: function(vm, size) {\n\t\t\t// Background Position\n\t\t\tvar pt = {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\n\t\t\tvar caretSize = vm.caretSize,\n\t\t\t\tcaretPadding = vm.caretPadding,\n\t\t\t\tcornerRadius = vm.cornerRadius,\n\t\t\t\txAlign = vm.xAlign,\n\t\t\t\tyAlign = vm.yAlign,\n\t\t\t\tpaddingAndSize = caretSize + caretPadding,\n\t\t\t\tradiusAndPadding = cornerRadius + caretPadding;\n\n\t\t\tif (xAlign === 'right') {\n\t\t\t\tpt.x -= size.width;\n\t\t\t} else if (xAlign === 'center') {\n\t\t\t\tpt.x -= (size.width / 2);\n\t\t\t}\n\n\t\t\tif (yAlign === 'top') {\n\t\t\t\tpt.y += paddingAndSize;\n\t\t\t} else if (yAlign === 'bottom') {\n\t\t\t\tpt.y -= size.height + paddingAndSize;\n\t\t\t} else {\n\t\t\t\tpt.y -= (size.height / 2);\n\t\t\t}\n\n\t\t\tif (yAlign === 'center') {\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tpt.x += paddingAndSize;\n\t\t\t\t} else if (xAlign === 'right') {\n\t\t\t\t\tpt.x -= paddingAndSize;\n\t\t\t\t}\n\t\t\t} else if (xAlign === 'left') {\n\t\t\t\tpt.x -= radiusAndPadding;\n\t\t\t} else if (xAlign === 'right') {\n\t\t\t\tpt.x += radiusAndPadding;\n\t\t\t}\n\n\t\t\treturn pt;\n\t\t},\n\t\tdrawCaret: function(tooltipPoint, size, opacity) {\n\t\t\tvar vm = this._view;\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar x1, x2, x3;\n\t\t\tvar y1, y2, y3;\n\t\t\tvar caretSize = vm.caretSize;\n\t\t\tvar cornerRadius = vm.cornerRadius;\n\t\t\tvar xAlign = vm.xAlign,\n\t\t\t\tyAlign = vm.yAlign;\n\t\t\tvar ptX = tooltipPoint.x,\n\t\t\t\tptY = tooltipPoint.y;\n\t\t\tvar width = size.width,\n\t\t\t\theight = size.height;\n\n\t\t\tif (yAlign === 'center') {\n\t\t\t\t// Left or right side\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tx1 = ptX;\n\t\t\t\t\tx2 = x1 - caretSize;\n\t\t\t\t\tx3 = x1;\n\t\t\t\t} else {\n\t\t\t\t\tx1 = ptX + width;\n\t\t\t\t\tx2 = x1 + caretSize;\n\t\t\t\t\tx3 = x1;\n\t\t\t\t}\n\n\t\t\t\ty2 = ptY + (height / 2);\n\t\t\t\ty1 = y2 - caretSize;\n\t\t\t\ty3 = y2 + caretSize;\n\t\t\t} else {\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tx1 = ptX + cornerRadius;\n\t\t\t\t\tx2 = x1 + caretSize;\n\t\t\t\t\tx3 = x2 + caretSize;\n\t\t\t\t} else if (xAlign === 'right') {\n\t\t\t\t\tx1 = ptX + width - cornerRadius;\n\t\t\t\t\tx2 = x1 - caretSize;\n\t\t\t\t\tx3 = x2 - caretSize;\n\t\t\t\t} else {\n\t\t\t\t\tx2 = ptX + (width / 2);\n\t\t\t\t\tx1 = x2 - caretSize;\n\t\t\t\t\tx3 = x2 + caretSize;\n\t\t\t\t}\n\n\t\t\t\tif (yAlign === 'top') {\n\t\t\t\t\ty1 = ptY;\n\t\t\t\t\ty2 = y1 - caretSize;\n\t\t\t\t\ty3 = y1;\n\t\t\t\t} else {\n\t\t\t\t\ty1 = ptY + height;\n\t\t\t\t\ty2 = y1 + caretSize;\n\t\t\t\t\ty3 = y1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar bgColor = helpers.color(vm.backgroundColor);\n\t\t\tctx.fillStyle = bgColor.alpha(opacity * bgColor.alpha()).rgbString();\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x1, y1);\n\t\t\tctx.lineTo(x2, y2);\n\t\t\tctx.lineTo(x3, y3);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t},\n\t\tdrawTitle: function(pt, vm, ctx, opacity) {\n\t\t\tvar title = vm.title;\n\n\t\t\tif (title.length) {\n\t\t\t\tctx.textAlign = vm._titleAlign;\n\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\tvar titleFontSize = vm.titleFontSize,\n\t\t\t\t\ttitleSpacing = vm.titleSpacing;\n\n\t\t\t\tvar titleFontColor = helpers.color(vm.titleFontColor);\n\t\t\t\tctx.fillStyle = titleFontColor.alpha(opacity * titleFontColor.alpha()).rgbString();\n\t\t\t\tctx.font = helpers.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\n\n\t\t\t\tvar i, len;\n\t\t\t\tfor (i = 0, len = title.length; i < len; ++i) {\n\t\t\t\t\tctx.fillText(title[i], pt.x, pt.y);\n\t\t\t\t\tpt.y += titleFontSize + titleSpacing; // Line Height and spacing\n\n\t\t\t\t\tif (i + 1 === title.length) {\n\t\t\t\t\t\tpt.y += vm.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdrawBody: function(pt, vm, ctx, opacity) {\n\t\t\tvar bodyFontSize = vm.bodyFontSize;\n\t\t\tvar bodySpacing = vm.bodySpacing;\n\t\t\tvar body = vm.body;\n\n\t\t\tctx.textAlign = vm._bodyAlign;\n\t\t\tctx.textBaseline = 'top';\n\n\t\t\tvar bodyFontColor = helpers.color(vm.bodyFontColor);\n\t\t\tvar textColor = bodyFontColor.alpha(opacity * bodyFontColor.alpha()).rgbString();\n\t\t\tctx.fillStyle = textColor;\n\t\t\tctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\n\n\t\t\t// Before Body\n\t\t\tvar xLinePadding = 0;\n\t\t\tvar fillLineOfText = function(line) {\n\t\t\t\tctx.fillText(line, pt.x + xLinePadding, pt.y);\n\t\t\t\tpt.y += bodyFontSize + bodySpacing;\n\t\t\t};\n\n\t\t\t// Before body lines\n\t\t\thelpers.each(vm.beforeBody, fillLineOfText);\n\n\t\t\tvar drawColorBoxes = body.length > 1;\n\t\t\txLinePadding = drawColorBoxes ? (bodyFontSize + 2) : 0;\n\n\t\t\t// Draw body lines now\n\t\t\thelpers.each(body, function(bodyItem, i) {\n\t\t\t\thelpers.each(bodyItem.before, fillLineOfText);\n\n\t\t\t\thelpers.each(bodyItem.lines, function(line) {\n\t\t\t\t\t// Draw Legend-like boxes if needed\n\t\t\t\t\tif (drawColorBoxes) {\n\t\t\t\t\t\t// Fill a white rect so that colours merge nicely if the opacity is < 1\n\t\t\t\t\t\tctx.fillStyle = helpers.color(vm.legendColorBackground).alpha(opacity).rgbaString();\n\t\t\t\t\t\tctx.fillRect(pt.x, pt.y, bodyFontSize, bodyFontSize);\n\n\t\t\t\t\t\t// Border\n\t\t\t\t\t\tctx.strokeStyle = helpers.color(vm.labelColors[i].borderColor).alpha(opacity).rgbaString();\n\t\t\t\t\t\tctx.strokeRect(pt.x, pt.y, bodyFontSize, bodyFontSize);\n\n\t\t\t\t\t\t// Inner square\n\t\t\t\t\t\tctx.fillStyle = helpers.color(vm.labelColors[i].backgroundColor).alpha(opacity).rgbaString();\n\t\t\t\t\t\tctx.fillRect(pt.x + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\n\n\t\t\t\t\t\tctx.fillStyle = textColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tfillLineOfText(line);\n\t\t\t\t});\n\n\t\t\t\thelpers.each(bodyItem.after, fillLineOfText);\n\t\t\t});\n\n\t\t\t// Reset back to 0 for after body\n\t\t\txLinePadding = 0;\n\n\t\t\t// After body lines\n\t\t\thelpers.each(vm.afterBody, fillLineOfText);\n\t\t\tpt.y -= bodySpacing; // Remove last body spacing\n\t\t},\n\t\tdrawFooter: function(pt, vm, ctx, opacity) {\n\t\t\tvar footer = vm.footer;\n\n\t\t\tif (footer.length) {\n\t\t\t\tpt.y += vm.footerMarginTop;\n\n\t\t\t\tctx.textAlign = vm._footerAlign;\n\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\tvar footerFontColor = helpers.color(vm.footerFontColor);\n\t\t\t\tctx.fillStyle = footerFontColor.alpha(opacity * footerFontColor.alpha()).rgbString();\n\t\t\t\tctx.font = helpers.fontString(vm.footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\n\n\t\t\t\thelpers.each(footer, function(line) {\n\t\t\t\t\tctx.fillText(line, pt.x, pt.y);\n\t\t\t\t\tpt.y += vm.footerFontSize + vm.footerSpacing;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm.opacity === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar tooltipSize = this.getTooltipSize(vm);\n\t\t\tvar pt = {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\n\t\t\t// IE11/Edge does not like very small opacities, so snap to 0\n\t\t\tvar opacity = Math.abs(vm.opacity < 1e-3) ? 0 : vm.opacity;\n\n\t\t\tif (this._options.enabled) {\n\t\t\t\t// Draw Background\n\t\t\t\tvar bgColor = helpers.color(vm.backgroundColor);\n\t\t\t\tctx.fillStyle = bgColor.alpha(opacity * bgColor.alpha()).rgbString();\n\t\t\t\thelpers.drawRoundedRectangle(ctx, pt.x, pt.y, tooltipSize.width, tooltipSize.height, vm.cornerRadius);\n\t\t\t\tctx.fill();\n\n\t\t\t\t// Draw Caret\n\t\t\t\tthis.drawCaret(pt, tooltipSize, opacity);\n\n\t\t\t\t// Draw Title, Body, and Footer\n\t\t\t\tpt.x += vm.xPadding;\n\t\t\t\tpt.y += vm.yPadding;\n\n\t\t\t\t// Titles\n\t\t\t\tthis.drawTitle(pt, vm, ctx, opacity);\n\n\t\t\t\t// Body\n\t\t\t\tthis.drawBody(pt, vm, ctx, opacity);\n\n\t\t\t\t// Footer\n\t\t\t\tthis.drawFooter(pt, vm, ctx, opacity);\n\t\t\t}\n\t\t}\n\t});\n};\n\n},{}],35:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tglobalOpts = Chart.defaults.global;\n\n\tglobalOpts.elements.arc = {\n\t\tbackgroundColor: globalOpts.defaultColor,\n\t\tborderColor: '#fff',\n\t\tborderWidth: 2\n\t};\n\n\tChart.elements.Arc = Chart.Element.extend({\n\t\tinLabelRange: function(mouseX) {\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm) {\n\t\t\t\treturn (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hoverRadius, 2));\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tinRange: function(chartX, chartY) {\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm) {\n\t\t\t\tvar pointRelativePosition = helpers.getAngleFromPoint(vm, {\n\t\t\t\t\t\tx: chartX,\n\t\t\t\t\t\ty: chartY\n\t\t\t\t\t}),\n\t\t\t\t\tangle = pointRelativePosition.angle,\n\t\t\t\t\tdistance = pointRelativePosition.distance;\n\n\t\t\t\t// Sanitise angle range\n\t\t\t\tvar startAngle = vm.startAngle;\n\t\t\t\tvar endAngle = vm.endAngle;\n\t\t\t\twhile (endAngle < startAngle) {\n\t\t\t\t\tendAngle += 2.0 * Math.PI;\n\t\t\t\t}\n\t\t\t\twhile (angle > endAngle) {\n\t\t\t\t\tangle -= 2.0 * Math.PI;\n\t\t\t\t}\n\t\t\t\twhile (angle < startAngle) {\n\t\t\t\t\tangle += 2.0 * Math.PI;\n\t\t\t\t}\n\n\t\t\t\t// Check if within the range of the open/close angle\n\t\t\t\tvar betweenAngles = (angle >= startAngle && angle <= endAngle),\n\t\t\t\t\twithinRadius = (distance >= vm.innerRadius && distance <= vm.outerRadius);\n\n\t\t\t\treturn (betweenAngles && withinRadius);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\n\t\t\tvar centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2),\n\t\t\t\trangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;\n\t\t\treturn {\n\t\t\t\tx: vm.x + (Math.cos(centreAngle) * rangeFromCentre),\n\t\t\t\ty: vm.y + (Math.sin(centreAngle) * rangeFromCentre)\n\t\t\t};\n\t\t},\n\t\tdraw: function() {\n\n\t\t\tvar ctx = this._chart.ctx,\n\t\t\t\tvm = this._view,\n\t\t\t\tsA = vm.startAngle,\n\t\t\t\teA = vm.endAngle;\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(vm.x, vm.y, vm.outerRadius, sA, eA);\n\t\t\tctx.arc(vm.x, vm.y, vm.innerRadius, eA, sA, true);\n\n\t\t\tctx.closePath();\n\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\tctx.fillStyle = vm.backgroundColor;\n\n\t\t\tctx.fill();\n\t\t\tctx.lineJoin = 'bevel';\n\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t});\n};\n\n},{}],36:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar globalDefaults = Chart.defaults.global;\n\n\tChart.defaults.global.elements.line = {\n\t\ttension: 0.4,\n\t\tbackgroundColor: globalDefaults.defaultColor,\n\t\tborderWidth: 3,\n\t\tborderColor: globalDefaults.defaultColor,\n\t\tborderCapStyle: 'butt',\n\t\tborderDash: [],\n\t\tborderDashOffset: 0.0,\n\t\tborderJoinStyle: 'miter',\n\t\tcapBezierPoints: true,\n\t\tfill: true // do we fill in the area between the line and its base axis\n\t};\n\n\tChart.elements.Line = Chart.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar vm = me._view;\n\t\t\tvar spanGaps = vm.spanGaps;\n\t\t\tvar scaleZero = vm.scaleZero;\n\t\t\tvar loop = me._loop;\n\n\t\t\tvar ctx = me._chart.ctx;\n\t\t\tctx.save();\n\n\t\t\t// Helper function to draw a line to a point\n\t\t\tfunction lineToPoint(previousPoint, point) {\n\t\t\t\tvar pointVM = point._view;\n\t\t\t\tif (point._view.steppedLine === true) {\n\t\t\t\t\tctx.lineTo(pointVM.x, previousPoint._view.y);\n\t\t\t\t\tctx.lineTo(pointVM.x, pointVM.y);\n\t\t\t\t} else if (point._view.tension === 0) {\n\t\t\t\t\tctx.lineTo(pointVM.x, pointVM.y);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\tpreviousPoint._view.controlPointNextX,\n\t\t\t\t\t\tpreviousPoint._view.controlPointNextY,\n\t\t\t\t\t\tpointVM.controlPointPreviousX,\n\t\t\t\t\t\tpointVM.controlPointPreviousY,\n\t\t\t\t\t\tpointVM.x,\n\t\t\t\t\t\tpointVM.y\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar points = me._children.slice(); // clone array\n\t\t\tvar lastDrawnIndex = -1;\n\n\t\t\t// If we are looping, adding the first point again\n\t\t\tif (loop && points.length) {\n\t\t\t\tpoints.push(points[0]);\n\t\t\t}\n\n\t\t\tvar index, current, previous, currentVM;\n\n\t\t\t// Fill Line\n\t\t\tif (points.length && vm.fill) {\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tfor (index = 0; index < points.length; ++index) {\n\t\t\t\t\tcurrent = points[index];\n\t\t\t\t\tprevious = helpers.previousItem(points, index);\n\t\t\t\t\tcurrentVM = current._view;\n\n\t\t\t\t\t// First point moves to it's starting position no matter what\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\tif (loop) {\n\t\t\t\t\t\t\tctx.moveTo(scaleZero.x, scaleZero.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.moveTo(currentVM.x, scaleZero);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t\t\tctx.lineTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprevious = lastDrawnIndex === -1 ? previous : points[lastDrawnIndex];\n\n\t\t\t\t\t\tif (currentVM.skip) {\n\t\t\t\t\t\t\t// Only do this if this is the first point that is skipped\n\t\t\t\t\t\t\tif (!spanGaps && lastDrawnIndex === (index - 1)) {\n\t\t\t\t\t\t\t\tif (loop) {\n\t\t\t\t\t\t\t\t\tctx.lineTo(scaleZero.x, scaleZero.y);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tctx.lineTo(previous._view.x, scaleZero);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (lastDrawnIndex !== (index - 1)) {\n\t\t\t\t\t\t\t\t// There was a gap and this is the first point after the gap. If we've never drawn a point, this is a special case.\n\t\t\t\t\t\t\t\t// If the first data point is NaN, then there is no real gap to skip\n\t\t\t\t\t\t\t\tif (spanGaps && lastDrawnIndex !== -1) {\n\t\t\t\t\t\t\t\t\t// We are spanning the gap, so simple draw a line to this point\n\t\t\t\t\t\t\t\t\tlineToPoint(previous, current);\n\t\t\t\t\t\t\t\t} else if (loop) {\n\t\t\t\t\t\t\t\t\tctx.lineTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tctx.lineTo(currentVM.x, scaleZero);\n\t\t\t\t\t\t\t\t\tctx.lineTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Line to next point\n\t\t\t\t\t\t\t\tlineToPoint(previous, current);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!loop && lastDrawnIndex !== -1) {\n\t\t\t\t\tctx.lineTo(points[lastDrawnIndex]._view.x, scaleZero);\n\t\t\t\t}\n\n\t\t\t\tctx.fillStyle = vm.backgroundColor || globalDefaults.defaultColor;\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.fill();\n\t\t\t}\n\n\t\t\t// Stroke Line Options\n\t\t\tvar globalOptionLineElements = globalDefaults.elements.line;\n\t\t\tctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;\n\n\t\t\t// IE 9 and 10 do not support line dash\n\t\t\tif (ctx.setLineDash) {\n\t\t\t\tctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);\n\t\t\t}\n\n\t\t\tctx.lineDashOffset = vm.borderDashOffset || globalOptionLineElements.borderDashOffset;\n\t\t\tctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;\n\t\t\tctx.lineWidth = vm.borderWidth || globalOptionLineElements.borderWidth;\n\t\t\tctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;\n\n\t\t\t// Stroke Line\n\t\t\tctx.beginPath();\n\t\t\tlastDrawnIndex = -1;\n\n\t\t\tfor (index = 0; index < points.length; ++index) {\n\t\t\t\tcurrent = points[index];\n\t\t\t\tprevious = helpers.previousItem(points, index);\n\t\t\t\tcurrentVM = current._view;\n\n\t\t\t\t// First point moves to it's starting position no matter what\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tprevious = lastDrawnIndex === -1 ? previous : points[lastDrawnIndex];\n\n\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\tif ((lastDrawnIndex !== (index - 1) && !spanGaps) || lastDrawnIndex === -1) {\n\t\t\t\t\t\t\t// There was a gap and this is the first point after the gap\n\t\t\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Line to next point\n\t\t\t\t\t\t\tlineToPoint(previous, current);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tctx.stroke();\n\t\t\tctx.restore();\n\t\t}\n\t});\n};\n\n},{}],37:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tglobalOpts = Chart.defaults.global,\n\t\tdefaultColor = globalOpts.defaultColor;\n\n\tglobalOpts.elements.point = {\n\t\tradius: 3,\n\t\tpointStyle: 'circle',\n\t\tbackgroundColor: defaultColor,\n\t\tborderWidth: 1,\n\t\tborderColor: defaultColor,\n\t\t// Hover\n\t\thitRadius: 1,\n\t\thoverRadius: 4,\n\t\thoverBorderWidth: 1\n\t};\n\n\tChart.elements.Point = Chart.Element.extend({\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ? ((Math.pow(mouseX - vm.x, 2) + Math.pow(mouseY - vm.y, 2)) < Math.pow(vm.hitRadius + vm.radius, 2)) : false;\n\t\t},\n\t\tinLabelRange: function(mouseX) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ? (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hitRadius, 2)) : false;\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y,\n\t\t\t\tpadding: vm.radius + vm.borderWidth\n\t\t\t};\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar vm = this._view;\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar pointStyle = vm.pointStyle;\n\t\t\tvar radius = vm.radius;\n\t\t\tvar x = vm.x;\n\t\t\tvar y = vm.y;\n\n\t\t\tif (vm.skip) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tctx.strokeStyle = vm.borderColor || defaultColor;\n\t\t\tctx.lineWidth = helpers.getValueOrDefault(vm.borderWidth, globalOpts.elements.point.borderWidth);\n\t\t\tctx.fillStyle = vm.backgroundColor || defaultColor;\n\n\t\t\tChart.canvasHelpers.drawPoint(ctx, pointStyle, radius, x, y);\n\t\t}\n\t});\n};\n\n},{}],38:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar globalOpts = Chart.defaults.global;\n\n\tglobalOpts.elements.rectangle = {\n\t\tbackgroundColor: globalOpts.defaultColor,\n\t\tborderWidth: 0,\n\t\tborderColor: globalOpts.defaultColor,\n\t\tborderSkipped: 'bottom'\n\t};\n\n\tChart.elements.Rectangle = Chart.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar vm = this._view;\n\n\t\t\tvar halfWidth = vm.width / 2,\n\t\t\t\tleftX = vm.x - halfWidth,\n\t\t\t\trightX = vm.x + halfWidth,\n\t\t\t\ttop = vm.base - (vm.base - vm.y),\n\t\t\t\thalfStroke = vm.borderWidth / 2;\n\n\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tleftX += halfStroke;\n\t\t\t\trightX -= halfStroke;\n\t\t\t\ttop += halfStroke;\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = vm.backgroundColor;\n\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\t// Corner points, from bottom-left to bottom-right clockwise\n\t\t\t// | 1 2 |\n\t\t\t// | 0 3 |\n\t\t\tvar corners = [\n\t\t\t\t[leftX, vm.base],\n\t\t\t\t[leftX, top],\n\t\t\t\t[rightX, top],\n\t\t\t\t[rightX, vm.base]\n\t\t\t];\n\n\t\t\t// Find first (starting) corner with fallback to 'bottom'\n\t\t\tvar borders = ['bottom', 'left', 'top', 'right'];\n\t\t\tvar startCorner = borders.indexOf(vm.borderSkipped, 0);\n\t\t\tif (startCorner === -1) {\n\t\t\t\tstartCorner = 0;\n\t\t\t}\n\n\t\t\tfunction cornerAt(index) {\n\t\t\t\treturn corners[(startCorner + index) % 4];\n\t\t\t}\n\n\t\t\t// Draw rectangle from 'startCorner'\n\t\t\tctx.moveTo.apply(ctx, cornerAt(0));\n\t\t\tfor (var i = 1; i < 4; i++) {\n\t\t\t\tctx.lineTo.apply(ctx, cornerAt(i));\n\t\t\t}\n\n\t\t\tctx.fill();\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\theight: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm.base - vm.y;\n\t\t},\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ?\n\t\t\t\t\t(vm.y < vm.base ?\n\t\t\t\t\t\t(mouseX >= vm.x - vm.width / 2 && mouseX <= vm.x + vm.width / 2) && (mouseY >= vm.y && mouseY <= vm.base) :\n\t\t\t\t\t\t(mouseX >= vm.x - vm.width / 2 && mouseX <= vm.x + vm.width / 2) && (mouseY >= vm.base && mouseY <= vm.y)) :\n\t\t\t\t\tfalse;\n\t\t},\n\t\tinLabelRange: function(mouseX) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ? (mouseX >= vm.x - vm.width / 2 && mouseX <= vm.x + vm.width / 2) : false;\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\t\t}\n\t});\n\n};\n\n},{}],39:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\t// Default config for a category scale\n\tvar defaultConfig = {\n\t\tposition: 'bottom'\n\t};\n\n\tvar DatasetScale = Chart.Scale.extend({\n\t\t/**\n\t\t* Internal function to get the correct labels. If data.xLabels or data.yLabels are defined, use tose\n\t\t* else fall back to data.labels\n\t\t* @private\n\t\t*/\n\t\tgetLabels: function() {\n\t\t\tvar data = this.chart.data;\n\t\t\treturn (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels;\n\t\t},\n\t\t// Implement this so that\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar labels = me.getLabels();\n\t\t\tme.minIndex = 0;\n\t\t\tme.maxIndex = labels.length - 1;\n\t\t\tvar findIndex;\n\n\t\t\tif (me.options.ticks.min !== undefined) {\n\t\t\t\t// user specified min value\n\t\t\t\tfindIndex = helpers.indexOf(labels, me.options.ticks.min);\n\t\t\t\tme.minIndex = findIndex !== -1 ? findIndex : me.minIndex;\n\t\t\t}\n\n\t\t\tif (me.options.ticks.max !== undefined) {\n\t\t\t\t// user specified max value\n\t\t\t\tfindIndex = helpers.indexOf(labels, me.options.ticks.max);\n\t\t\t\tme.maxIndex = findIndex !== -1 ? findIndex : me.maxIndex;\n\t\t\t}\n\n\t\t\tme.min = labels[me.minIndex];\n\t\t\tme.max = labels[me.maxIndex];\n\t\t},\n\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar labels = me.getLabels();\n\t\t\t// If we are viewing some subset of labels, slice the original array\n\t\t\tme.ticks = (me.minIndex === 0 && me.maxIndex === labels.length - 1) ? labels : labels.slice(me.minIndex, me.maxIndex + 1);\n\t\t},\n\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar data = me.chart.data;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tif ((data.xLabels && isHorizontal) || (data.yLabels && !isHorizontal)) {\n\t\t\t\treturn me.getRightValue(data.datasets[datasetIndex].data[index]);\n\t\t\t}\n\t\t\treturn me.ticks[index];\n\t\t},\n\n\t\t// Used to get data value locations.  Value can either be an index or a numerical value\n\t\tgetPixelForValue: function(value, index, datasetIndex, includeOffset) {\n\t\t\tvar me = this;\n\t\t\t// 1 is added because we need the length but we have the indexes\n\t\t\tvar offsetAmt = Math.max((me.maxIndex + 1 - me.minIndex - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\n\t\t\tif (value !== undefined && isNaN(index)) {\n\t\t\t\tvar labels = me.getLabels();\n\t\t\t\tvar idx = labels.indexOf(value);\n\t\t\t\tindex = idx !== -1 ? idx : index;\n\t\t\t}\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar valueWidth = innerWidth / offsetAmt;\n\t\t\t\tvar widthOffset = (valueWidth * (index - me.minIndex)) + me.paddingLeft;\n\n\t\t\t\tif (me.options.gridLines.offsetGridLines && includeOffset || me.maxIndex === me.minIndex && includeOffset) {\n\t\t\t\t\twidthOffset += (valueWidth / 2);\n\t\t\t\t}\n\n\t\t\t\treturn me.left + Math.round(widthOffset);\n\t\t\t}\n\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\tvar valueHeight = innerHeight / offsetAmt;\n\t\t\tvar heightOffset = (valueHeight * (index - me.minIndex)) + me.paddingTop;\n\n\t\t\tif (me.options.gridLines.offsetGridLines && includeOffset) {\n\t\t\t\theightOffset += (valueHeight / 2);\n\t\t\t}\n\n\t\t\treturn me.top + Math.round(heightOffset);\n\t\t},\n\t\tgetPixelForTick: function(index, includeOffset) {\n\t\t\treturn this.getPixelForValue(this.ticks[index], index + this.minIndex, null, includeOffset);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar value;\n\t\t\tvar offsetAmt = Math.max((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\t\t\tvar horz = me.isHorizontal();\n\t\t\tvar innerDimension = horz ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);\n\t\t\tvar valueDimension = innerDimension / offsetAmt;\n\n\t\t\tpixel -= horz ? me.left : me.top;\n\n\t\t\tif (me.options.gridLines.offsetGridLines) {\n\t\t\t\tpixel -= (valueDimension / 2);\n\t\t\t}\n\t\t\tpixel -= horz ? me.paddingLeft : me.paddingTop;\n\n\t\t\tif (pixel <= 0) {\n\t\t\t\tvalue = 0;\n\t\t\t} else {\n\t\t\t\tvalue = Math.round(pixel / valueDimension);\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\t\tgetBasePixel: function() {\n\t\t\treturn this.bottom;\n\t\t}\n\t});\n\n\tChart.scaleService.registerScaleType('category', DatasetScale, defaultConfig);\n\n};\n\n},{}],40:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\tposition: 'left',\n\t\tticks: {\n\t\t\tcallback: function(tickValue, index, ticks) {\n\t\t\t\t// If we have lots of ticks, don't use the ones\n\t\t\t\tvar delta = ticks.length > 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];\n\n\t\t\t\t// If we have a number like 2.5 as the delta, figure out how many decimal places we need\n\t\t\t\tif (Math.abs(delta) > 1) {\n\t\t\t\t\tif (tickValue !== Math.floor(tickValue)) {\n\t\t\t\t\t\t// not an integer\n\t\t\t\t\t\tdelta = tickValue - Math.floor(tickValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar logDelta = helpers.log10(Math.abs(delta));\n\t\t\t\tvar tickString = '';\n\n\t\t\t\tif (tickValue !== 0) {\n\t\t\t\t\tvar numDecimal = -1 * Math.floor(logDelta);\n\t\t\t\t\tnumDecimal = Math.max(Math.min(numDecimal, 20), 0); // toFixed has a max of 20 decimal places\n\t\t\t\t\ttickString = tickValue.toFixed(numDecimal);\n\t\t\t\t} else {\n\t\t\t\t\ttickString = '0'; // never show decimal places for 0\n\t\t\t\t}\n\n\t\t\t\treturn tickString;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar LinearScale = Chart.LinearScaleBase.extend({\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar chart = me.chart;\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tfunction IDMatches(meta) {\n\t\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n\t\t\t}\n\n\t\t\t// First Calculate the range\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\n\t\t\tif (opts.stacked) {\n\t\t\t\tvar valuesPerType = {};\n\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (valuesPerType[meta.type] === undefined) {\n\t\t\t\t\t\tvaluesPerType[meta.type] = {\n\t\t\t\t\t\t\tpositiveValues: [],\n\t\t\t\t\t\t\tnegativeValues: []\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Store these per type\n\t\t\t\t\tvar positiveValues = valuesPerType[meta.type].positiveValues;\n\t\t\t\t\tvar negativeValues = valuesPerType[meta.type].negativeValues;\n\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tpositiveValues[index] = positiveValues[index] || 0;\n\t\t\t\t\t\t\tnegativeValues[index] = negativeValues[index] || 0;\n\n\t\t\t\t\t\t\tif (opts.relativePoints) {\n\t\t\t\t\t\t\t\tpositiveValues[index] = 100;\n\t\t\t\t\t\t\t} else if (value < 0) {\n\t\t\t\t\t\t\t\tnegativeValues[index] += value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpositiveValues[index] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(valuesPerType, function(valuesForType) {\n\t\t\t\t\tvar values = valuesForType.positiveValues.concat(valuesForType.negativeValues);\n\t\t\t\t\tvar minVal = helpers.min(values);\n\t\t\t\t\tvar maxVal = helpers.max(values);\n\t\t\t\t\tme.min = me.min === null ? minVal : Math.min(me.min, minVal);\n\t\t\t\t\tme.max = me.max === null ? maxVal : Math.max(me.max, maxVal);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n\t\t\tthis.handleTickRangeOptions();\n\t\t},\n\t\tgetTickLimit: function() {\n\t\t\tvar maxTicks;\n\t\t\tvar me = this;\n\t\t\tvar tickOpts = me.options.ticks;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tmaxTicks = Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(me.width / 50));\n\t\t\t} else {\n\t\t\t\t// The factor of 2 used to scale the font size has been experimentally determined.\n\t\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, Chart.defaults.global.defaultFontSize);\n\t\t\t\tmaxTicks = Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(me.height / (2 * tickFontSize)));\n\t\t\t}\n\n\t\t\treturn maxTicks;\n\t\t},\n\t\t// Called after the ticks are built. We need\n\t\thandleDirectionalChanges: function() {\n\t\t\tif (!this.isHorizontal()) {\n\t\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\n\t\t\t\tthis.ticks.reverse();\n\t\t\t}\n\t\t},\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\t// Utils\n\t\tgetPixelForValue: function(value) {\n\t\t\t// This must be called after fit has been run so that\n\t\t\t// this.left, this.top, this.right, and this.bottom have been defined\n\t\t\tvar me = this;\n\t\t\tvar paddingLeft = me.paddingLeft;\n\t\t\tvar paddingBottom = me.paddingBottom;\n\t\t\tvar start = me.start;\n\n\t\t\tvar rightValue = +me.getRightValue(value);\n\t\t\tvar pixel;\n\t\t\tvar innerDimension;\n\t\t\tvar range = me.end - start;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tinnerDimension = me.width - (paddingLeft + me.paddingRight);\n\t\t\t\tpixel = me.left + (innerDimension / range * (rightValue - start));\n\t\t\t\treturn Math.round(pixel + paddingLeft);\n\t\t\t}\n\t\t\tinnerDimension = me.height - (me.paddingTop + paddingBottom);\n\t\t\tpixel = (me.bottom - paddingBottom) - (innerDimension / range * (rightValue - start));\n\t\t\treturn Math.round(pixel);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\tvar paddingLeft = me.paddingLeft;\n\t\t\tvar paddingBottom = me.paddingBottom;\n\t\t\tvar innerDimension = isHorizontal ? me.width - (paddingLeft + me.paddingRight) : me.height - (me.paddingTop + paddingBottom);\n\t\t\tvar offset = (isHorizontal ? pixel - me.left - paddingLeft : me.bottom - paddingBottom - pixel) / innerDimension;\n\t\t\treturn me.start + ((me.end - me.start) * offset);\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.ticksAsNumbers[index]);\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('linear', LinearScale, defaultConfig);\n\n};\n\n},{}],41:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tnoop = helpers.noop;\n\n\tChart.LinearScaleBase = Chart.Scale.extend({\n\t\thandleTickRangeOptions: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\t// If we are forcing it to begin at 0, but 0 will already be rendered on the chart,\n\t\t\t// do nothing since that would make the chart weird. If the user really wants a weird chart\n\t\t\t// axis, they can manually override it\n\t\t\tif (tickOpts.beginAtZero) {\n\t\t\t\tvar minSign = helpers.sign(me.min);\n\t\t\t\tvar maxSign = helpers.sign(me.max);\n\n\t\t\t\tif (minSign < 0 && maxSign < 0) {\n\t\t\t\t\t// move the top up to 0\n\t\t\t\t\tme.max = 0;\n\t\t\t\t} else if (minSign > 0 && maxSign > 0) {\n\t\t\t\t\t// move the botttom down to 0\n\t\t\t\t\tme.min = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tickOpts.min !== undefined) {\n\t\t\t\tme.min = tickOpts.min;\n\t\t\t} else if (tickOpts.suggestedMin !== undefined) {\n\t\t\t\tme.min = Math.min(me.min, tickOpts.suggestedMin);\n\t\t\t}\n\n\t\t\tif (tickOpts.max !== undefined) {\n\t\t\t\tme.max = tickOpts.max;\n\t\t\t} else if (tickOpts.suggestedMax !== undefined) {\n\t\t\t\tme.max = Math.max(me.max, tickOpts.suggestedMax);\n\t\t\t}\n\n\t\t\tif (me.min === me.max) {\n\t\t\t\tme.max++;\n\n\t\t\t\tif (!tickOpts.beginAtZero) {\n\t\t\t\t\tme.min--;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetTickLimit: noop,\n\t\thandleDirectionalChanges: noop,\n\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar ticks = me.ticks = [];\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\t// Figure out what the max number of ticks we can support it is based on the size of\n\t\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 50\n\t\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n\t\t\t// the graph\n\n\t\t\tvar maxTicks = me.getTickLimit();\n\n\t\t\t// Make sure we always have at least 2 ticks\n\t\t\tmaxTicks = Math.max(2, maxTicks);\n\n\t\t\t// To get a \"nice\" value for the tick spacing, we will use the appropriately named\n\t\t\t// \"nice number\" algorithm. See http://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n\t\t\t// for details.\n\n\t\t\tvar spacing;\n\t\t\tvar fixedStepSizeSet = (tickOpts.fixedStepSize && tickOpts.fixedStepSize > 0) || (tickOpts.stepSize && tickOpts.stepSize > 0);\n\t\t\tif (fixedStepSizeSet) {\n\t\t\t\tspacing = getValueOrDefault(tickOpts.fixedStepSize, tickOpts.stepSize);\n\t\t\t} else {\n\t\t\t\tvar niceRange = helpers.niceNum(me.max - me.min, false);\n\t\t\t\tspacing = helpers.niceNum(niceRange / (maxTicks - 1), true);\n\t\t\t}\n\t\t\tvar niceMin = Math.floor(me.min / spacing) * spacing;\n\t\t\tvar niceMax = Math.ceil(me.max / spacing) * spacing;\n\t\t\tvar numSpaces = (niceMax - niceMin) / spacing;\n\n\t\t\t// If very close to our rounded value, use it.\n\t\t\tif (helpers.almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n\t\t\t\tnumSpaces = Math.round(numSpaces);\n\t\t\t} else {\n\t\t\t\tnumSpaces = Math.ceil(numSpaces);\n\t\t\t}\n\n\t\t\t// Put the values into the ticks array\n\t\t\tticks.push(tickOpts.min !== undefined ? tickOpts.min : niceMin);\n\t\t\tfor (var j = 1; j < numSpaces; ++j) {\n\t\t\t\tticks.push(niceMin + (j * spacing));\n\t\t\t}\n\t\t\tticks.push(tickOpts.max !== undefined ? tickOpts.max : niceMax);\n\n\t\t\tme.handleDirectionalChanges();\n\n\t\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\n\t\t\t// range of the scale\n\t\t\tme.max = helpers.max(ticks);\n\t\t\tme.min = helpers.min(ticks);\n\n\t\t\tif (tickOpts.reverse) {\n\t\t\t\tticks.reverse();\n\n\t\t\t\tme.start = me.max;\n\t\t\t\tme.end = me.min;\n\t\t\t} else {\n\t\t\t\tme.start = me.min;\n\t\t\t\tme.end = me.max;\n\t\t\t}\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.ticksAsNumbers = me.ticks.slice();\n\t\t\tme.zeroLineIndex = me.ticks.indexOf(0);\n\n\t\t\tChart.Scale.prototype.convertTicksToLabels.call(me);\n\t\t}\n\t});\n};\n\n},{}],42:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\tposition: 'left',\n\n\t\t// label settings\n\t\tticks: {\n\t\t\tcallback: function(value, index, arr) {\n\t\t\t\tvar remain = value / (Math.pow(10, Math.floor(helpers.log10(value))));\n\n\t\t\t\tif (value === 0) {\n\t\t\t\t\treturn '0';\n\t\t\t\t} else if (remain === 1 || remain === 2 || remain === 5 || index === 0 || index === arr.length - 1) {\n\t\t\t\t\treturn value.toExponential();\n\t\t\t\t}\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t};\n\n\tvar LogarithmicScale = Chart.Scale.extend({\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar chart = me.chart;\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\tfunction IDMatches(meta) {\n\t\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n\t\t\t}\n\n\t\t\t// Calculate Range\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\t\t\tme.minNotZero = null;\n\n\t\t\tif (opts.stacked) {\n\t\t\t\tvar valuesPerType = {};\n\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\tif (valuesPerType[meta.type] === undefined) {\n\t\t\t\t\t\t\tvaluesPerType[meta.type] = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar values = valuesPerType[meta.type];\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvalues[index] = values[index] || 0;\n\n\t\t\t\t\t\t\tif (opts.relativePoints) {\n\t\t\t\t\t\t\t\tvalues[index] = 100;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Don't need to split positive and negative since the log scale can't handle a 0 crossing\n\t\t\t\t\t\t\t\tvalues[index] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(valuesPerType, function(valuesForType) {\n\t\t\t\t\tvar minVal = helpers.min(valuesForType);\n\t\t\t\t\tvar maxVal = helpers.max(valuesForType);\n\t\t\t\t\tme.min = me.min === null ? minVal : Math.min(me.min, minVal);\n\t\t\t\t\tme.max = me.max === null ? maxVal : Math.max(me.max, maxVal);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (value !== 0 && (me.minNotZero === null || value < me.minNotZero)) {\n\t\t\t\t\t\t\t\tme.minNotZero = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tme.min = getValueOrDefault(tickOpts.min, me.min);\n\t\t\tme.max = getValueOrDefault(tickOpts.max, me.max);\n\n\t\t\tif (me.min === me.max) {\n\t\t\t\tif (me.min !== 0 && me.min !== null) {\n\t\t\t\t\tme.min = Math.pow(10, Math.floor(helpers.log10(me.min)) - 1);\n\t\t\t\t\tme.max = Math.pow(10, Math.floor(helpers.log10(me.max)) + 1);\n\t\t\t\t} else {\n\t\t\t\t\tme.min = 1;\n\t\t\t\t\tme.max = 10;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\t// Reset the ticks array. Later on, we will draw a grid line at these positions\n\t\t\t// The array simply contains the numerical value of the spots where ticks will be\n\t\t\tvar ticks = me.ticks = [];\n\n\t\t\t// Figure out what the max number of ticks we can support it is based on the size of\n\t\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 50\n\t\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n\t\t\t// the graph\n\n\t\t\tvar tickVal = getValueOrDefault(tickOpts.min, Math.pow(10, Math.floor(helpers.log10(me.min))));\n\n\t\t\twhile (tickVal < me.max) {\n\t\t\t\tticks.push(tickVal);\n\n\t\t\t\tvar exp;\n\t\t\t\tvar significand;\n\n\t\t\t\tif (tickVal === 0) {\n\t\t\t\t\texp = Math.floor(helpers.log10(me.minNotZero));\n\t\t\t\t\tsignificand = Math.round(me.minNotZero / Math.pow(10, exp));\n\t\t\t\t} else {\n\t\t\t\t\texp = Math.floor(helpers.log10(tickVal));\n\t\t\t\t\tsignificand = Math.floor(tickVal / Math.pow(10, exp)) + 1;\n\t\t\t\t}\n\n\t\t\t\tif (significand === 10) {\n\t\t\t\t\tsignificand = 1;\n\t\t\t\t\t++exp;\n\t\t\t\t}\n\n\t\t\t\ttickVal = significand * Math.pow(10, exp);\n\t\t\t}\n\n\t\t\tvar lastTick = getValueOrDefault(tickOpts.max, tickVal);\n\t\t\tticks.push(lastTick);\n\n\t\t\tif (!me.isHorizontal()) {\n\t\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\n\t\t\t\tticks.reverse();\n\t\t\t}\n\n\t\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\n\t\t\t// range of the scale\n\t\t\tme.max = helpers.max(ticks);\n\t\t\tme.min = helpers.min(ticks);\n\n\t\t\tif (tickOpts.reverse) {\n\t\t\t\tticks.reverse();\n\n\t\t\t\tme.start = me.max;\n\t\t\t\tme.end = me.min;\n\t\t\t} else {\n\t\t\t\tme.start = me.min;\n\t\t\t\tme.end = me.max;\n\t\t\t}\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tthis.tickValues = this.ticks.slice();\n\n\t\t\tChart.Scale.prototype.convertTicksToLabels.call(this);\n\t\t},\n\t\t// Get the correct tooltip label\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.tickValues[index]);\n\t\t},\n\t\tgetPixelForValue: function(value) {\n\t\t\tvar me = this;\n\t\t\tvar innerDimension;\n\t\t\tvar pixel;\n\n\t\t\tvar start = me.start;\n\t\t\tvar newVal = +me.getRightValue(value);\n\t\t\tvar range;\n\t\t\tvar paddingTop = me.paddingTop;\n\t\t\tvar paddingBottom = me.paddingBottom;\n\t\t\tvar paddingLeft = me.paddingLeft;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\trange = helpers.log10(me.end) - helpers.log10(start); // todo: if start === 0\n\t\t\t\tif (newVal === 0) {\n\t\t\t\t\tpixel = me.left + paddingLeft;\n\t\t\t\t} else {\n\t\t\t\t\tinnerDimension = me.width - (paddingLeft + me.paddingRight);\n\t\t\t\t\tpixel = me.left + (innerDimension / range * (helpers.log10(newVal) - helpers.log10(start)));\n\t\t\t\t\tpixel += paddingLeft;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Bottom - top since pixels increase downard on a screen\n\t\t\t\tinnerDimension = me.height - (paddingTop + paddingBottom);\n\t\t\t\tif (start === 0 && !tickOpts.reverse) {\n\t\t\t\t\trange = helpers.log10(me.end) - helpers.log10(me.minNotZero);\n\t\t\t\t\tif (newVal === start) {\n\t\t\t\t\t\tpixel = me.bottom - paddingBottom;\n\t\t\t\t\t} else if (newVal === me.minNotZero) {\n\t\t\t\t\t\tpixel = me.bottom - paddingBottom - innerDimension * 0.02;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpixel = me.bottom - paddingBottom - innerDimension * 0.02 - (innerDimension * 0.98/ range * (helpers.log10(newVal)-helpers.log10(me.minNotZero)));\n\t\t\t\t\t}\n\t\t\t\t} else if (me.end === 0 && tickOpts.reverse) {\n\t\t\t\t\trange = helpers.log10(me.start) - helpers.log10(me.minNotZero);\n\t\t\t\t\tif (newVal === me.end) {\n\t\t\t\t\t\tpixel = me.top + paddingTop;\n\t\t\t\t\t} else if (newVal === me.minNotZero) {\n\t\t\t\t\t\tpixel = me.top + paddingTop + innerDimension * 0.02;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpixel = me.top + paddingTop + innerDimension * 0.02 + (innerDimension * 0.98/ range * (helpers.log10(newVal)-helpers.log10(me.minNotZero)));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\trange = helpers.log10(me.end) - helpers.log10(start);\n\t\t\t\t\tinnerDimension = me.height - (paddingTop + paddingBottom);\n\t\t\t\t\tpixel = (me.bottom - paddingBottom) - (innerDimension / range * (helpers.log10(newVal) - helpers.log10(start)));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn pixel;\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar range = helpers.log10(me.end) - helpers.log10(me.start);\n\t\t\tvar value, innerDimension;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tinnerDimension = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvalue = me.start * Math.pow(10, (pixel - me.left - me.paddingLeft) * range / innerDimension);\n\t\t\t} else {  // todo: if start === 0\n\t\t\t\tinnerDimension = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\t\tvalue = Math.pow(10, (me.bottom - me.paddingBottom - pixel) * range / innerDimension) / me.start;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('logarithmic', LogarithmicScale, defaultConfig);\n\n};\n\n},{}],43:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar globalDefaults = Chart.defaults.global;\n\n\tvar defaultConfig = {\n\t\tdisplay: true,\n\n\t\t// Boolean - Whether to animate scaling the chart from the centre\n\t\tanimate: true,\n\t\tlineArc: false,\n\t\tposition: 'chartArea',\n\n\t\tangleLines: {\n\t\t\tdisplay: true,\n\t\t\tcolor: 'rgba(0, 0, 0, 0.1)',\n\t\t\tlineWidth: 1\n\t\t},\n\n\t\t// label settings\n\t\tticks: {\n\t\t\t// Boolean - Show a backdrop to the scale label\n\t\t\tshowLabelBackdrop: true,\n\n\t\t\t// String - The colour of the label backdrop\n\t\t\tbackdropColor: 'rgba(255,255,255,0.75)',\n\n\t\t\t// Number - The backdrop padding above & below the label in pixels\n\t\t\tbackdropPaddingY: 2,\n\n\t\t\t// Number - The backdrop padding to the side of the label in pixels\n\t\t\tbackdropPaddingX: 2\n\t\t},\n\n\t\tpointLabels: {\n\t\t\t// Number - Point label font size in pixels\n\t\t\tfontSize: 10,\n\n\t\t\t// Function - Used to convert point labels\n\t\t\tcallback: function(label) {\n\t\t\t\treturn label;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar LinearRadialScale = Chart.LinearScaleBase.extend({\n\t\tgetValueCount: function() {\n\t\t\treturn this.chart.data.labels.length;\n\t\t},\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tme.width = me.maxWidth;\n\t\t\tme.height = me.maxHeight;\n\t\t\tme.xCenter = Math.round(me.width / 2);\n\t\t\tme.yCenter = Math.round(me.height / 2);\n\n\t\t\tvar minSize = helpers.min([me.height, me.width]);\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\tme.drawingArea = opts.display ? (minSize / 2) - (tickFontSize / 2 + tickOpts.backdropPaddingY) : (minSize / 2);\n\t\t},\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\n\n\t\t\thelpers.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\n\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n\t\t\tme.handleTickRangeOptions();\n\t\t},\n\t\tgetTickLimit: function() {\n\t\t\tvar tickOpts = this.options.ticks;\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\treturn Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(this.drawingArea / (1.5 * tickFontSize)));\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tChart.LinearScaleBase.prototype.convertTicksToLabels.call(me);\n\n\t\t\t// Point labels\n\t\t\tme.pointLabels = me.chart.data.labels.map(me.options.pointLabels.callback, me);\n\t\t},\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\tfit: function() {\n\t\t\t/*\n\t\t\t * Right, this is really confusing and there is a lot of maths going on here\n\t\t\t * The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n\t\t\t *\n\t\t\t * Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n\t\t\t *\n\t\t\t * Solution:\n\t\t\t *\n\t\t\t * We assume the radius of the polygon is half the size of the canvas at first\n\t\t\t * at each index we check if the text overlaps.\n\t\t\t *\n\t\t\t * Where it does, we store that angle and that index.\n\t\t\t *\n\t\t\t * After finding the largest index and angle we calculate how much we need to remove\n\t\t\t * from the shape radius to move the point inwards by that x.\n\t\t\t *\n\t\t\t * We average the left and right distances to get the maximum shape radius that can fit in the box\n\t\t\t * along with labels.\n\t\t\t *\n\t\t\t * Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n\t\t\t * on each side, removing that from the size, halving it and adding the left x protrusion width.\n\t\t\t *\n\t\t\t * This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n\t\t\t * and position it in the most space efficient manner\n\t\t\t *\n\t\t\t * https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\t\t\t */\n\n\t\t\tvar pointLabels = this.options.pointLabels;\n\t\t\tvar pointLabelFontSize = helpers.getValueOrDefault(pointLabels.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar pointLabeFontStyle = helpers.getValueOrDefault(pointLabels.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar pointLabeFontFamily = helpers.getValueOrDefault(pointLabels.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar pointLabeFont = helpers.fontString(pointLabelFontSize, pointLabeFontStyle, pointLabeFontFamily);\n\n\t\t\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n\t\t\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n\t\t\tvar largestPossibleRadius = helpers.min([(this.height / 2 - pointLabelFontSize - 5), this.width / 2]),\n\t\t\t\tpointPosition,\n\t\t\t\ti,\n\t\t\t\ttextWidth,\n\t\t\t\thalfTextWidth,\n\t\t\t\tfurthestRight = this.width,\n\t\t\t\tfurthestRightIndex,\n\t\t\t\tfurthestRightAngle,\n\t\t\t\tfurthestLeft = 0,\n\t\t\t\tfurthestLeftIndex,\n\t\t\t\tfurthestLeftAngle,\n\t\t\t\txProtrusionLeft,\n\t\t\t\txProtrusionRight,\n\t\t\t\tradiusReductionRight,\n\t\t\t\tradiusReductionLeft;\n\t\t\tthis.ctx.font = pointLabeFont;\n\n\t\t\tfor (i = 0; i < this.getValueCount(); i++) {\n\t\t\t\t// 5px to space the text slightly out - similar to what we do in the draw function.\n\t\t\t\tpointPosition = this.getPointPosition(i, largestPossibleRadius);\n\t\t\t\ttextWidth = this.ctx.measureText(this.pointLabels[i] ? this.pointLabels[i] : '').width + 5;\n\n\t\t\t\t// Add quarter circle to make degree 0 mean top of circle\n\t\t\t\tvar angleRadians = this.getIndexAngle(i) + (Math.PI / 2);\n\t\t\t\tvar angle = (angleRadians * 360 / (2 * Math.PI)) % 360;\n\n\t\t\t\tif (angle === 0 || angle === 180) {\n\t\t\t\t\t// At angle 0 and 180, we're at exactly the top/bottom\n\t\t\t\t\t// of the radar chart, so text will be aligned centrally, so we'll half it and compare\n\t\t\t\t\t// w/left and right text sizes\n\t\t\t\t\thalfTextWidth = textWidth / 2;\n\t\t\t\t\tif (pointPosition.x + halfTextWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + halfTextWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t\tif (pointPosition.x - halfTextWidth < furthestLeft) {\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - halfTextWidth;\n\t\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t\t}\n\t\t\t\t} else if (angle < 180) {\n\t\t\t\t\t// Less than half the values means we'll left align the text\n\t\t\t\t\tif (pointPosition.x + textWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + textWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t// More than half the values means we'll right align the text\n\t\t\t\t} else if (pointPosition.x - textWidth < furthestLeft) {\n\t\t\t\t\tfurthestLeft = pointPosition.x - textWidth;\n\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txProtrusionLeft = furthestLeft;\n\t\t\txProtrusionRight = Math.ceil(furthestRight - this.width);\n\n\t\t\tfurthestRightAngle = this.getIndexAngle(furthestRightIndex);\n\t\t\tfurthestLeftAngle = this.getIndexAngle(furthestLeftIndex);\n\n\t\t\tradiusReductionRight = xProtrusionRight / Math.sin(furthestRightAngle + Math.PI / 2);\n\t\t\tradiusReductionLeft = xProtrusionLeft / Math.sin(furthestLeftAngle + Math.PI / 2);\n\n\t\t\t// Ensure we actually need to reduce the size of the chart\n\t\t\tradiusReductionRight = (helpers.isNumber(radiusReductionRight)) ? radiusReductionRight : 0;\n\t\t\tradiusReductionLeft = (helpers.isNumber(radiusReductionLeft)) ? radiusReductionLeft : 0;\n\n\t\t\tthis.drawingArea = Math.round(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2);\n\t\t\tthis.setCenterPoint(radiusReductionLeft, radiusReductionRight);\n\t\t},\n\t\tsetCenterPoint: function(leftMovement, rightMovement) {\n\t\t\tvar me = this;\n\t\t\tvar maxRight = me.width - rightMovement - me.drawingArea,\n\t\t\t\tmaxLeft = leftMovement + me.drawingArea;\n\n\t\t\tme.xCenter = Math.round(((maxLeft + maxRight) / 2) + me.left);\n\t\t\t// Always vertically in the centre as the text height doesn't change\n\t\t\tme.yCenter = Math.round((me.height / 2) + me.top);\n\t\t},\n\n\t\tgetIndexAngle: function(index) {\n\t\t\tvar angleMultiplier = (Math.PI * 2) / this.getValueCount();\n\t\t\tvar startAngle = this.chart.options && this.chart.options.startAngle ?\n\t\t\t\tthis.chart.options.startAngle :\n\t\t\t\t0;\n\n\t\t\tvar startAngleRadians = startAngle * Math.PI * 2 / 360;\n\n\t\t\t// Start from the top instead of right, so remove a quarter of the circle\n\t\t\treturn index * angleMultiplier - (Math.PI / 2) + startAngleRadians;\n\t\t},\n\t\tgetDistanceFromCenterForValue: function(value) {\n\t\t\tvar me = this;\n\n\t\t\tif (value === null) {\n\t\t\t\treturn 0; // null always in center\n\t\t\t}\n\n\t\t\t// Take into account half font size + the yPadding of the top value\n\t\t\tvar scalingFactor = me.drawingArea / (me.max - me.min);\n\t\t\tif (me.options.reverse) {\n\t\t\t\treturn (me.max - value) * scalingFactor;\n\t\t\t}\n\t\t\treturn (value - me.min) * scalingFactor;\n\t\t},\n\t\tgetPointPosition: function(index, distanceFromCenter) {\n\t\t\tvar me = this;\n\t\t\tvar thisAngle = me.getIndexAngle(index);\n\t\t\treturn {\n\t\t\t\tx: Math.round(Math.cos(thisAngle) * distanceFromCenter) + me.xCenter,\n\t\t\t\ty: Math.round(Math.sin(thisAngle) * distanceFromCenter) + me.yCenter\n\t\t\t};\n\t\t},\n\t\tgetPointPositionForValue: function(index, value) {\n\t\t\treturn this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n\t\t},\n\n\t\tgetBasePosition: function() {\n\t\t\tvar me = this;\n\t\t\tvar min = me.min;\n\t\t\tvar max = me.max;\n\n\t\t\treturn me.getPointPositionForValue(0,\n\t\t\t\tme.beginAtZero? 0:\n\t\t\t\tmin < 0 && max < 0? max :\n\t\t\t\tmin > 0 && max > 0? min :\n\t\t\t\t0);\n\t\t},\n\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar gridLineOpts = opts.gridLines;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar angleLineOpts = opts.angleLines;\n\t\t\tvar pointLabelOpts = opts.pointLabels;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar ctx = me.ctx;\n\n\t\t\t\t// Tick Font\n\t\t\t\tvar tickFontSize = getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\t\tvar tickFontStyle = getValueOrDefault(tickOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\t\tvar tickFontFamily = getValueOrDefault(tickOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\n\t\t\t\thelpers.each(me.ticks, function(label, index) {\n\t\t\t\t\t// Don't draw a centre value (if it is minimum)\n\t\t\t\t\tif (index > 0 || opts.reverse) {\n\t\t\t\t\t\tvar yCenterOffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\n\t\t\t\t\t\tvar yHeight = me.yCenter - yCenterOffset;\n\n\t\t\t\t\t\t// Draw circular lines around the scale\n\t\t\t\t\t\tif (gridLineOpts.display && index !== 0) {\n\t\t\t\t\t\t\tctx.strokeStyle = helpers.getValueAtIndexOrDefault(gridLineOpts.color, index - 1);\n\t\t\t\t\t\t\tctx.lineWidth = helpers.getValueAtIndexOrDefault(gridLineOpts.lineWidth, index - 1);\n\n\t\t\t\t\t\t\tif (opts.lineArc) {\n\t\t\t\t\t\t\t\t// Draw circular arcs between the points\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tctx.arc(me.xCenter, me.yCenter, yCenterOffset, 0, Math.PI * 2);\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Draw straight lines connecting each index\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tfor (var i = 0; i < me.getValueCount(); i++) {\n\t\t\t\t\t\t\t\t\tvar pointPosition = me.getPointPosition(i, yCenterOffset);\n\t\t\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\t\t\tctx.moveTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tickOpts.display) {\n\t\t\t\t\t\t\tvar tickFontColor = getValueOrDefault(tickOpts.fontColor, globalDefaults.defaultFontColor);\n\t\t\t\t\t\t\tctx.font = tickLabelFont;\n\n\t\t\t\t\t\t\tif (tickOpts.showLabelBackdrop) {\n\t\t\t\t\t\t\t\tvar labelWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\tctx.fillStyle = tickOpts.backdropColor;\n\t\t\t\t\t\t\t\tctx.fillRect(\n\t\t\t\t\t\t\t\t\tme.xCenter - labelWidth / 2 - tickOpts.backdropPaddingX,\n\t\t\t\t\t\t\t\t\tyHeight - tickFontSize / 2 - tickOpts.backdropPaddingY,\n\t\t\t\t\t\t\t\t\tlabelWidth + tickOpts.backdropPaddingX * 2,\n\t\t\t\t\t\t\t\t\ttickFontSize + tickOpts.backdropPaddingY * 2\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t\tctx.fillStyle = tickFontColor;\n\t\t\t\t\t\t\tctx.fillText(label, me.xCenter, yHeight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!opts.lineArc) {\n\t\t\t\t\tctx.lineWidth = angleLineOpts.lineWidth;\n\t\t\t\t\tctx.strokeStyle = angleLineOpts.color;\n\n\t\t\t\t\tvar outerDistance = me.getDistanceFromCenterForValue(opts.reverse ? me.min : me.max);\n\n\t\t\t\t\t// Point Label Font\n\t\t\t\t\tvar pointLabelFontSize = getValueOrDefault(pointLabelOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\t\t\tvar pointLabeFontStyle = getValueOrDefault(pointLabelOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\t\t\tvar pointLabeFontFamily = getValueOrDefault(pointLabelOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\t\t\tvar pointLabeFont = helpers.fontString(pointLabelFontSize, pointLabeFontStyle, pointLabeFontFamily);\n\n\t\t\t\t\tfor (var i = me.getValueCount() - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (angleLineOpts.display) {\n\t\t\t\t\t\t\tvar outerPosition = me.getPointPosition(i, outerDistance);\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\tctx.moveTo(me.xCenter, me.yCenter);\n\t\t\t\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Extra 3px out for some label spacing\n\t\t\t\t\t\tvar pointLabelPosition = me.getPointPosition(i, outerDistance + 5);\n\n\t\t\t\t\t\t// Keep this in loop since we may support array properties here\n\t\t\t\t\t\tvar pointLabelFontColor = getValueOrDefault(pointLabelOpts.fontColor, globalDefaults.defaultFontColor);\n\t\t\t\t\t\tctx.font = pointLabeFont;\n\t\t\t\t\t\tctx.fillStyle = pointLabelFontColor;\n\n\t\t\t\t\t\tvar pointLabels = me.pointLabels;\n\n\t\t\t\t\t\t// Add quarter circle to make degree 0 mean top of circle\n\t\t\t\t\t\tvar angleRadians = this.getIndexAngle(i) + (Math.PI / 2);\n\t\t\t\t\t\tvar angle = (angleRadians * 360 / (2 * Math.PI)) % 360;\n\n\t\t\t\t\t\tif (angle === 0 || angle === 180) {\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t} else if (angle < 180) {\n\t\t\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textAlign = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set the correct text baseline based on outer positioning\n\t\t\t\t\t\tif (angle === 90 || angle === 270) {\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t} else if (angle > 270 || angle < 90) {\n\t\t\t\t\t\t\tctx.textBaseline = 'bottom';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tctx.fillText(pointLabels[i] ? pointLabels[i] : '', pointLabelPosition.x, pointLabelPosition.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('radialLinear', LinearRadialScale, defaultConfig);\n\n};\n\n},{}],44:[function(require,module,exports){\n/* global window: false */\n'use strict';\n\nvar moment = require(1);\nmoment = typeof(moment) === 'function' ? moment : window.moment;\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar time = {\n\t\tunits: [{\n\t\t\tname: 'millisecond',\n\t\t\tsteps: [1, 2, 5, 10, 20, 50, 100, 250, 500]\n\t\t}, {\n\t\t\tname: 'second',\n\t\t\tsteps: [1, 2, 5, 10, 30]\n\t\t}, {\n\t\t\tname: 'minute',\n\t\t\tsteps: [1, 2, 5, 10, 30]\n\t\t}, {\n\t\t\tname: 'hour',\n\t\t\tsteps: [1, 2, 3, 6, 12]\n\t\t}, {\n\t\t\tname: 'day',\n\t\t\tsteps: [1, 2, 5]\n\t\t}, {\n\t\t\tname: 'week',\n\t\t\tmaxStep: 4\n\t\t}, {\n\t\t\tname: 'month',\n\t\t\tmaxStep: 3\n\t\t}, {\n\t\t\tname: 'quarter',\n\t\t\tmaxStep: 4\n\t\t}, {\n\t\t\tname: 'year',\n\t\t\tmaxStep: false\n\t\t}]\n\t};\n\n\tvar defaultConfig = {\n\t\tposition: 'bottom',\n\n\t\ttime: {\n\t\t\tparser: false, // false == a pattern string from http://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\n\t\t\tformat: false, // DEPRECATED false == date objects, moment object, callback or a pattern string from http://momentjs.com/docs/#/parsing/string-format/\n\t\t\tunit: false, // false == automatic or override with week, month, year, etc.\n\t\t\tround: false, // none, or override with week, month, year, etc.\n\t\t\tdisplayFormat: false, // DEPRECATED\n\t\t\tisoWeekday: false, // override week start day - see http://momentjs.com/docs/#/get-set/iso-weekday/\n\t\t\tminUnit: 'millisecond',\n\n\t\t\t// defaults to unit's corresponding unitFormat below or override using pattern string from http://momentjs.com/docs/#/displaying/format/\n\t\t\tdisplayFormats: {\n\t\t\t\tmillisecond: 'h:mm:ss.SSS a', // 11:20:01.123 AM,\n\t\t\t\tsecond: 'h:mm:ss a', // 11:20:01 AM\n\t\t\t\tminute: 'h:mm:ss a', // 11:20:01 AM\n\t\t\t\thour: 'MMM D, hA', // Sept 4, 5PM\n\t\t\t\tday: 'll', // Sep 4 2015\n\t\t\t\tweek: 'll', // Week 46, or maybe \"[W]WW - YYYY\" ?\n\t\t\t\tmonth: 'MMM YYYY', // Sept 2015\n\t\t\t\tquarter: '[Q]Q - YYYY', // Q3\n\t\t\t\tyear: 'YYYY' // 2015\n\t\t\t}\n\t\t},\n\t\tticks: {\n\t\t\tautoSkip: false\n\t\t}\n\t};\n\n\tvar TimeScale = Chart.Scale.extend({\n\t\tinitialize: function() {\n\t\t\tif (!moment) {\n\t\t\t\tthrow new Error('Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com');\n\t\t\t}\n\n\t\t\tChart.Scale.prototype.initialize.call(this);\n\t\t},\n\t\tgetLabelMoment: function(datasetIndex, index) {\n\t\t\tif (datasetIndex === null || index === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (typeof this.labelMoments[datasetIndex] !== 'undefined') {\n\t\t\t\treturn this.labelMoments[datasetIndex][index];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tgetLabelDiff: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tif (datasetIndex === null || index === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (me.labelDiffs === undefined) {\n\t\t\t\tme.buildLabelDiffs();\n\t\t\t}\n\n\t\t\tif (typeof me.labelDiffs[datasetIndex] !== 'undefined') {\n\t\t\t\treturn me.labelDiffs[datasetIndex][index];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tgetMomentStartOf: function(tick) {\n\t\t\tvar me = this;\n\t\t\tif (me.options.time.unit === 'week' && me.options.time.isoWeekday !== false) {\n\t\t\t\treturn tick.clone().startOf('isoWeek').isoWeekday(me.options.time.isoWeekday);\n\t\t\t}\n\t\t\treturn tick.clone().startOf(me.tickUnit);\n\t\t},\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tme.labelMoments = [];\n\n\t\t\t// Only parse these once. If the dataset does not have data as x,y pairs, we will use\n\t\t\t// these\n\t\t\tvar scaleLabelMoments = [];\n\t\t\tif (me.chart.data.labels && me.chart.data.labels.length > 0) {\n\t\t\t\thelpers.each(me.chart.data.labels, function(label) {\n\t\t\t\t\tvar labelMoment = me.parseTime(label);\n\n\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tscaleLabelMoments.push(labelMoment);\n\t\t\t\t\t}\n\t\t\t\t}, me);\n\n\t\t\t\tme.firstTick = moment.min.call(me, scaleLabelMoments);\n\t\t\t\tme.lastTick = moment.max.call(me, scaleLabelMoments);\n\t\t\t} else {\n\t\t\t\tme.firstTick = null;\n\t\t\t\tme.lastTick = null;\n\t\t\t}\n\n\t\t\thelpers.each(me.chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar momentsForDataset = [];\n\t\t\t\tvar datasetVisible = me.chart.isDatasetVisible(datasetIndex);\n\n\t\t\t\tif (typeof dataset.data[0] === 'object' && dataset.data[0] !== null) {\n\t\t\t\t\thelpers.each(dataset.data, function(value) {\n\t\t\t\t\t\tvar labelMoment = me.parseTime(me.getRightValue(value));\n\n\t\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmomentsForDataset.push(labelMoment);\n\n\t\t\t\t\t\t\tif (datasetVisible) {\n\t\t\t\t\t\t\t\t// May have gone outside the scale ranges, make sure we keep the first and last ticks updated\n\t\t\t\t\t\t\t\tme.firstTick = me.firstTick !== null ? moment.min(me.firstTick, labelMoment) : labelMoment;\n\t\t\t\t\t\t\t\tme.lastTick = me.lastTick !== null ? moment.max(me.lastTick, labelMoment) : labelMoment;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, me);\n\t\t\t\t} else {\n\t\t\t\t\t// We have no labels. Use the ones from the scale\n\t\t\t\t\tmomentsForDataset = scaleLabelMoments;\n\t\t\t\t}\n\n\t\t\t\tme.labelMoments.push(momentsForDataset);\n\t\t\t}, me);\n\n\t\t\t// Set these after we've done all the data\n\t\t\tif (me.options.time.min) {\n\t\t\t\tme.firstTick = me.parseTime(me.options.time.min);\n\t\t\t}\n\n\t\t\tif (me.options.time.max) {\n\t\t\t\tme.lastTick = me.parseTime(me.options.time.max);\n\t\t\t}\n\n\t\t\t// We will modify these, so clone for later\n\t\t\tme.firstTick = (me.firstTick || moment()).clone();\n\t\t\tme.lastTick = (me.lastTick || moment()).clone();\n\t\t},\n\t\tbuildLabelDiffs: function() {\n\t\t\tvar me = this;\n\t\t\tme.labelDiffs = [];\n\t\t\tvar scaleLabelDiffs = [];\n\t\t\t// Parse common labels once\n\t\t\tif (me.chart.data.labels && me.chart.data.labels.length > 0) {\n\t\t\t\thelpers.each(me.chart.data.labels, function(label) {\n\t\t\t\t\tvar labelMoment = me.parseTime(label);\n\n\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tscaleLabelDiffs.push(labelMoment.diff(me.firstTick, me.tickUnit, true));\n\t\t\t\t\t}\n\t\t\t\t}, me);\n\t\t\t}\n\n\t\t\thelpers.each(me.chart.data.datasets, function(dataset) {\n\t\t\t\tvar diffsForDataset = [];\n\n\t\t\t\tif (typeof dataset.data[0] === 'object' && dataset.data[0] !== null) {\n\t\t\t\t\thelpers.each(dataset.data, function(value) {\n\t\t\t\t\t\tvar labelMoment = me.parseTime(me.getRightValue(value));\n\n\t\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdiffsForDataset.push(labelMoment.diff(me.firstTick, me.tickUnit, true));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, me);\n\t\t\t\t} else {\n\t\t\t\t\t// We have no labels. Use common ones\n\t\t\t\t\tdiffsForDataset = scaleLabelDiffs;\n\t\t\t\t}\n\n\t\t\t\tme.labelDiffs.push(diffsForDataset);\n\t\t\t}, me);\n\t\t},\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\n\t\t\tme.ctx.save();\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(me.options.ticks.fontSize, Chart.defaults.global.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(me.options.ticks.fontStyle, Chart.defaults.global.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(me.options.ticks.fontFamily, Chart.defaults.global.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\t\t\tme.ctx.font = tickLabelFont;\n\n\t\t\tme.ticks = [];\n\t\t\tme.unitScale = 1; // How much we scale the unit by, ie 2 means 2x unit per step\n\t\t\tme.scaleSizeInUnits = 0; // How large the scale is in the base unit (seconds, minutes, etc)\n\n\t\t\t// Set unit override if applicable\n\t\t\tif (me.options.time.unit) {\n\t\t\t\tme.tickUnit = me.options.time.unit || 'day';\n\t\t\t\tme.displayFormat = me.options.time.displayFormats[me.tickUnit];\n\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\tme.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, 1);\n\t\t\t} else {\n\t\t\t\t// Determine the smallest needed unit of the time\n\t\t\t\tvar innerWidth = me.isHorizontal() ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);\n\n\t\t\t\t// Crude approximation of what the label length might be\n\t\t\t\tvar tempFirstLabel = me.tickFormatFunction(me.firstTick, 0, []);\n\t\t\t\tvar tickLabelWidth = me.ctx.measureText(tempFirstLabel).width;\n\t\t\t\tvar cosRotation = Math.cos(helpers.toRadians(me.options.ticks.maxRotation));\n\t\t\t\tvar sinRotation = Math.sin(helpers.toRadians(me.options.ticks.maxRotation));\n\t\t\t\ttickLabelWidth = (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation);\n\t\t\t\tvar labelCapacity = innerWidth / (tickLabelWidth);\n\n\t\t\t\t// Start as small as possible\n\t\t\t\tme.tickUnit = me.options.time.minUnit;\n\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\tme.displayFormat = me.options.time.displayFormats[me.tickUnit];\n\n\t\t\t\tvar unitDefinitionIndex = 0;\n\t\t\t\tvar unitDefinition = time.units[unitDefinitionIndex];\n\n\t\t\t\t// While we aren't ideal and we don't have units left\n\t\t\t\twhile (unitDefinitionIndex < time.units.length) {\n\t\t\t\t\t// Can we scale this unit. If `false` we can scale infinitely\n\t\t\t\t\tme.unitScale = 1;\n\n\t\t\t\t\tif (helpers.isArray(unitDefinition.steps) && Math.ceil(me.scaleSizeInUnits / labelCapacity) < helpers.max(unitDefinition.steps)) {\n\t\t\t\t\t\t// Use one of the prefedined steps\n\t\t\t\t\t\tfor (var idx = 0; idx < unitDefinition.steps.length; ++idx) {\n\t\t\t\t\t\t\tif (unitDefinition.steps[idx] >= Math.ceil(me.scaleSizeInUnits / labelCapacity)) {\n\t\t\t\t\t\t\t\tme.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, unitDefinition.steps[idx]);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if ((unitDefinition.maxStep === false) || (Math.ceil(me.scaleSizeInUnits / labelCapacity) < unitDefinition.maxStep)) {\n\t\t\t\t\t\t// We have a max step. Scale this unit\n\t\t\t\t\t\tme.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, Math.ceil(me.scaleSizeInUnits / labelCapacity));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Move to the next unit up\n\t\t\t\t\t\t++unitDefinitionIndex;\n\t\t\t\t\t\tunitDefinition = time.units[unitDefinitionIndex];\n\n\t\t\t\t\t\tme.tickUnit = unitDefinition.name;\n\t\t\t\t\t\tvar leadingUnitBuffer = me.firstTick.diff(me.getMomentStartOf(me.firstTick), me.tickUnit, true);\n\t\t\t\t\t\tvar trailingUnitBuffer = me.getMomentStartOf(me.lastTick.clone().add(1, me.tickUnit)).diff(me.lastTick, me.tickUnit, true);\n\t\t\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true) + leadingUnitBuffer + trailingUnitBuffer;\n\t\t\t\t\t\tme.displayFormat = me.options.time.displayFormats[unitDefinition.name];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar roundedStart;\n\n\t\t\t// Only round the first tick if we have no hard minimum\n\t\t\tif (!me.options.time.min) {\n\t\t\t\tme.firstTick = me.getMomentStartOf(me.firstTick);\n\t\t\t\troundedStart = me.firstTick;\n\t\t\t} else {\n\t\t\t\troundedStart = me.getMomentStartOf(me.firstTick);\n\t\t\t}\n\n\t\t\t// Only round the last tick if we have no hard maximum\n\t\t\tif (!me.options.time.max) {\n\t\t\t\tvar roundedEnd = me.getMomentStartOf(me.lastTick);\n\t\t\t\tvar delta = roundedEnd.diff(me.lastTick, me.tickUnit, true);\n\t\t\t\tif (delta < 0) {\n\t\t\t\t\t// Do not use end of because we need me to be in the next time unit\n\t\t\t\t\tme.lastTick = me.getMomentStartOf(me.lastTick.add(1, me.tickUnit));\n\t\t\t\t} else if (delta >= 0) {\n\t\t\t\t\tme.lastTick = roundedEnd;\n\t\t\t\t}\n\n\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t}\n\n\t\t\t// Tick displayFormat override\n\t\t\tif (me.options.time.displayFormat) {\n\t\t\t\tme.displayFormat = me.options.time.displayFormat;\n\t\t\t}\n\n\t\t\t// first tick. will have been rounded correctly if options.time.min is not specified\n\t\t\tme.ticks.push(me.firstTick.clone());\n\n\t\t\t// For every unit in between the first and last moment, create a moment and add it to the ticks tick\n\t\t\tfor (var i = 1; i <= me.scaleSizeInUnits; ++i) {\n\t\t\t\tvar newTick = roundedStart.clone().add(i, me.tickUnit);\n\n\t\t\t\t// Are we greater than the max time\n\t\t\t\tif (me.options.time.max && newTick.diff(me.lastTick, me.tickUnit, true) >= 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (i % me.unitScale === 0) {\n\t\t\t\t\tme.ticks.push(newTick);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Always show the right tick\n\t\t\tvar diff = me.ticks[me.ticks.length - 1].diff(me.lastTick, me.tickUnit);\n\t\t\tif (diff !== 0 || me.scaleSizeInUnits === 0) {\n\t\t\t\t// this is a weird case. If the <max> option is the same as the end option, we can't just diff the times because the tick was created from the roundedStart\n\t\t\t\t// but the last tick was not rounded.\n\t\t\t\tif (me.options.time.max) {\n\t\t\t\t\tme.ticks.push(me.lastTick.clone());\n\t\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.ticks[0], me.tickUnit, true);\n\t\t\t\t} else {\n\t\t\t\t\tme.ticks.push(me.lastTick.clone());\n\t\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.ctx.restore();\n\n\t\t\t// Invalidate label diffs cache\n\t\t\tme.labelDiffs = undefined;\n\t\t},\n\t\t// Get tooltip label\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar label = me.chart.data.labels && index < me.chart.data.labels.length ? me.chart.data.labels[index] : '';\n\n\t\t\tif (typeof me.chart.data.datasets[datasetIndex].data[0] === 'object') {\n\t\t\t\tlabel = me.getRightValue(me.chart.data.datasets[datasetIndex].data[index]);\n\t\t\t}\n\n\t\t\t// Format nicely\n\t\t\tif (me.options.time.tooltipFormat) {\n\t\t\t\tlabel = me.parseTime(label).format(me.options.time.tooltipFormat);\n\t\t\t}\n\n\t\t\treturn label;\n\t\t},\n\t\t// Function to format an individual tick mark\n\t\ttickFormatFunction: function(tick, index, ticks) {\n\t\t\tvar formattedTick = tick.format(this.displayFormat);\n\t\t\tvar tickOpts = this.options.ticks;\n\t\t\tvar callback = helpers.getValueOrDefault(tickOpts.callback, tickOpts.userCallback);\n\n\t\t\tif (callback) {\n\t\t\t\treturn callback(formattedTick, index, ticks);\n\t\t\t}\n\t\t\treturn formattedTick;\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.tickMoments = me.ticks;\n\t\t\tme.ticks = me.ticks.map(me.tickFormatFunction, me);\n\t\t},\n\t\tgetPixelForValue: function(value, index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar offset = null;\n\t\t\tif (index !== undefined && datasetIndex !== undefined) {\n\t\t\t\toffset = me.getLabelDiff(datasetIndex, index);\n\t\t\t}\n\n\t\t\tif (offset === null) {\n\t\t\t\tif (!value || !value.isValid) {\n\t\t\t\t\t// not already a moment object\n\t\t\t\t\tvalue = me.parseTime(me.getRightValue(value));\n\t\t\t\t}\n\t\t\t\tif (value && value.isValid && value.isValid()) {\n\t\t\t\t\toffset = value.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (offset !== null) {\n\t\t\t\tvar decimal = offset !== 0 ? offset / me.scaleSizeInUnits : offset;\n\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\t\tvar valueOffset = (innerWidth * decimal) + me.paddingLeft;\n\n\t\t\t\t\treturn me.left + Math.round(valueOffset);\n\t\t\t\t}\n\t\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\t\tvar heightOffset = (innerHeight * decimal) + me.paddingTop;\n\n\t\t\t\treturn me.top + Math.round(heightOffset);\n\t\t\t}\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.tickMoments[index], null, null);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar innerDimension = me.isHorizontal() ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);\n\t\t\tvar offset = (pixel - (me.isHorizontal() ? me.left + me.paddingLeft : me.top + me.paddingTop)) / innerDimension;\n\t\t\toffset *= me.scaleSizeInUnits;\n\t\t\treturn me.firstTick.clone().add(moment.duration(offset, me.tickUnit).asSeconds(), 'seconds');\n\t\t},\n\t\tparseTime: function(label) {\n\t\t\tvar me = this;\n\t\t\tif (typeof me.options.time.parser === 'string') {\n\t\t\t\treturn moment(label, me.options.time.parser);\n\t\t\t}\n\t\t\tif (typeof me.options.time.parser === 'function') {\n\t\t\t\treturn me.options.time.parser(label);\n\t\t\t}\n\t\t\t// Date objects\n\t\t\tif (typeof label.getMonth === 'function' || typeof label === 'number') {\n\t\t\t\treturn moment(label);\n\t\t\t}\n\t\t\t// Moment support\n\t\t\tif (label.isValid && label.isValid()) {\n\t\t\t\treturn label;\n\t\t\t}\n\t\t\t// Custom parsing (return an instance of moment)\n\t\t\tif (typeof me.options.time.format !== 'string' && me.options.time.format.call) {\n\t\t\t\tconsole.warn('options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale');\n\t\t\t\treturn me.options.time.format(label);\n\t\t\t}\n\t\t\t// Moment format parsing\n\t\t\treturn moment(label, me.options.time.format);\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('time', TimeScale, defaultConfig);\n\n};\n\n},{\"1\":1}]},{},[7])(7)\n});","     /*!\n * angular-chart.js - An angular.js wrapper for Chart.js\n * http://jtblin.github.io/angular-chart.js/\n * Version: 1.1.1\n *\n * Copyright 2016 Jerome Touffe-Blin\n * Released under the BSD-2-Clause license\n * https://github.com/jtblin/angular-chart.js/blob/master/LICENSE\n */\n(function (factory) {\n  'use strict';\n  if (typeof exports === 'object') {\n    // Node/CommonJS\n    module.exports = factory(\n      typeof angular !== 'undefined' ? angular : require('angular'),\n      typeof Chart !== 'undefined' ? Chart : require('chart.js'));\n  }  else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['angular', 'chart'], factory);\n  } else {\n    // Browser globals\n    if (typeof angular === 'undefined') {\n        throw new Error('AngularJS framework needs to be included, see https://angularjs.org/');\n    } else if (typeof Chart === 'undefined') {\n      throw new Error('Chart.js library needs to be included, see http://jtblin.github.io/angular-chart.js/');\n    }\n    factory(angular, Chart);\n  }\n}(function (angular, Chart) {\n  'use strict';\n\n  Chart.defaults.global.multiTooltipTemplate = '<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>';\n  Chart.defaults.global.tooltips.mode = 'label';\n  Chart.defaults.global.elements.line.borderWidth = 2;\n  Chart.defaults.global.elements.rectangle.borderWidth = 2;\n  Chart.defaults.global.legend.display = false;\n  Chart.defaults.global.colors = [\n    '#97BBCD', // blue\n    '#DCDCDC', // light grey\n    '#F7464A', // red\n    '#46BFBD', // green\n    '#FDB45C', // yellow\n    '#949FB1', // grey\n    '#4D5360'  // dark grey\n  ];\n\n  var useExcanvas = typeof window.G_vmlCanvasManager === 'object' &&\n    window.G_vmlCanvasManager !== null &&\n    typeof window.G_vmlCanvasManager.initElement === 'function';\n\n  if (useExcanvas) Chart.defaults.global.animation = false;\n\n  return angular.module('chart.js', [])\n    .provider('ChartJs', ChartJsProvider)\n    .factory('ChartJsFactory', ['ChartJs', '$timeout', ChartJsFactory])\n    .directive('chartBase', ['ChartJsFactory', function (ChartJsFactory) { return new ChartJsFactory(); }])\n    .directive('chartLine', ['ChartJsFactory', function (ChartJsFactory) { return new ChartJsFactory('line'); }])\n    .directive('chartBar', ['ChartJsFactory', function (ChartJsFactory) { return new ChartJsFactory('bar'); }])\n    .directive('chartHorizontalBar', ['ChartJsFactory', function (ChartJsFactory) { return new ChartJsFactory('horizontalBar'); }])\n    .directive('chartRadar', ['ChartJsFactory', function (ChartJsFactory) { return new ChartJsFactory('radar'); }])\n    .directive('chartDoughnut', ['ChartJsFactory', function (ChartJsFactory) { return new ChartJsFactory('doughnut'); }])\n    .directive('chartPie', ['ChartJsFactory', function (ChartJsFactory) { return new ChartJsFactory('pie'); }])\n    .directive('chartPolarArea', ['ChartJsFactory', function (ChartJsFactory) { return new ChartJsFactory('polarArea'); }])\n    .directive('chartBubble', ['ChartJsFactory', function (ChartJsFactory) { return new ChartJsFactory('bubble'); }])\n    .name;\n\n  /**\n   * Wrapper for chart.js\n   * Allows configuring chart js using the provider\n   *\n   * angular.module('myModule', ['chart.js']).config(function(ChartJsProvider) {\n   *   ChartJsProvider.setOptions({ responsive: false });\n   *   ChartJsProvider.setOptions('Line', { responsive: true });\n   * })))\n   */\n  function ChartJsProvider () {\n    var options = { responsive: true };\n    var ChartJs = {\n      Chart: Chart,\n      getOptions: function (type) {\n        var typeOptions = type && options[type] || {};\n        return angular.extend({}, options, typeOptions);\n      }\n    };\n\n    /**\n     * Allow to set global options during configuration\n     */\n    this.setOptions = function (type, customOptions) {\n      // If no type was specified set option for the global object\n      if (! customOptions) {\n        customOptions = type;\n        options = angular.merge(options, customOptions);\n      } else {\n        // Set options for the specific chart\n        options[type] = angular.merge(options[type] || {}, customOptions);\n      }\n\n      angular.merge(ChartJs.Chart.defaults, options);\n    };\n\n    this.$get = function () {\n      return ChartJs;\n    };\n  }\n\n  function ChartJsFactory (ChartJs, $timeout) {\n    return function chart (type) {\n      return {\n        restrict: 'CA',\n        scope: {\n          chartGetColor: '=?',\n          chartType: '=',\n          chartData: '=?',\n          chartLabels: '=?',\n          chartOptions: '=?',\n          chartSeries: '=?',\n          chartColors: '=?',\n          chartClick: '=?',\n          chartHover: '=?',\n          chartDatasetOverride: '=?'\n        },\n        link: function (scope, elem/*, attrs */) {\n          if (useExcanvas) window.G_vmlCanvasManager.initElement(elem[0]);\n\n          // Order of setting \"watch\" matter\n          scope.$watch('chartData', watchData, true);\n          scope.$watch('chartSeries', watchOther, true);\n          scope.$watch('chartLabels', watchOther, true);\n          scope.$watch('chartOptions', watchOther, true);\n          scope.$watch('chartColors', watchOther, true);\n          scope.$watch('chartDatasetOverride', watchOther, true);\n          scope.$watch('chartType', watchType, false);\n\n          scope.$on('$destroy', function () {\n            destroyChart(scope);\n          });\n\n          scope.$on('$resize', function () {\n            if (scope.chart) scope.chart.resize();\n          });\n\n          function watchData (newVal, oldVal) {\n            if (! newVal || ! newVal.length || (Array.isArray(newVal[0]) && ! newVal[0].length)) {\n              destroyChart(scope);\n              return;\n            }\n            var chartType = type || scope.chartType;\n            if (! chartType) return;\n\n            if (scope.chart && canUpdateChart(newVal, oldVal))\n              return updateChart(newVal, scope);\n\n            createChart(chartType, scope, elem);\n          }\n\n          function watchOther (newVal, oldVal) {\n            if (isEmpty(newVal)) return;\n            if (angular.equals(newVal, oldVal)) return;\n            var chartType = type || scope.chartType;\n            if (! chartType) return;\n\n            // chart.update() doesn't work for series and labels\n            // so we have to re-create the chart entirely\n            createChart(chartType, scope, elem);\n          }\n\n          function watchType (newVal, oldVal) {\n            if (isEmpty(newVal)) return;\n            if (angular.equals(newVal, oldVal)) return;\n            createChart(newVal, scope, elem);\n          }\n        }\n      };\n    };\n\n    function createChart (type, scope, elem) {\n      var options = getChartOptions(type, scope);\n      if (! hasData(scope) || ! canDisplay(type, scope, elem, options)) return;\n\n      var cvs = elem[0];\n      var ctx = cvs.getContext('2d');\n\n      scope.chartGetColor = getChartColorFn(scope);\n      var data = getChartData(type, scope);\n      // Destroy old chart if it exists to avoid ghost charts issue\n      // https://github.com/jtblin/angular-chart.js/issues/187\n      destroyChart(scope);\n\n      scope.chart = new ChartJs.Chart(ctx, {\n        type: type,\n        data: data,\n        options: options\n      });\n      scope.$emit('chart-create', scope.chart);\n      bindEvents(cvs, scope);\n    }\n\n    function canUpdateChart (newVal, oldVal) {\n      if (newVal && oldVal && newVal.length && oldVal.length) {\n        return Array.isArray(newVal[0]) ?\n        newVal.length === oldVal.length && newVal.every(function (element, index) {\n          return element.length === oldVal[index].length; }) :\n          oldVal.reduce(sum, 0) > 0 ? newVal.length === oldVal.length : false;\n      }\n      return false;\n    }\n\n    function sum (carry, val) {\n      return carry + val;\n    }\n\n    function getEventHandler (scope, action, triggerOnlyOnChange) {\n      var lastState = {\n        point: void 0,\n        points: void 0\n      };\n      return function (evt) {\n        var atEvent = scope.chart.getElementAtEvent || scope.chart.getPointAtEvent;\n        var atEvents = scope.chart.getElementsAtEvent || scope.chart.getPointsAtEvent;\n        if (atEvents) {\n          var points = atEvents.call(scope.chart, evt);\n          var point = atEvent ? atEvent.call(scope.chart, evt)[0] : void 0;\n\n          if (triggerOnlyOnChange === false ||\n            (! angular.equals(lastState.points, points) && ! angular.equals(lastState.point, point))\n          ) {\n            lastState.point = point;\n            lastState.points = points;\n            scope[action](points, evt, point);\n          }\n        }\n      };\n    }\n\n    function getColors (type, scope) {\n      var colors = angular.copy(scope.chartColors ||\n        ChartJs.getOptions(type).chartColors ||\n        Chart.defaults.global.colors\n      );\n      var notEnoughColors = colors.length < scope.chartData.length;\n      while (colors.length < scope.chartData.length) {\n        colors.push(scope.chartGetColor());\n      }\n      // mutate colors in this case as we don't want\n      // the colors to change on each refresh\n      if (notEnoughColors) scope.chartColors = colors;\n      return colors.map(convertColor);\n    }\n\n    function convertColor (color) {\n      // Allows RGB and RGBA colors to be input as a string: e.g.: \"rgb(159,204,0)\", \"rgba(159,204,0, 0.5)\"\n      if (typeof color === 'string' && color[0] === 'r') return getColor(rgbStringToRgb(color));\n      // Allows hex colors to be input as a string.\n      if (typeof color === 'string' && color[0] === '#') return getColor(hexToRgb(color.substr(1)));\n      // Allows colors to be input as an object, bypassing getColor() entirely\n      if (typeof color === 'object' && color !== null) return color;\n      return getRandomColor();\n    }\n\n    function getRandomColor () {\n      var color = [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\n      return getColor(color);\n    }\n\n    function getColor (color) {\n      var alpha = color[3] || 1;\n      color = color.slice(0, 3);\n      return {\n        backgroundColor: rgba(color, 0.2),\n        pointBackgroundColor: rgba(color, alpha),\n        pointHoverBackgroundColor: rgba(color, 0.8),\n        borderColor: rgba(color, alpha),\n        pointBorderColor: '#fff',\n        pointHoverBorderColor: rgba(color, alpha)\n      };\n    }\n\n    function getRandomInt (min, max) {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n\n    function rgba (color, alpha) {\n      // rgba not supported by IE8\n      return useExcanvas ? 'rgb(' + color.join(',') + ')' : 'rgba(' + color.concat(alpha).join(',') + ')';\n    }\n\n    // Credit: http://stackoverflow.com/a/11508164/1190235\n    function hexToRgb (hex) {\n      var bigint = parseInt(hex, 16),\n        r = (bigint >> 16) & 255,\n        g = (bigint >> 8) & 255,\n        b = bigint & 255;\n\n      return [r, g, b];\n    }\n\n    function rgbStringToRgb (color) {\n      var match = color.match(/^rgba?\\(([\\d,.]+)\\)$/);\n      if (! match) throw new Error('Cannot parse rgb value');\n      color = match[1].split(',');\n      return color.map(Number);\n    }\n\n    function hasData (scope) {\n      return scope.chartData && scope.chartData.length;\n    }\n\n    function getChartColorFn (scope) {\n      return typeof scope.chartGetColor === 'function' ? scope.chartGetColor : getRandomColor;\n    }\n\n    function getChartData (type, scope) {\n      var colors = getColors(type, scope);\n      return Array.isArray(scope.chartData[0]) ?\n        getDataSets(scope.chartLabels, scope.chartData, scope.chartSeries || [], colors, scope.chartDatasetOverride) :\n        getData(scope.chartLabels, scope.chartData, colors, scope.chartDatasetOverride);\n    }\n\n    function getDataSets (labels, data, series, colors, datasetOverride) {\n      return {\n        labels: labels,\n        datasets: data.map(function (item, i) {\n          var dataset = angular.extend({}, colors[i], {\n            label: series[i],\n            data: item\n          });\n          if (datasetOverride && datasetOverride.length >= i) {\n            angular.merge(dataset, datasetOverride[i]);\n          }\n          return dataset;\n        })\n      };\n    }\n\n    function getData (labels, data, colors, datasetOverride) {\n      var dataset = {\n        labels: labels,\n        datasets: [{\n          data: data,\n          backgroundColor: colors.map(function (color) {\n            return color.pointBackgroundColor;\n          }),\n          hoverBackgroundColor: colors.map(function (color) {\n            return color.backgroundColor;\n          })\n        }]\n      };\n      if (datasetOverride) {\n        angular.merge(dataset.datasets[0], datasetOverride);\n      }\n      return dataset;\n    }\n\n    function getChartOptions (type, scope) {\n      return angular.extend({}, ChartJs.getOptions(type), scope.chartOptions);\n    }\n\n    function bindEvents (cvs, scope) {\n      cvs.onclick = scope.chartClick ? getEventHandler(scope, 'chartClick', false) : angular.noop;\n      cvs.onmousemove = scope.chartHover ? getEventHandler(scope, 'chartHover', true) : angular.noop;\n    }\n\n    function updateChart (values, scope) {\n      if (Array.isArray(scope.chartData[0])) {\n        scope.chart.data.datasets.forEach(function (dataset, i) {\n          dataset.data = values[i];\n        });\n      } else {\n        scope.chart.data.datasets[0].data = values;\n      }\n\n      scope.chart.update();\n      scope.$emit('chart-update', scope.chart);\n    }\n\n    function isEmpty (value) {\n      return ! value ||\n        (Array.isArray(value) && ! value.length) ||\n        (typeof value === 'object' && ! Object.keys(value).length);\n    }\n\n    function canDisplay (type, scope, elem, options) {\n      // TODO: check parent?\n      if (options.responsive && elem[0].clientHeight === 0) {\n        $timeout(function () {\n          createChart(type, scope, elem);\n        }, 50, false);\n        return false;\n      }\n      return true;\n    }\n\n    function destroyChart(scope) {\n      if(! scope.chart) return;\n      scope.chart.destroy();\n      scope.$emit('chart-destroy', scope.chart);\n    }\n  }\n}));\n","angular.module(\"app\").service(\"mainSvc\", function ($http) {\n    // this.test = \"Service working\"\n    this.getauth0 = function () {\n        return $http({\n            method: \"GET\",\n            url: \"/auth\"\n        })\n    }\n    // this.createEvent= (event) =>{\n    //     console.log('Service', event)\n    //     return $http({\n    //         url: '/api/create-event',\n    //         method: 'POST',\n    //         data: event\n    //     }).then((res) => {\n    //         return res.data\n    //     })\n    // }\n\n    this.addEvent = (event) => {\n        return $http({\n            url:'/api/add-event',\n            method: 'POST',\n            data: event\n        })\n\n    }  \n    // this.getEvents = () => {\n    //     console.log()\n    //     return $http({\n    //         url: '/api/get-events',\n    //         method: 'GET'\n    //     }).then((res) => {\n    //         console.log()\n    //        return res.data.events\n    //    })\n    // }\n    this.recieveEvent = () => {\n        console.log(event)\n        return $http({\n            url:'/api/receive-event',\n            method: 'GET'\n        }).then((res) => {\n            return res.data\n        })\n    }\n   \n   this.getGrades = () => {\n       return $http({\n           url: '/api/get-grades',\n           method: 'GET'\n       })\n       .then((res) => {\n           return res.data\n       })\n   }\n\n   this.postGrades = (grades) => {\n       return $http({\n           url: '/api/update-grades',\n           method: \"POST\",\n           data: grades\n       })\n       \n   }\n\n   this.getUser = () => {\n       console.log(\"Service\")\n       return $http({\n           url: '/auth/me',\n           method: 'GET'\n       }).then((res) => {\n       return res\n       }).catch((err) => {\n          console.log('string')\n       })\n\n       \n   }\n\n})"]}